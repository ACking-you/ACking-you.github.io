[{"categories":["ç°ä»£C++è¯­æ³•"],"content":"C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘","date":"2022-02-04","objectID":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/","tags":["C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘"],"title":"C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘","uri":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"ä»€ä¹ˆæ˜¯å®Œç¾è½¬å‘ï¼Ÿ ç†Ÿæ‚‰ç°ä»£C++è¯­æ³•çš„éƒ½åº”è¯¥æ¸…æ¥šï¼ŒC++æŠŠå˜é‡åˆ†ä¸ºå·¦å€¼å’Œå³å€¼ï¼Œä¸ºäº†å®ç°å¯¹èµ„æºçš„è½¬ç§»è€Œä¸æ˜¯æ‹·è´ï¼Œå³å€¼å’Œå¯¹åº”çš„ç§»åŠ¨æ„é€ å‡½æ•°åº”è¿è€Œç”Ÿï¼Œä½†æˆ‘ä»¬å‘ç°ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¹¶ä¸èƒ½æŠŠå·¦å€¼å’Œå³å€¼ç²¾ç¡®çš„ä¼ é€’ç»™å¯¹åº”ç‰ˆæœ¬çš„å‡½æ•°è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚ä¸‹é¢ä¸€ä¸ªç®€å•çš„ä»£ç ï¼Œä½ ä¼šå‘ç°å³ä½¿æˆ‘ä»¬æŠŠå‡½æ•°çš„å‚æ•°ç±»å‹è®¾ç½®ä¸ºå³å€¼å¼•ç”¨ï¼Œä½†å½“æ‹¿å®ƒå»è°ƒç”¨å¯¹åº”çš„æ„é€ å‡½æ•°æ—¶ï¼Œå®ƒç»™å‡ºçš„ç«Ÿç„¶æ˜¯æ‹·è´æ„é€ ï¼æ•…è¿™ä¸ªè½¬å‘è¿˜ä¸å¤Ÿå®Œç¾ï¼ #include\u003ciostream\u003eusing namespace std; class test{ public: test() = default; test(test\u0026\u0026 p){ cout\u003c\u003c\"move construct call\"\u003c\u003cendl; } test(const test\u0026 p){ cout\u003c\u003c\"copy construct call\"\u003c\u003cendl; } }; void test_fun(test\u0026\u0026 p){ test q(p); return; } int main() { test_fun(test()); return 0; } ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ å› ä¸ºæ— è®ºä¼ å…¥çš„å½¢å‚æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ï¼Œå¯¹äºå‡½æ•°å†…éƒ¨æ¥è¯´ï¼Œå½¢å‚æ—¢æœ‰åç§°åˆèƒ½å¯»å€ï¼Œå› æ­¤å®ƒéƒ½è¢«è®¤ä¸ºæ˜¯å·¦å€¼ã€‚ ","date":"2022-02-04","objectID":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/:1:0","tags":["C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘"],"title":"C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘","uri":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"å¦‚ä½•å®ç°å®Œç¾è½¬å‘ï¼Ÿ å®ç°å®Œç¾è½¬å‘å¾ˆç®€å•ï¼Œæˆ‘ä»¬åœ¨ç°ä»£C++ä¸­åªéœ€è¦ forward\u003cT\u003e è¿™ä¸ªæ¨¡æ¿å‡½æ•°å³å¯å®Œæˆï¼Œå…¶å®é™…åŸç†å°±æ˜¯åˆ©ç”¨çš„ C++11 æ¨¡æ¿ä¸­æä¾›çš„æŠ˜å å¼•ç”¨çš„è¯­æ³•ï¼Œæœ€ç»ˆè¾¾åˆ°çš„æ•ˆæœå°±æ˜¯ï¼ŒæŠŠå‚æ•°çš„ç±»å‹å¼ºåˆ¶è½¬æ¢ä¸ºå®ƒè¯¥æœ‰çš„ç±»å‹ï¼Œæ˜¯å·¦å€¼å°±è½¬ä¸ºå·¦å€¼ï¼Œæ˜¯å³å€¼å°±è½¬ä¸ºå³å€¼ï¼Œä»è€Œå®ç°è¯¥è°ƒç”¨å“ªä¸ªç‰ˆæœ¬çš„å‡½æ•°å°±è°ƒç”¨å“ªä¸ªç‰ˆæœ¬çš„å‡½æ•°ï¼Œä¸å†åªè¢«è®¤å®šä¸ºå³å€¼äº†ï¼ å…ˆå‰çš„ä»£ç å¯ä»¥å¦‚æ­¤å®ç°å®Œç¾è½¬å‘ï¼š #include\u003ciostream\u003eusing namespace std; class test{ public: test() = default; test(test\u0026\u0026 p){ cout\u003c\u003c\"move construct call\"\u003c\u003cendl; } test(const test\u0026 p){ cout\u003c\u003c\"copy construct call\"\u003c\u003cendl; } }; void test_fun(test\u0026\u0026 p){ test q(forward\u003ctest\u003e(p)); //ä¿®æ”¹çš„åœ°æ–¹ return; } int main() { test_fun(test()); return 0; } ","date":"2022-02-04","objectID":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/:2:0","tags":["C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘"],"title":"C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘","uri":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"ä»»ä½•æ¨¡æ¿åº“éƒ½ç¦»ä¸å¼€å®Œç¾è½¬å‘ å…¶å®ç°åœ¨åªè¦æ˜¯C++çš„æ¨¡æ¿åº“ï¼Œæ²¡æœ‰å“ªä¸ªæ˜¯ä¸ç”¨å®Œç¾è½¬å‘çš„ï¼ŒåŒæ—¶å®Œç¾è½¬å‘çš„é—®é¢˜ä¹Ÿæ˜¯äº§ç”Ÿè‡ªæ¨¡æ¿ï¼Œè€Œ forward å‡½æ•°çš„å®ç°å…¶å®ä¹Ÿä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼Œå®é™…å°±æ˜¯åˆ©ç”¨ C++11 å¯¹æ¨¡æ¿æä¾›çš„ä¸‡èƒ½æŠ˜å è¯­ä¹‰ï¼š å½“å®å‚ä¸ºå·¦å€¼æˆ–è€…å·¦å€¼å¼•ç”¨ï¼ˆA\u0026ï¼‰æ—¶ï¼Œå‡½æ•°æ¨¡æ¿ä¸­ T\u0026\u0026 å°†è½¬å˜ä¸º A\u0026ï¼ˆA\u0026 \u0026\u0026 = A\u0026ï¼‰ï¼› å½“å®å‚ä¸ºå³å€¼æˆ–è€…å³å€¼å¼•ç”¨ï¼ˆA\u0026\u0026ï¼‰æ—¶ï¼Œå‡½æ•°æ¨¡æ¿ä¸­ T\u0026\u0026 å°†è½¬å˜ä¸º A\u0026\u0026ï¼ˆA\u0026\u0026 \u0026\u0026 = A\u0026\u0026ï¼‰ã€‚ ä»¥ä¸‹ä¸ºä¸€ä¸ªç®€å•çš„åˆ©ç”¨å®Œç¾è½¬å‘è®¾è®¡çš„åˆ›å»ºå·¥å‚ï¼š #include\u003ciostream\u003e#include \u003cmemory\u003e using namespace std; class test{ public: test() = default; test(int\u0026\u0026 arg):m_iData(arg){ cout\u003c\u003c\"move construct call\"\u003c\u003cendl; } test(const int\u0026 arg):m_iData(arg){ cout\u003c\u003c\"copy construct call\"\u003c\u003cendl; } private: int m_iData; }; template\u003ctypename T,typename Arg\u003e //ä¸ç›´æ¥ç”¨T\u0026\u0026çš„åŸå› åœ¨äºï¼Œå¦‚æœåªä½¿ç”¨ä¸€ä¸ªæ¨¡æ¿å‚æ•°ä¼šå¯¼è‡´factoryå‚æ•°æ— æ³•è·å¾—ä¸‡èƒ½å¼•ç”¨çš„æ•ˆæœ shared_ptr\u003cT\u003e factory(Arg\u0026\u0026 arg){ return shared_ptr\u003cT\u003e(new T(forward\u003cArg\u003e(arg)));//ä½¿ç”¨å®Œç¾è½¬å‘è°ƒç”¨æ­£ç¡®çš„æ„é€ å‡½æ•° } int main() { int val = 5; auto p1 = factory\u003ctest\u003e(val); auto p2 = factory\u003ctest\u003e(5); return 0; } ","date":"2022-02-04","objectID":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/:3:0","tags":["C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘"],"title":"C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘","uri":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"std::forwardçš„å®ç°åŸç† gcc çš„æºä»£ç å®ç°å¦‚ä¸‹ï¼š template\u003ctypename _Tp\u003e constexpr _Tp \u0026\u0026 forward(typename std::remove_reference\u003c_Tp\u003e::type \u0026__t) noexcept { return static_cast\u003c_Tp \u0026\u0026\u003e(__t); } template\u003ctypename _Tp\u003e constexpr _Tp \u0026\u0026 forward(typename std::remove_reference\u003c_Tp\u003e::type \u0026\u0026__t) noexcept { static_assert(!std::is_lvalue_reference\u003c_Tp\u003e::value, \"template argument\" \" substituting _Tp is an lvalue reference type\"); return static_cast\u003c_Tp \u0026\u0026\u003e(__t); } æˆ‘ä»¬å‘ç°ï¼Œæºä»£ç ä¸­å®ç°äº†ä¸¤ä¸ªæ¨¡æ¿ç‰¹åŒ–ï¼Œ_Tp\u0026 å’Œ _Tp\u0026\u0026 ä½†æœ€ç»ˆéƒ½æ˜¯é€šè¿‡ static_cast + æŠ˜å å¼•ç”¨çš„ç‰¹æ€§æ¥å®ç°å¼ºåˆ¶è½¬åŒ–çš„ã€‚ä¹Ÿå°±æ˜¯ç®€å•çš„å¼ºè½¬è€Œå·²ï¼ ","date":"2022-02-04","objectID":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/:4:0","tags":["C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘"],"title":"C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘","uri":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"æ”¶è· åœ¨è®¾è®¡æ¨¡æ¿åº“çš„æ—¶å€™ï¼Œå¦‚æœéœ€è¦æ ¹æ®å·¦å€¼å³å€¼è¯­ä¹‰æ¯”è¾ƒæ¸…æ™°çš„å®ç°è½¬å‘ï¼Œä¸€å®šè¦ç”¨forwardï¼Œå¦åˆ™å‚æ•°åªä¼šè¢«å½“ä½œå·¦å€¼ï¼ ","date":"2022-02-04","objectID":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/:5:0","tags":["C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘"],"title":"C++å³å€¼è¯­ä¹‰çš„åŸºçŸ³â€”â€”å®Œç¾è½¬å‘","uri":"/posts/c++%E5%8F%B3%E5%80%BC%E8%AF%AD%E4%B9%89%E7%9A%84%E5%9F%BA%E7%9F%B3%E5%AE%8C%E7%BE%8E%E8%BD%AC%E5%8F%91/"},{"categories":["ç®—æ³•â€”â€”è´ªå¿ƒ"],"content":"leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”å’Œä¸ºKçš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®","date":"2022-02-03","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%92%8C%E4%B8%BAk%E7%9A%84%E6%9C%80%E5%B0%91%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%AD%97%E6%95%B0%E7%9B%AE/","tags":["fibçš„è´ªå¿ƒå¯è¡Œæ€§"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”å’Œä¸ºKçš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%92%8C%E4%B8%BAk%E7%9A%84%E6%9C%80%E5%B0%91%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%AD%97%E6%95%B0%E7%9B%AE/"},{"categories":["ç®—æ³•â€”â€”è´ªå¿ƒ"],"content":"é¢˜ç›® é¢˜ç›®é“¾æ¥ ","date":"2022-02-03","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%92%8C%E4%B8%BAk%E7%9A%84%E6%9C%80%E5%B0%91%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%AD%97%E6%95%B0%E7%9B%AE/:1:0","tags":["fibçš„è´ªå¿ƒå¯è¡Œæ€§"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”å’Œä¸ºKçš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%92%8C%E4%B8%BAk%E7%9A%84%E6%9C%80%E5%B0%91%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%AD%97%E6%95%B0%E7%9B%AE/"},{"categories":["ç®—æ³•â€”â€”è´ªå¿ƒ"],"content":"é¢˜ç›®è¯¦è§£ æˆ‘å¼€å§‹æ˜¯æƒ³ç€æ„é€ å¥½fibæ•°ç»„çš„å€¼ï¼Œç„¶åç”¨èƒŒåŒ…é—®é¢˜å»è§£å†³å®ƒã€‚å¯æƒœï¼Œç›´æ¥è¶…æ—¶äº†ï¼ åé¢ç›´æ¥ç”¨æœ€ç®€å•çš„è´ªå¿ƒæ–¹å¼æ²¡æƒ³åˆ°çœŸçš„å¯è¡Œã€‚ã€‚ ç„¶åçœ‹äº†é¢˜è§£æ‰çŸ¥é“åŸæ¥fibçš„ã€Œæ¯æ¬¡é€‰æ‹©ä¸è¶…è¿‡å½“å‰ k çš„æœ€å¤§æ•°ã€è¿™æ˜¯ä¸€ä¸ªç‰¹æœ‰çš„ç»“è®ºï¼Œç„¶åå¤§å®¶éƒ½åœ¨è¯æ˜ä»–ï¼Œè™½ç„¶æˆ‘çœ‹ä¸æ‡‚ï¼Œä½†æˆ‘å¤§å—éœ‡æ’¼ğŸ˜‚ è¯¦è§£é“¾æ¥ ","date":"2022-02-03","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%92%8C%E4%B8%BAk%E7%9A%84%E6%9C%80%E5%B0%91%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%AD%97%E6%95%B0%E7%9B%AE/:2:0","tags":["fibçš„è´ªå¿ƒå¯è¡Œæ€§"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”å’Œä¸ºKçš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%92%8C%E4%B8%BAk%E7%9A%84%E6%9C%80%E5%B0%91%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%AD%97%E6%95%B0%E7%9B%AE/"},{"categories":["ç®—æ³•â€”â€”è´ªå¿ƒ"],"content":"è§£é¢˜ä»£ç  class Solution { public: int findMinFibonacciNumbers(int k) { vector\u003cint\u003eitems(2,1); int ret = 0; while(items.back()\u003ck){ items.push_back(items.back()+items[items.size()-2]); } for(int i=items.size()-1;i\u003e=0;i--){ ret += k/items[i]; k %= items[i]; } return ret; } }; ","date":"2022-02-03","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%92%8C%E4%B8%BAk%E7%9A%84%E6%9C%80%E5%B0%91%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%AD%97%E6%95%B0%E7%9B%AE/:3:0","tags":["fibçš„è´ªå¿ƒå¯è¡Œæ€§"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”å’Œä¸ºKçš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%92%8C%E4%B8%BAk%E7%9A%84%E6%9C%80%E5%B0%91%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%AD%97%E6%95%B0%E7%9B%AE/"},{"categories":["ç®—æ³•â€”â€”å­—ç¬¦ä¸²"],"content":"å­—ç¬¦ä¸²ç±»å‹æ»‘åŠ¨çª—å£æˆ–é€’å½’åˆ†æ²»è§£è¢«banå­—ç¬¦æ±‚æœ€é•¿å­ä¸²","date":"2022-02-01","objectID":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/","tags":["é€’å½’åˆ†æ²»ã€æ»‘åŠ¨çª—å£ã€ä½è¿ç®—"],"title":"å­—ç¬¦ä¸²ç±»å‹æ»‘åŠ¨çª—å£æˆ–é€’å½’åˆ†æ²»è§£è¢«banå­—ç¬¦æ±‚æœ€é•¿å­ä¸²","uri":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"},{"categories":["ç®—æ³•â€”â€”å­—ç¬¦ä¸²"],"content":"é¢˜ç›®ä¸€ï¼šè‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² 395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² ","date":"2022-02-01","objectID":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/:1:0","tags":["é€’å½’åˆ†æ²»ã€æ»‘åŠ¨çª—å£ã€ä½è¿ç®—"],"title":"å­—ç¬¦ä¸²ç±»å‹æ»‘åŠ¨çª—å£æˆ–é€’å½’åˆ†æ²»è§£è¢«banå­—ç¬¦æ±‚æœ€é•¿å­ä¸²","uri":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"},{"categories":["ç®—æ³•â€”â€”å­—ç¬¦ä¸²"],"content":"é¢˜ç›®è§£æ æœ‰ä¸¤ç§æ–¹æ³•ï¼š é€’å½’åˆ†æ²»è§£å†³ï¼šè¯¥åˆ†æ²»æ³•çš„åº”ç”¨å¯¹è±¡ï¼šè§£å†³é‚£ç§ä¸ä¼šå»è·¨è¶Šä»»ä½•ä¸€ä¸ªæ®µæ›´æ–°ç­”æ¡ˆçš„é¢˜ç›®ã€‚æ¯”å¦‚æ­¤é¢˜è¿™ç§å…³äºå­—ç¬¦ä¸²å­ä¸²çš„é¢˜ã€‚é¦–å…ˆåœ¨æ•´ä¸ªå­—ç¬¦ä¸²å¤§èŒƒå›´å†…å¯ä»¥ç¡®å®šå“ªäº›å­—ç¬¦æ²¡æœ‰è¾¾åˆ°kæ¬¡ï¼Œæ•…åªè¦å­˜åœ¨è¿™äº›å­—ç¬¦çš„å­ä¸²éƒ½è¢«æ’é™¤åœ¨å¤–ã€‚å…·ä½“åˆ°é€’å½’åˆ†æ²»çš„ä»£ç ä¸Šå°±æ˜¯ï¼š åˆ†æ²»çš„æ¯ä¸€æ®µéƒ½ä¸å«ä¸Šä¸€ä¸ªæ€»å­—ç¬¦ä¸²çš„è¢« ban (è¢«ç¦)å­—ç¬¦ï¼Œæ•…æ¯ä¸ªåˆ†æ²»çš„å¯¹è±¡éƒ½è¦è¿›è¡Œä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š ä¸€ã€è®¡ç®— [l,r] ä¹‹é—´æ‰€æœ‰å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚ äºŒã€æ ¹æ®å‡ºç°æ¬¡æ•°è®¡ç®—å‡ºè¢« ban æ‰çš„å­—ç¬¦ç±»å‹ã€‚ ä¸‰ã€æ ¹æ®æ˜¯å¦æœ‰è¢« ban çš„å­—ç¬¦ç±»å‹ï¼Œæ¥ç¡®å®šæ˜¯å¦è¿˜éœ€è¦å†å¾€ä¸‹é€’å½’åˆ†æ²»ï¼Œå¦‚æœæ²¡æœ‰è¢« ban çš„å­—ç¬¦ç±»å‹ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²ã€‚å¦åˆ™ç»§ç»­å¾€ä¸‹é€’å½’åˆ†æ²»ï¼Œåˆ†æ²»çš„å­å¯¹è±¡éƒ½ä¸èƒ½å«æœ‰è¯¥è¢« ban å­—ç¬¦ç±»å‹ã€‚ æ ¹æ®æšä¸¾ç±»å‹çš„æ»‘åŠ¨çª—å£è§£å†³ï¼šæŒ‰ç…§å­—ç¬¦ç±»å‹çš„æ»‘åŠ¨çª—å£æŠ€å·§ï¼Œæœ€å¤–å±‚ç”¨äºæšä¸¾å›ºå®šå½“å‰çª—å£å†…æœ€å¤šæœ‰å¤šå°‘ç±»å‹ã€‚è¿™ä¸ªæŠ€å·§å°±æ˜¯ï¼Œå½“æˆ‘ä»¬æ— æ³•ç›´æ¥æ‰¾åˆ°æ»‘åŠ¨çª—å£çš„è¾¹ç•Œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æœ‰é™çš„ç±»å‹æ¥æ„é€ æ»‘åŠ¨çª—å£çš„è¾¹ç•Œï¼Œç”±äºæœ€å¤šæœ‰26ä¸ªç±»å‹çš„å­—ç¬¦ï¼Œè€Œæˆ‘ä»¬æ»‘åŠ¨çª—å£è¿‡ç¨‹å¯ä»¥æ ¹æ®æŸä¸ªç±»å‹çš„å­—ç¬¦æ•°é‡æ˜¯å¦ç¬¦åˆæ¡ä»¶æ¥å¾—åˆ°çª—å£å†…ç¬¦åˆæ¡ä»¶çš„ç±»å‹æ•°é‡ï¼Œåªè¦çª—å£å†…çš„ç±»å‹æ•°é‡ç­‰äºç¬¦åˆæ¡ä»¶çš„ç±»å‹æ•°é‡ï¼Œé‚£ä¹ˆè¯¥çª—å£å†…çš„å­—ç¬¦ä¸²å³ä¸ºä¸€ä¸ªç­”æ¡ˆã€‚ä½†é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬ä¸æ¸…æ¥šçª—å£å†…çš„ç±»å‹æ•°é‡æ˜¯å¤šå¤§ï¼Œè¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ²¡æœ‰æ˜ç¡®çš„è¾¹ç•Œï¼Œæ­¤æ—¶æˆ‘ä»¬æ ¹æ®æšä¸¾ 1~26 ä¸ªç±»å‹æ¥è¿›è¡Œçª—å£çš„æ»‘åŠ¨é™åˆ¶å³å¯ã€‚ ","date":"2022-02-01","objectID":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/:1:1","tags":["é€’å½’åˆ†æ²»ã€æ»‘åŠ¨çª—å£ã€ä½è¿ç®—"],"title":"å­—ç¬¦ä¸²ç±»å‹æ»‘åŠ¨çª—å£æˆ–é€’å½’åˆ†æ²»è§£è¢«banå­—ç¬¦æ±‚æœ€é•¿å­ä¸²","uri":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"},{"categories":["ç®—æ³•â€”â€”å­—ç¬¦ä¸²"],"content":"è§£é¢˜ä»£ç  æ³•ä¸€ï¼šé€’å½’åˆ†æ²» class Solution { public: int dfs(string\u0026 s,int l,int r,int k){ int cnt[26] = {0}; for(int i=l;i\u003c=r;i++){//è®¡ç®—å­—ç¬¦çš„æ¬¡æ•°æ–¹ä¾¿è®¡ç®—banæ‰çš„å­—ç¬¦ç±»å‹ cnt[s[i]-'a']++; } char split = 0; for(int i=0;i\u003c26;i++){ if(cnt[i]!=0\u0026\u0026cnt[i]\u003ck){ //å¾ˆæ˜æ˜¾åœ¨è¿™ä¸ªå¤§èŒƒå›´å†…è¦æ˜¯è¿™ä¸ªå­—ç¬¦ç±»å‹æ¬¡æ•°éƒ½å°äºkäº†ï¼Œè‚¯å®šå°±æ˜¯è¦è¢«bançš„ split = i+'a'; break; } } if(split==0)//å¦‚æœè¯¥æ®µå­—ç¬¦ä¸²æ²¡æœ‰è¢«bançš„å­—ç¬¦ç±»å‹åˆ™è¯¥å­—ç¬¦ä¸²å°±æ˜¯ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸² return r-l+1; int ret = 0; //å¼€å§‹æšä¸¾åˆ†æ²»åˆ°ä¸‹é¢å» while(l\u003c=r){ while(l\u003c=r\u0026\u0026s[l]==split){//ä¸è®©èµ·å§‹ç‚¹ä»è¢«bançš„å­—ç¬¦å¼€å§‹ l++; } if(l\u003er) break;//è¯´æ˜å…¨æ˜¯è¢«bançš„å­—ç¬¦ int start = l; while(l\u003c=r\u0026\u0026s[l]!=split){//è®¡ç®—æœ¬æ¬¡åˆ†æ®µçš„é•¿åº¦ï¼ˆç»“æŸä½ç½®ï¼‰ l++; } int length = dfs(s,start,l-1,k); ret = max(ret,length); } return ret; } int longestSubstring(string s, int k) { return dfs(s,0,s.size()-1,k); } }; æ³•äºŒï¼šæšä¸¾ç±»å‹çš„æ»‘åŠ¨çª—å£ class Solution { public: int longestSubstring(string s, int k) { int n = s.size(); int cnt[26]{0};//ç”¨äºè®°å½•çª—å£å†…å­—ç¬¦çš„å‡ºç°æ¬¡æ•° int maxLen = 0; for(int i=1;i\u003c=26;i++){ memset(cnt,0,sizeof(cnt)); for(int l=0,r=0,sum=0,tot=0;r\u003cn;r++){//sumã€totåˆ†åˆ«è¡¨ç¤ºçª—å£å†…çš„æœ‰æ•ˆå­—ç¬¦ç§ç±»æ•°å’Œæ€»çš„ç§ç±»æ•° cnt[s[r]-'a']++; if(cnt[s[r]-'a']==1) //å¢åŠ ç§ç±»æ•° tot++; if(cnt[s[r]-'a']==k) //ä¸ºäº†é˜²æ­¢å¤šæ¬¡æ›´æ–°åƒä¸‡åˆ«å–å¤§äºå· sum++; //å¢åŠ æœ‰æ•ˆç§ç±»æ•° while(tot\u003ei){ //è¾¾åˆ°æ”¶ç¼©çª—å£æ¡ä»¶ï¼Œå› ä¸ºçª—å£å†…çš„ç§ç±»æ•°é™åˆ¶ä¸ºiä¸ª int dup = (s[l++]-'a'); cnt[dup]--; if(cnt[dup]==0) //ç§ç±»æ•°æ­¤æ—¶éœ€è¦-1 tot--; if(cnt[dup]==k-1)//æœ‰æ•ˆç§ç±»æ•°-1 sum--; } if(sum==tot) maxLen = max(maxLen,r-l+1); } } return maxLen; } }; ","date":"2022-02-01","objectID":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/:1:2","tags":["é€’å½’åˆ†æ²»ã€æ»‘åŠ¨çª—å£ã€ä½è¿ç®—"],"title":"å­—ç¬¦ä¸²ç±»å‹æ»‘åŠ¨çª—å£æˆ–é€’å½’åˆ†æ²»è§£è¢«banå­—ç¬¦æ±‚æœ€é•¿å­ä¸²","uri":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"},{"categories":["ç®—æ³•â€”â€”å­—ç¬¦ä¸²"],"content":"é¢˜ç›®äºŒï¼šæœ€é•¿çš„ç¾å¥½å­å­—ç¬¦ä¸² æœ€é•¿çš„ç¾å¥½å­å­—ç¬¦ä¸² ","date":"2022-02-01","objectID":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/:2:0","tags":["é€’å½’åˆ†æ²»ã€æ»‘åŠ¨çª—å£ã€ä½è¿ç®—"],"title":"å­—ç¬¦ä¸²ç±»å‹æ»‘åŠ¨çª—å£æˆ–é€’å½’åˆ†æ²»è§£è¢«banå­—ç¬¦æ±‚æœ€é•¿å­ä¸²","uri":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"},{"categories":["ç®—æ³•â€”â€”å­—ç¬¦ä¸²"],"content":"é¢˜ç›®è§£æ è¿™é¢˜è™½ç„¶ç”±äºæ•°æ®é‡çš„å…³ç³»ï¼Œè¢«åˆ’åˆ†ä¸ºç®€å•é¢˜ï¼Œä½†å®é™…ä¸Šå®Œå…¨ä¸äºšäºç¬¬ä¸€é¢˜ã€‚ç”šè‡³è¿˜å¾—ç”¨ä¸Šä¸€äº›ä½è¿ç®—çš„æ€æƒ³ã€‚ è¿™é¢˜æˆ‘ä¼šçš„åšæ³•åªæœ‰ä¸¤ç§ï¼š æ™®é€šä½è¿ç®—æšä¸¾æ³•ï¼šå…¶å®å°±æ˜¯æ­¤é¢˜çš„æš´åŠ›è§£æ³•ï¼Œåªæ˜¯ç”¨äº†ä½è¿ç®—ä½¿å¾—æ›´ä¸ºä¼˜é›…ï¼Œç”±äºæ­¤é¢˜éœ€è¦æ±‚æœ€é•¿çš„å¤§å°å†™éƒ½åŒ…å«çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªintä½æ¥è¡¨ç¤ºæ‰€æœ‰å°å†™å­—æ¯çš„å‡ºç°ï¼Œç”¨å¦ä¸€ä¸ªintä½æ¥è¡¨ç¤ºæ‰€æœ‰å¤§å†™å­—æ¯çš„å‡ºç°ï¼Œåˆ™å¯¹äºæ¯ä¸ªå­—ç¬¦ä¸²ï¼Œéƒ½å¯ä»¥é€šè¿‡è¿™ä¸¤ä¸ªintæ˜¯å¦ç›¸ç­‰æ¥åˆ¤æ–­æ˜¯å¦æ­£å¥½æ˜¯å¤§å°å†™éƒ½å«æœ‰ï¼Œç„¶åå°±æ˜¯æš´åŠ›çš„éå†æ‰€æœ‰å­ä¸²çš„è¿‡ç¨‹äº†ã€‚ é€’å½’åˆ†æ²»æ³•ï¼šæ­¤é¢˜å’Œä¸Šé¢˜å·®ä¸å¤šï¼Œä¹Ÿæ˜¯ä¸ä¼šè·¨è¶Šä»»ä½•ä¸€ä¸ªæ®µå»æ›´æ–°ç­”æ¡ˆï¼Œæ‰€ä»¥ä¹Ÿèƒ½ä½¿ç”¨é€’å½’åˆ†æ²»çš„æ–¹å¼æ¥è¿›è¡Œè§£å†³ã€‚ä½†å‰æœŸå¤„ç†è¢«banå­—ç¬¦å’Œä¸Šé¢˜æ˜¯ä¸ä¸€æ ·çš„ï¼Œå…¶ä½™éƒ½ä¸€æ ·ï¼Œè¿™é¢˜è¦æ ¹æ® [l,r] ä¹‹é—´å­—ç¬¦çš„ä½è¿ç®—ç»“æœ lower å’Œ upper å†ä¸è¿ç®—å¾—åˆ°ä¸¤è€…çš„äº¤é›†æ¥åˆ¤æ–­æ˜¯å¦æœ‰è¢« ban å­—ç¬¦ï¼Œæˆ–è€…æ˜¯ä¸è¢«bançš„å­—ç¬¦ã€‚ ","date":"2022-02-01","objectID":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/:2:1","tags":["é€’å½’åˆ†æ²»ã€æ»‘åŠ¨çª—å£ã€ä½è¿ç®—"],"title":"å­—ç¬¦ä¸²ç±»å‹æ»‘åŠ¨çª—å£æˆ–é€’å½’åˆ†æ²»è§£è¢«banå­—ç¬¦æ±‚æœ€é•¿å­ä¸²","uri":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"},{"categories":["ç®—æ³•â€”â€”å­—ç¬¦ä¸²"],"content":"è§£é¢˜ä»£ç  æ–¹æ³•ä¸€ï¼šä½è¿ç®—+æš´åŠ›éå† class Solution { public: string longestNiceSubstring(string s) { int sz = s.size(); int start,len=0; for(int i=0;i\u003csz;i++){ int lower = 0,upper = 0; for(int j=i;j\u003csz;j++){ if(islower(s[j])){ lower |= (1\u003c\u003c(s[j]-'a')); }else{ upper |= (1\u003c\u003c(s[j]-'A')); } if(lower==upper\u0026\u0026(j-i+1\u003elen)){ start = i; len = j-i+1; } } } return len==0?\"\":s.substr(start,len); } }; æ–¹æ³•äºŒï¼šé€’å½’åˆ†æ²» class Solution { public: void dfs(string \u0026s, int l, int r, pair\u003cint, int\u003e \u0026ret) { int lower = 0, upper = 0; for (int i = l; i \u003c= r; i++) { if (islower(s[i])) { lower |= (1 \u003c\u003c (s[i] - 'a')); } else { upper |= (1 \u003c\u003c (s[i] - 'A')); } } if (lower == upper) {//æˆ‘ä¹‹å‰è¿™é‡Œçš„åˆ¤æ–­æ¡ä»¶å¯¼è‡´äº†æ— é™å¾ªç¯ï¼Œä¸€æ—¦æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶ï¼Œä½†ä¸æ»¡è¶³ç¬¬äºŒä¸ªæ¡ä»¶ï¼Œå°±å‘ç”Ÿæ— é™å¾ªç¯ï¼ï¼ï¼æ‰€ä»¥æ³¨æ„æ”¾åˆ°ä¸‹é¢å» if (r - l + 1 \u003e ret.second) { ret.first = l; ret.second = r - l + 1; } return; } int valid = lower \u0026 upper;//è¿™ä¸¤çš„äº¤é›†ä»£è¡¨å¤§å°å†™éƒ½å‡ºç°çš„ç±»å‹ï¼Œä¸ºç¬¦åˆæ¡ä»¶çš„ç±»å‹ï¼Œè€Œè¢«bançš„å°±æ˜¯ä¸å¤„äºè¿™é‡Œé¢çš„å­—ç¬¦ç±»å‹ int start; while (l \u003c= r) { while (l \u003c= r \u0026\u0026 !(valid \u0026 (1 \u003c\u003c (tolower(s[l]) - 'a')))) {//è®©startå¤„äºç¬¦åˆæ¡ä»¶çš„ç±»å‹ l++; } if (l \u003e r) break; start = l; while (l \u003c= r \u0026\u0026 (valid \u0026 (1 \u003c\u003c (tolower(s[l]) - 'a')))) {//å¾—åˆ°ç¬¦åˆæ¡ä»¶çš„åˆ†æ®µå³ç«¯ç‚¹ l++; } dfs(s, start, l - 1, ret); } } string longestNiceSubstring(string s) { pair\u003cint, int\u003e ret{0, 0}; dfs(s, 0, s.size() - 1, ret); return s.substr(ret.first, ret.second); } }; ","date":"2022-02-01","objectID":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/:2:2","tags":["é€’å½’åˆ†æ²»ã€æ»‘åŠ¨çª—å£ã€ä½è¿ç®—"],"title":"å­—ç¬¦ä¸²ç±»å‹æ»‘åŠ¨çª—å£æˆ–é€’å½’åˆ†æ²»è§£è¢«banå­—ç¬¦æ±‚æœ€é•¿å­ä¸²","uri":"/posts/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%88%96%E9%80%92%E5%BD%92%E5%88%86%E6%B2%BB%E8%A7%A3%E8%A2%ABban%E5%AD%97%E7%AC%A6%E6%B1%82%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"},{"categories":["ç®—æ³•â€”â€”åŠ¨æ€è§„åˆ’"],"content":"åˆ’åˆ†æ•°é—®é¢˜","date":"2022-01-30","objectID":"/posts/%E5%88%92%E5%88%86%E6%95%B0%E9%97%AE%E9%A2%98/","tags":["åˆ’åˆ†æ•°é—®é¢˜"],"title":"åˆ’åˆ†æ•°é—®é¢˜","uri":"/posts/%E5%88%92%E5%88%86%E6%95%B0%E9%97%AE%E9%A2%98/"},{"categories":["ç®—æ³•â€”â€”åŠ¨æ€è§„åˆ’"],"content":"é¢˜ç›® é¢˜ç›®é“¾æ¥ ","date":"2022-01-30","objectID":"/posts/%E5%88%92%E5%88%86%E6%95%B0%E9%97%AE%E9%A2%98/:1:0","tags":["åˆ’åˆ†æ•°é—®é¢˜"],"title":"åˆ’åˆ†æ•°é—®é¢˜","uri":"/posts/%E5%88%92%E5%88%86%E6%95%B0%E9%97%AE%E9%A2%98/"},{"categories":["ç®—æ³•â€”â€”åŠ¨æ€è§„åˆ’"],"content":"é¢˜ç›®è¯¦è§£ åˆ’åˆ†æ•°ç±»å‹é¢˜ç›®éƒ½æ˜¯dpè§£å†³ï¼Œè€Œä¸”éƒ½æœ‰å›ºå®šçš„å¥—è·¯å’Œå…¬å¼ï¼Œä½†æˆ‘ä»¬è¿˜æ˜¯éœ€è¦åœ¨å‰äººçš„å…¬å¼ä¸ŠåŠ ä»¥ç†è§£ï¼ åˆ’åˆ†æ•°é—®é¢˜dpæ€»ç»“ æˆ‘è¿™é‡Œå°±æä¸¤ä¸ªæ¯”è¾ƒå¸¸è§çš„åˆ’åˆ†æ•°é—®é¢˜çš„dpåŸç†ï¼š å¦‚æœå¯¹æ•°å­—åˆ’åˆ†è¾ƒä¸ºæŠ½è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬æŠŠè¿™ä¸ªæ•°å­—å¯ä»¥æ¯”ä½œè‹¹æœï¼Œå³æœ‰nä¸ªè‹¹æœéœ€è¦åˆ’åˆ†åˆ°mä¸ªç›˜å­é‡Œé¢ï¼Œè€Œè¿™å‡ ä¸ªç›˜å­çš„é¡ºåºè‚¯å®šæ˜¯ä¸è€ƒè™‘çš„ï¼Œä¹Ÿå°±æ˜¯5ä¸ªè‹¹æœåˆ’åˆ†ç»™3ä¸ªç›˜å­ï¼Œåˆ™1 2 2å’Œ2 1 2æ˜¯å®Œå…¨ä¸€æ ·çš„æƒ…å†µï¼Œåªçœ‹å…·ä½“çš„æ•°å­—ç»„åˆä¸çœ‹å†…éƒ¨æ’åˆ—ï¼ å°†nåˆ’åˆ†æˆä¸å¤§äºmçš„åˆ’åˆ†ã€‚ $dp[n][m] = dp[n-m][m]+dp[n][m-1]$ å¯¹äºä»¥ä¸Šçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œ dp[n-m][m] è¡¨ç¤ºnä¸ªè‹¹æœæ”¾å…¥mä¸ªç›˜å­ä¸­ï¼Œæ— ç©ºç›˜çš„æƒ…å†µã€‚ dp[n][m-1] è¡¨ç¤ºnä¸ªè‹¹æœæ”¾å…¥mä¸ªç›˜å­ä¸­ï¼Œæœ‰ç©ºç›˜çš„æƒ…å†µ(è¿™å°±æ˜¯åˆ’åˆ†æˆä¸å¤§äºmç›˜çš„å…³é”®æ‰€åœ¨)ã€‚è¿™ä¹ˆå†™è‚¯å®šæ˜¯æœ‰äº›éš¾ä»¥ç†è§£ï¼Œä½†å½“ä½ å»ä¸¾ä¾‹å­ï¼Œå°†å®ƒé€’å½’å¾€ä¸‹å†™çš„æ—¶å€™ï¼Œä½ å°±ä¼šå‘ç°è¿™ä¸ªdp[n][m-1] åŒ…å«äº†ä» dp[n][1] åˆ° dp[n][m-1] çš„æ‰€æœ‰æƒ…å†µï¼ åº•å±‚çš„åŸºæœ¬caseæœ‰ï¼š å½“ n==1||m==1 ï¼Œå³ç›˜å­æˆ–è€…è‹¹æœæ•°é‡ä¸º1ä¸ªçš„æ—¶å€™ï¼Œé‚£è‚¯å®šå°±åªæœ‰ä¸€ç§æƒ…å†µã€‚å³dp[n][m]=1ã€‚ å½“ n\u003em ï¼Œåˆ™è¿˜èƒ½ç»§ç»­åˆ’åˆ†å³dp[n][m] = dp[n-m][m]+dp[n][m-1]ã€‚ å½“ n==m ï¼Œåˆ™æœ‰ä¸¤ç§æƒ…å†µï¼Œå½“åˆ’åˆ†ä¸ºmä¸ªæ—¶ï¼Œç»“æœä¸º1ï¼Œç„¶åç»§ç»­ç©ºç›˜å­åˆ’åˆ†ï¼Œå³ dp[n][m]=dp[n][m-1]+1ã€‚ å½“ n\u003cmï¼Œç”±äºå¯ä»¥ç©ºç›˜ï¼Œæ‰€ä»¥æ˜¯å…è®¸å­˜åœ¨çš„ï¼Œä½†æ­¤æ—¶ä¸å¯èƒ½æ»¡ç›˜ï¼Œæ‰€ä»¥ç­‰äºç©ºç›˜çš„æƒ…å†µï¼Œå³ dp[n][m] = dp[n][m-1]ã€‚ å†™æˆä»£ç å½¢å¼å°±æ˜¯ï¼ˆæˆ‘æ¯”è¾ƒå–œæ¬¢å†™è®°å¿†åŒ–dfsï¼Œæ¯•ç«Ÿä¸éœ€è¦è€ƒè™‘åˆå§‹åŒ–é—®é¢˜ï¼Œåªéœ€è€ƒè™‘æœ€åçš„è·³å‡ºï¼‰ï¼š ä»¥ä¸‹çš„ä¸¤ä¸ªåˆ¤æ–­æ¡ä»¶å°±æŠŠæ‰€æœ‰æ˜¯ä»¥ä¸Šå››ç§æƒ…å†µåŒ…å«åœ¨å†…äº†ï¼ int memo[202][8];//è®°å¿†åŒ–çš„å¤‡å¿˜å½• //TODO åˆ’åˆ†æ•°è®°å¿†åŒ–æ–¹å¼ int dfs(int n,int m){ if(n\u003c0||m\u003c0) return 0; if(n==1||n==0||m==1) return 1; return memo[n][m] = dfs(n-m,m)+dfs(n,m-1); } å°†nä¸¥æ ¼åˆ’åˆ†ä¸ºmä¸ªæ•°ã€‚(å³nä¸ªè‹¹æœä¸¥æ ¼åˆ’åˆ†ä¸ºmç›˜ï¼Œä¸è¦æœ‰ç©ºä½ï¼) $dp[n][m] = dp[n-m][m]+dp[n-1][m-1]$ ä¸‹é¢ç»™å‡ºæˆ‘çš„ä¸€æ®µæ‰‹å†™æ¨å¯¼ï¼š base caseä¹Ÿåœ¨æ‰‹å†™é¢˜è§£é‡Œé¢æåˆ°äº†ï¼Œæ‰€ä»¥ç›´æ¥ä¸Šä»£ç ï¼š int memo[202][8]; //TODO åˆ’åˆ†æ•°nåˆ’æˆkä»½çš„è®°å¿†åŒ–æ–¹å¼ int dfs(int n,int k){ if(n\u003ck) return 0; if(n==k||k==1) return 1; if(memo[n][k])return memo[n][k]; return memo[n][k] = dfs(n-k, k) + dfs(n-1,k-1); } ","date":"2022-01-30","objectID":"/posts/%E5%88%92%E5%88%86%E6%95%B0%E9%97%AE%E9%A2%98/:2:0","tags":["åˆ’åˆ†æ•°é—®é¢˜"],"title":"åˆ’åˆ†æ•°é—®é¢˜","uri":"/posts/%E5%88%92%E5%88%86%E6%95%B0%E9%97%AE%E9%A2%98/"},{"categories":["ç®—æ³•â€”â€”åŠ¨æ€è§„åˆ’"],"content":"è§£é¢˜ä»£ç  å‰é¢å·²ç»ä»‹ç»äº†ä¸¤ç§åˆ’åˆ†æ•°çš„dpï¼Œé‚£ä¹ˆæœ¬é¢˜å°±å±äºç¬¬äºŒç§åˆ’åˆ†æ•°çš„dpï¼ ç›´æ¥æŠŠä¸Šé¢çš„ä»£ç æ‹¿ä¸‹æ¥ç›´æ¥ç§’ï¼ #include\u003cbits/stdc++.h\u003eusing namespace std; using ll = long long; ll memo[202][8]; int n,k; //TODO åˆ’åˆ†æ•°è®°å¿†åŒ–æ–¹å¼ ll dfs(int a,int b){ if(a\u003cb) return 0; if(a==b||b==1) return 1; if(memo[a][b])return memo[a][b]; return memo[a][b] = dfs(a-b, b) + dfs(a-1,b-1); } int main(){ cin\u003e\u003en\u003e\u003ek; cout\u003c\u003cdfs(n, k); return 0; } ","date":"2022-01-30","objectID":"/posts/%E5%88%92%E5%88%86%E6%95%B0%E9%97%AE%E9%A2%98/:3:0","tags":["åˆ’åˆ†æ•°é—®é¢˜"],"title":"åˆ’åˆ†æ•°é—®é¢˜","uri":"/posts/%E5%88%92%E5%88%86%E6%95%B0%E9%97%AE%E9%A2%98/"},{"categories":["ç®—æ³•â€”â€”è·¯å¾„æ›´æ–°é—®é¢˜"],"content":"leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”åœ°å›¾ä¸­çš„æœ€é«˜ç‚¹","date":"2022-01-29","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%9C%B0%E5%9B%BE%E4%B8%AD%E7%9A%84%E6%9C%80%E9%AB%98%E7%82%B9/","tags":["leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”åœ°å›¾ä¸­çš„æœ€é«˜ç‚¹"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”åœ°å›¾ä¸­çš„æœ€é«˜ç‚¹","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%9C%B0%E5%9B%BE%E4%B8%AD%E7%9A%84%E6%9C%80%E9%AB%98%E7%82%B9/"},{"categories":["ç®—æ³•â€”â€”è·¯å¾„æ›´æ–°é—®é¢˜"],"content":"é¢˜ç›® é¢˜ç›®é“¾æ¥ ","date":"2022-01-29","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%9C%B0%E5%9B%BE%E4%B8%AD%E7%9A%84%E6%9C%80%E9%AB%98%E7%82%B9/:1:0","tags":["leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”åœ°å›¾ä¸­çš„æœ€é«˜ç‚¹"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”åœ°å›¾ä¸­çš„æœ€é«˜ç‚¹","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%9C%B0%E5%9B%BE%E4%B8%AD%E7%9A%84%E6%9C%80%E9%AB%98%E7%82%B9/"},{"categories":["ç®—æ³•â€”â€”è·¯å¾„æ›´æ–°é—®é¢˜"],"content":"è§£é¢˜æ€è·¯ ä¸¤ç§è§£é¢˜æ€è·¯ï¼Œéƒ½æ˜¯æ ¹æ®é¢˜ç›®çš„æ„æ€æ›´æ–°è·¯å¾„ä¿¡æ¯å³å¯ï¼š bfsæ€è·¯ï¼šç”±äºç›¸é‚»çš„ä¸¤ä¸ªæ ¼å­å¿…é¡»é«˜åº¦å·®ä¸º1ï¼Œè€Œæ°´åŸŸå¿…é¡»é«˜åº¦ä¸º0ï¼Œæ‰€ä»¥ï¼Œç›´æ¥ä»¥æ°´åŸŸä¸ºbfsæºç‚¹ï¼Œè¿›è¡ŒbfsæŠŠæ•´ä¸ªåŒºåŸŸçš„å€¼ç»™æ›´æ–°å°±è¡Œäº†ã€‚è¿™æ˜¯bfsæ€è·¯ã€‚ dpæ€è·¯ï¼šç”±äºdpéƒ½ä¾èµ–ä¸Šä¸€æ¬¡æ›´æ–°çš„ç»“æœï¼Œè€Œæˆ‘ä»¬ä¸€èˆ¬å°±æ˜¯ä»å·¦åˆ°å³çš„éå†æ›´æ–°ï¼Œè€Œè¿™é¢˜æ˜¯å’Œå››ä¸ªä½ç½®ç›¸å…³ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åˆ†ä¸ºï¼šä»ä¸Šåˆ°ä¸‹ä»å·¦åˆ°å³æ›´æ–°ï¼Œå¯ä»¥æŠŠä¾èµ–ä¸Šå’Œå·¦çš„ç­”æ¡ˆç»™æ›´æ–°ï¼Œä»ä¸‹åˆ°ä¸Šï¼Œä»å³åˆ°å·¦æ›´æ–°ï¼Œå¯ä»¥æŠŠä¾èµ–ä¸‹å’Œå³çš„ç»“æœç»™æ›´æ–°å®Œã€‚ ","date":"2022-01-29","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%9C%B0%E5%9B%BE%E4%B8%AD%E7%9A%84%E6%9C%80%E9%AB%98%E7%82%B9/:2:0","tags":["leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”åœ°å›¾ä¸­çš„æœ€é«˜ç‚¹"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”åœ°å›¾ä¸­çš„æœ€é«˜ç‚¹","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%9C%B0%E5%9B%BE%E4%B8%AD%E7%9A%84%E6%9C%80%E9%AB%98%E7%82%B9/"},{"categories":["ç®—æ³•â€”â€”è·¯å¾„æ›´æ–°é—®é¢˜"],"content":"è§£é¢˜ä»£ç  BFSä»£ç  class Solution { public: const int dx[4]={-1,1,0,0}; const int dy[4]={0,0,-1,1}; int n,m; bool isValid(int x,int y){ return x\u003cn\u0026\u0026x\u003e=0\u0026\u0026y\u003cm\u0026\u0026y\u003e=0; } const int maxn = 1e3+5; vector\u003cvector\u003cint\u003e\u003e highestPeak(vector\u003cvector\u003cint\u003e\u003e\u0026 isWater) { n = isWater.size(); m = isWater[0].size(); bool visit[maxn][maxn]; memset(visit,0,sizeof(visit)); queue\u003cpair\u003cint,int\u003e\u003eQ; for(int i=0;i\u003cn;i++){ for(int j=0;j\u003cm;j++){ if(isWater[i][j]){ visit[i][j] = 1; isWater[i][j] = 0; Q.push({i,j}); } } } int step = 1; while(!Q.empty()){ for(int i=Q.size();i\u003e0;i--){ auto[x,y] = Q.front();Q.pop(); for(int k=0;k\u003c4;k++){ int nx = x+dx[k]; int ny = y+dy[k]; if(isValid(nx,ny)\u0026\u0026!visit[nx][ny]){ visit[nx][ny] = 1; isWater[nx][ny] = step; Q.push({nx,ny}); } } } step++; } return isWater; } }; dpä»£ç  class Solution { public: vector\u003cvector\u003cint\u003e\u003e highestPeak(vector\u003cvector\u003cint\u003e\u003e\u0026 isWater) { int n = isWater.size(); int m = isWater[0].size(); vector\u003cvector\u003cint\u003e\u003e dp(n, vector\u003cint\u003e(m, 1e9+7)); for(int i=0; i\u003cn; i++) { //ä»ä¸Šåˆ°ä¸‹ä»å·¦åˆ°å³ for(int j=0; j\u003cm; j++) { if(isWater[i][j]) dp[i][j] = 0; else { if(i \u003e 0) dp[i][j] = min(dp[i][j], dp[i-1][j]+1); if(j \u003e 0) dp[i][j] = min(dp[i][j], dp[i][j-1]+1); } } } for(int i=n-1; i\u003e=0; i--) { //ä»ä¸‹åˆ°ä¸Šä»å³åˆ°å·¦ for(int j=m-1; j\u003e=0; j--) { if(isWater[i][j]) dp[i][j] = 0; else { if(i \u003c n-1) dp[i][j] = min(dp[i][j], dp[i+1][j]+1); if(j \u003c m-1) dp[i][j] = min(dp[i][j], dp[i][j+1]+1); } } } return dp; } }; ","date":"2022-01-29","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%9C%B0%E5%9B%BE%E4%B8%AD%E7%9A%84%E6%9C%80%E9%AB%98%E7%82%B9/:3:0","tags":["leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”åœ°å›¾ä¸­çš„æœ€é«˜ç‚¹"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜â€”â€”åœ°å›¾ä¸­çš„æœ€é«˜ç‚¹","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%9C%B0%E5%9B%BE%E4%B8%AD%E7%9A%84%E6%9C%80%E9%AB%98%E7%82%B9/"},{"categories":["ç®—æ³•â€”â€”è´ªå¿ƒ"],"content":"leetcodeæ¯æ—¥ä¸€é¢˜-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡","date":"2022-01-28","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%BC%B1%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E9%87%8F/","tags":["åˆ©ç”¨æ’åºåŸºäºéå†è¿‡ç¨‹å¤„ç†çš„è´ªå¿ƒ-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%BC%B1%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E9%87%8F/"},{"categories":["ç®—æ³•â€”â€”è´ªå¿ƒ"],"content":"é¢˜ç›® é¢˜ç›®é“¾æ¥ ","date":"2022-01-28","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%BC%B1%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E9%87%8F/:1:0","tags":["åˆ©ç”¨æ’åºåŸºäºéå†è¿‡ç¨‹å¤„ç†çš„è´ªå¿ƒ-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%BC%B1%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E9%87%8F/"},{"categories":["ç®—æ³•â€”â€”è´ªå¿ƒ"],"content":"è§£é¢˜æ€è·¯ ä¸€å¥è¯è§£å†³ï¼šä»¥ç¬¬ä¸€ä¸ªå­—æ®µä¸ºæ ‡å‡†ä»å¤§åˆ°å°æ’åºï¼Œç„¶åå†éå†æ•°ç»„ï¼Œå¯¹æ¯”ç¬¬äºŒå­—æ®µçš„æœ€å¤§å€¼å³å¯ã€‚ å…³é”®ç»†èŠ‚ï¼š ä¸ºäº†é¿å…ç¬¬ä¸€ä¸ªå­—æ®µç›¸åŒçš„æƒ…å†µä¸‹è¢«æ›´æ–°ï¼Œæ‰€ä»¥åœ¨æ’åºæ—¶é‡‡å–ï¼Œæ”»å‡»åŠ›é™åºé˜²å¾¡åŠ›å‡åºçš„æ–¹å¼(å…³é”®)æ¥è¿›è¡Œã€‚ è¿™æ ·å°±è®©ç¬¬ä¸€ä¸ªå­—æ®µç›¸åŒæ—¶ï¼ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„éå†é¡ºåºæ˜¯ä¸å¯èƒ½æŠŠç¬¬ä¸€ä¸ªå­—æ®µç›¸åŒçš„æƒ…å†µæ‹¿æ¥æ›´æ–° cnt ã€‚ ","date":"2022-01-28","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%BC%B1%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E9%87%8F/:2:0","tags":["åˆ©ç”¨æ’åºåŸºäºéå†è¿‡ç¨‹å¤„ç†çš„è´ªå¿ƒ-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%BC%B1%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E9%87%8F/"},{"categories":["ç®—æ³•â€”â€”è´ªå¿ƒ"],"content":"è§£é¢˜ä»£ç  æ³¨æ„ï¼šgolang çš„ä»£ç ä¸­çš„æ–­è¨€å‹å‡½æ•°æ¥å£æœ‰ç‚¹ä¸ä¸€æ ·ã€‚ã€‚å®ƒè°ƒç”¨æ—¶ç”¨çš„æ˜¯æ•°ç»„ä¸‹æ ‡çš„å½¢å¼æ¥è°ƒç”¨ã€‚ cpp version class Solution { public: //ä¸€å¥è¯è§£å†³ï¼šä»¥ç¬¬ä¸€ä¸ªå­—æ®µä¸ºæ ‡å‡†ä»å¤§åˆ°å°æ’åºï¼Œç„¶åå†éå†æ•°ç»„ï¼Œå¯¹æ¯”ç¬¬äºŒå­—æ®µçš„æœ€å¤§å€¼å³å¯ã€‚ //ä½†ä¸ºäº†é¿å…ç¬¬ä¸€ä¸ªå­—æ®µç›¸åŒçš„æƒ…å†µä¸‹è¢«æ›´æ–°ï¼Œæ‰€ä»¥åœ¨æ’åºæ—¶é‡‡å–ï¼Œæ”»å‡»åŠ›é™åºé˜²å¾¡åŠ›å‡åºçš„æ–¹å¼(å…³é”®)æ¥è¿›è¡Œ //è¿™æ ·å°±è®©ç¬¬ä¸€ä¸ªå­—æ®µç›¸åŒæ—¶ï¼ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„éå†é¡ºåºæ˜¯ä¸å¯èƒ½æŠŠç¬¬ä¸€ä¸ªå­—æ®µç›¸åŒçš„æƒ…å†µæ‹¿æ¥æ›´æ–°cntã€‚ int numberOfWeakCharacters(vector\u003cvector\u003cint\u003e\u003e\u0026 properties) { int n = properties.size(); auto cmp = [](vector\u003cint\u003e\u0026 t1,vector\u003cint\u003e\u0026t2){return t1[0]==t2[0]?t1[1]\u003ct2[1]:t1[0]\u003et2[0];}; sort(properties.begin(),properties.end(),cmp); int mx = INT_MIN; int cnt = 0; for(int i=0;i\u003cn;i++){ if(mx\u003eproperties[i][1]) cnt++; mx = max(mx,properties[i][1]); } return cnt; } }; java version class Solution { public int numberOfWeakCharacters(int[][] properties) { Arrays.sort(properties,(o1,o2)-\u003e o1[0]==o2[0]?o1[1]-o2[1]:o2[0]-o1[0]); int max = -1,cnt = 0; for(int[] p : properties){ if(p[1]\u003cmax) cnt++; max = Math.max(max,p[1]); } return cnt; } } golang version func numberOfWeakCharacters(properties [][]int) int { sort.Slice(properties,func (i int,j int) bool{//æ³¨æ„è¿™ä¸ªæ¥å£è¢«å†™æ­»åªèƒ½ç”¨intå‹ p, q := properties[i], properties[j] return p[0] \u003e q[0] || p[0] == q[0] \u0026\u0026 p[1] \u003c q[1] }) var max = -1 cnt := 0 for _,v := range properties{ if max\u003ev[1] { cnt++ } max = int(math.Max(float64(max), float64(v[1]))) } return cnt } ","date":"2022-01-28","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%BC%B1%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E9%87%8F/:3:0","tags":["åˆ©ç”¨æ’åºåŸºäºéå†è¿‡ç¨‹å¤„ç†çš„è´ªå¿ƒ-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%BC%B1%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E9%87%8F/"},{"categories":["ç®—æ³•â€”â€”è´ªå¿ƒ"],"content":"æ”¶è· è¢«å‘äº†ï¼Œå¾€äºŒåˆ†+å“ˆå¸Œè¡¨æ–¹å‘å»å†™äº†ã€‚å®Œå…¨æ²¡æƒ³åˆ°ä¹‹é—´æ’åº+éå†å°±èƒ½è§£å†³ã€‚ã€‚ã€‚ æ’åºçš„å¤„ç†éå¸¸ä¹‹ç²¾é«“ã€‚ ","date":"2022-01-28","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%BC%B1%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E9%87%8F/:4:0","tags":["åˆ©ç”¨æ’åºåŸºäºéå†è¿‡ç¨‹å¤„ç†çš„è´ªå¿ƒ-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜-æ¸¸æˆä¸­å¼±è§’è‰²çš„æ•°é‡","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%B8%B8%E6%88%8F%E4%B8%AD%E5%BC%B1%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E9%87%8F/"},{"categories":["ç®—æ³•â€”â€”è®¡ç®—å‡ ä½•"],"content":"leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢","date":"2022-01-27","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%A3%80%E6%B5%8B%E6%AD%A3%E6%96%B9%E5%BD%A2/","tags":["leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%A3%80%E6%B5%8B%E6%AD%A3%E6%96%B9%E5%BD%A2/"},{"categories":["ç®—æ³•â€”â€”è®¡ç®—å‡ ä½•"],"content":"é¢˜ç›® é¢˜ç›®é“¾æ¥ ","date":"2022-01-27","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%A3%80%E6%B5%8B%E6%AD%A3%E6%96%B9%E5%BD%A2/:1:0","tags":["leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%A3%80%E6%B5%8B%E6%AD%A3%E6%96%B9%E5%BD%A2/"},{"categories":["ç®—æ³•â€”â€”è®¡ç®—å‡ ä½•"],"content":"é¢˜ç›®è§£æ æ³¨æ„æ­¤é¢˜ä¸ºè®¡ç®—å‡ ä½•ç±»å‹çš„é¢˜ç›®ï¼Œæˆ‘è®¤ä¸ºè¿™ç±»é—®é¢˜æœ€é‡è¦çš„å°±æ˜¯æŠŠè¿™ä¸ªå‡ ä½•å›¾å½¢ç”¨å¥½ç”¨çš„æ–¹æ³•å»è¡¨ç¤ºå‡ºæ¥ã€‚ ä¸‰ä¸ªé‡ç‚¹ï¼š ç‚¹çš„è¡¨ç¤ºï¼šæˆ‘ä»¬é€šè¿‡ä¸Šä¸‹ä¸¤ç‚¹ç¡®å®šæ­£æ–¹å½¢çš„åŸåˆ™æ¥è¡¨ç¤ºï¼Œä¸”ç‚¹çš„å­˜å‚¨æ–¹å¼ä¸€ç‚¹ä¸èƒ½ç”¨pairï¼Œè¿™æ ·æ•ˆç‡åŠå…¶ä½ä¸‹ï¼Œä¸”éš¾ä»¥æœ‰ä¸€å®šçš„è‡ªç”±åº¦å–æ“ä½œ xï¼Œy è½´ï¼Œæˆ‘ä»¬é‡‡ç”¨å“ˆå¸Œè¡¨å¥—å“ˆå¸Œè¡¨çš„æ–¹å¼å–å­˜å‚¨ï¼ ç‚¹çš„è®°å½•ï¼šé€šè¿‡åµŒå¥—å“ˆå¸Œè¡¨å®Œæˆç‚¹çš„æ¬¡æ•°è®°å½•ï¼Œæ¯”å¦‚ï¼š unordered_map\u003cint, unordered_map\u003cint, int\u003e\u003e cnt; cnt[y][x]++; ç‚¹çš„æšä¸¾ï¼šé€šè¿‡åµŒå¥—å“ˆå¸Œè¡¨ï¼Œå¯ä»¥å¾ˆå¥½çš„æŠŠ xï¼Œy åæ ‡çš„å¯¹åº”ç‚¹æ•°ç»™é™åˆ¶ä½ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ ¹æ®è¿™ç‚¹å¯ä»¥åˆ©ç”¨countæ–¹æ³•ç›´æ¥æŠŠä¸æ˜¯åŒä¸€ä¸ªçºµè½´çš„ç‚¹ç»™æ’é™¤ï¼Œæ¯”å¦‚ï¼š res += (colCnt.count(x) ? colCnt[x] : 0) * (yCnt.count(x + d) ? yCnt[x + d] : 0) * (colCnt.count(x + d)? colCnt[x + d] : 0); //ä¸€æ—¦ä»¥ä¸Šçš„countæ–¹æ³•è¿”å›0ï¼Œå³è¡¨ç¤ºè¯¥ç‚¹ä¸æ˜¯åŒä¸€ä¸ªçºµè½´ä¸Šçš„ç‚¹ï¼Œåˆ™å¾—å‡ºç»“æœ0ï¼Œæ•´ä¸ªreså°±ç›¸å½“äºæ²¡æœ‰åŠ ä»»ä½•æ•°å­—ã€‚ å†æ¯”å¦‚é€šè¿‡yCntæå‰å–å‡ºåœ¨åŒä¸€ä¸ªæ¨ªè½´çš„ç‚¹ï¼š unordered_map\u003cint, int\u003e \u0026 yCnt = cnt[y]; //å–å’Œpointåœ¨åŒä¸€è¡Œçš„æ‰€æœ‰ç‚¹ //è¿™æ ·åç»­çš„æšä¸¾è¿‡ç¨‹ç›´æ¥å¯ä»¥å¥—ç”¨yCnt[x+d]æˆ–è€…yCnt[x-d]æ¥å¾—åˆ°å¯¹åº”å·¦å³ä¸¤ç§æƒ…å†µæ­£æ–¹å½¢çš„ç‚¹ä¸ªæ•°ã€‚ æœ€åä¸€ä¸ªä¼˜åŒ–ï¼šç”±äºæˆ‘ä»¬æ¯æ¬¡æšä¸¾åŒä¸€çºµè½´ä¸Šçš„ç‚¹ä¸ç¡®å®šæ˜¯ä¸Šé¢è¿˜æ˜¯ä¸‹é¢ï¼Œå®é™…ä¸Šæ ¹æœ¬ä¸é‡è¦ï¼Œç”±äºåœ¨è®¡ç®—æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šæŠŠå·¦å³ä¸¤ç§æ­£æ–¹å½¢çš„æƒ…å†µç»™è®¡ç®—å®Œï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹æ­£å¥½æ˜¯ä¸¤ä¸ªç›¸åçš„ +- è¿‡ç¨‹ï¼Œæ‰€ä»¥æ— è®ºæšä¸¾å¾—åˆ°çš„æ­£æ–¹å½¢è¾¹é•¿ä¸ºæ­£è¿˜æ˜¯ä¸ºè´Ÿæ•°ï¼Œéƒ½ä¸å½±å“ï¼ ","date":"2022-01-27","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%A3%80%E6%B5%8B%E6%AD%A3%E6%96%B9%E5%BD%A2/:2:0","tags":["leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%A3%80%E6%B5%8B%E6%AD%A3%E6%96%B9%E5%BD%A2/"},{"categories":["ç®—æ³•â€”â€”è®¡ç®—å‡ ä½•"],"content":"è§£é¢˜ä»£ç  éå¸¸è¯¦ç»†çš„æ³¨é‡Šäº† class DetectSquares { public: unordered_map\u003cint, unordered_map\u003cint, int\u003e\u003e cnt; DetectSquares() { } void add(vector\u003cint\u003e point) { int x = point[0], y = point[1]; cnt[y][x]++; } int count(vector\u003cint\u003e point) { int res = 0; int x = point[0], y = point[1]; if (!cnt.count(y)) { return 0; } unordered_map\u003cint, int\u003e \u0026 yCnt = cnt[y]; //å–å’Œpointåœ¨åŒä¸€è¡Œçš„æ‰€æœ‰ç‚¹ for (auto \u0026 [col, colCnt] : cnt) { if (col != y) {//ç”±äºæˆ‘ä»¬æ„é€ æ­£æ–¹å½¢æ˜¯æ ¹æ®ä¸Šä¸‹ä¸¤æ¡è¾¹ï¼Œæ•…æ­¤å¤„æšä¸¾çš„å¦å¤–ä¸€ç‚¹ä¸èƒ½åœ¨åŒä¸€è¡Œ // æ ¹æ®å¯¹ç§°æ€§ï¼Œè¿™é‡Œå¯ä»¥ä¸ç”¨å–ç»å¯¹å€¼ï¼Œå…·ä½“è€Œè¨€å°±æ˜¯æ‰€æœ‰æƒ…å†µæ ¹æ®+-å·²ç»åŒ…æ‹¬ int d = col - y;//å¾—åˆ°æ­£æ–¹å½¢è¾¹é•¿ï¼Œæ ¹æ®è¿™ä¸ªå€¼å¯ä»¥ç›´æ¥å–åˆ°å¯¹åº”çš„å¦å¤–å‡ ä¸ªç‚¹(å¦‚æœå­˜åœ¨çš„è¯) //è¿™é‡Œçš„colCnt.count(x)ç”¨äºåˆ¤æ–­æ˜¯å¦å’Œå½“å‰ç‚¹åœ¨åŒä¸€ä¸ªçºµè½´ï¼Œè¿™æ ·æ‰å¯èƒ½æ„é€ ä¸Šä¸‹ä¸¤è¾¹ï¼Œæ•…ä¸‹é¢åªè¦æœ‰1ä¸ªä¸º0ï¼Œåˆ™åŠ çš„éƒ½æ˜¯0 //ç”±äºæˆ‘ä»¬æŒ‡å®šäº†å¿…é¡»æ˜¯åŒä¸€ä¸ªçºµè½´ä¸Šçš„ç‚¹ï¼Œæ‰€ä»¥ä¸å¯èƒ½æ„é€ å‡ºä¸¤ä¸ªç›¸åŒçš„æ­£æ–¹å½¢ï¼ res += (colCnt.count(x) ? colCnt[x] : 0) * (yCnt.count(x + d) ? yCnt[x + d] : 0) * (colCnt.count(x + d)? colCnt[x + d] : 0); res += (colCnt.count(x) ? colCnt[x] : 0) * (yCnt.count(x - d) ? yCnt[x - d] : 0) * (colCnt.count(x - d) ? colCnt[x - d] : 0); } } return res; } }; ","date":"2022-01-27","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%A3%80%E6%B5%8B%E6%AD%A3%E6%96%B9%E5%BD%A2/:3:0","tags":["leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%A3%80%E6%B5%8B%E6%AD%A3%E6%96%B9%E5%BD%A2/"},{"categories":["ç®—æ³•â€”â€”è®¡ç®—å‡ ä½•"],"content":"æ€»ç»“ å­¦åˆ°ä»¥ä¸‹ï¼š å¦‚ä½•é€šè¿‡åµŒå¥—å“ˆå¸Œè¡¨è¡¨ç¤ºç‚¹ï¼Œä»¥åŠç”¨å®ƒè¡¨ç¤ºçš„è€Œä¸ç”¨pairè¡¨ç¤ºçš„å¥½å¤„ã€‚ é‡ç‚¹å¥½åƒä¹Ÿå°±ä¸Šé¢é‚£æ¡ã€‚ ","date":"2022-01-27","objectID":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%A3%80%E6%B5%8B%E6%AD%A3%E6%96%B9%E5%BD%A2/:4:0","tags":["leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢"],"title":"leetcodeæ¯æ—¥ä¸€é¢˜-æ£€æµ‹æ­£æ–¹å½¢","uri":"/posts/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%A3%80%E6%B5%8B%E6%AD%A3%E6%96%B9%E5%BD%A2/"},{"categories":["JavaWebç¬”è®°"],"content":"Javaç½‘ç»œç¼–ç¨‹","date":"2022-01-26","objectID":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/","tags":["JavaWebç¬¬ä¸€èŠ‚"],"title":"Javaç½‘ç»œç¼–ç¨‹","uri":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"categories":["JavaWebç¬”è®°"],"content":"Javaç½‘ç»œç¼–ç¨‹ é…å¥—è§†é¢‘ åœ¨JavaSEé˜¶æ®µï¼Œæˆ‘ä»¬å­¦ä¹ äº†I/Oæµï¼Œæ—¢ç„¶I/Oæµå¦‚æ­¤å¼ºå¤§ï¼Œé‚£ä¹ˆèƒ½å¦è·¨è¶Šä¸åŒçš„ä¸»æœºè¿›è¡ŒI/Oæ“ä½œå‘¢ï¼Ÿè¿™å°±è¦æåˆ°Javaçš„ç½‘ç»œç¼–ç¨‹äº†ã€‚ æ³¨æ„ï¼šæœ¬ç« ä¼šæ¶‰åŠåˆ°è®¡ç®—æœºç½‘ç»œç›¸å…³å†…å®¹ï¼ˆåªä¼šè®²è§£å¤§è‡´å†…å®¹ï¼Œä¸ä¼šå®Œæ•´çš„è®²è§£è®¡ç®—æœºç½‘ç»œçŸ¥è¯†ï¼‰ è‹¥æ²¡æœ‰è®¡ç®—æœºç½‘ç»œåŸºç¡€ï¼Œå®é™…ä¸ŠJavaè¿™é‡Œå°è£…çš„Socketç½‘ç»œIOæ“ä½œå·²ç»ç®€å•åˆ°å®Œå…¨ä¸éœ€è¦ä»»ä½•åŸºç¡€çš„ï¼Œä½†æ˜¯æ²¡æœ‰è®¡ç®—æœºç½‘ç»œç›¸å…³çš„åº•å±‚çŸ¥è¯†ï¼Œä»¥åçš„æ·±å…¥å­¦ä¹ ä¼šéå¸¸ä¸çŸ¥æ‰€äº‘ã€‚ ","date":"2022-01-26","objectID":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/:0:0","tags":["JavaWebç¬¬ä¸€èŠ‚"],"title":"Javaç½‘ç»œç¼–ç¨‹","uri":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"categories":["JavaWebç¬”è®°"],"content":"è®¡ç®—æœºç½‘ç»œåŸºç¡€ åˆ©ç”¨é€šä¿¡çº¿è·¯å’Œé€šä¿¡è®¾å¤‡ï¼Œå°†åœ°ç†ä½ç½®ä¸åŒçš„ã€åŠŸèƒ½ç‹¬ç«‹çš„å¤šå°è®¡ç®—æœºäº’è¿èµ·æ¥ï¼Œä»¥åŠŸèƒ½å®Œå–„çš„ç½‘ç»œè½¯ä»¶æ¥å®ç°èµ„æºå…±äº«å’Œä¿¡æ¯ä¼ é€’ï¼Œå°±æ„æˆäº†è®¡ç®—æœºç½‘ç»œç³»ç»Ÿã€‚ æ¯”å¦‚æˆ‘ä»¬å®¶é‡Œçš„è·¯ç”±å™¨ï¼Œé€šè¿‡å°†æˆ‘ä»¬çš„è®¾å¤‡ï¼ˆæ‰‹æœºã€å¹³æ¿ã€ç”µè„‘ã€ç”µè§†å‰§ï¼‰è¿æ¥åˆ°è·¯ç”±å™¨ï¼Œæ¥å®ç°å¯¹äº’è”ç½‘çš„è®¿é—®ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬çš„è·¯ç”±å™¨è¿æ¥åœ¨äº’è”ç½‘ä¸Šï¼Œè€Œæˆ‘ä»¬çš„è®¾å¤‡åˆè¿æ¥äº†è·¯ç”±å™¨ï¼Œè¿™æ ·æˆ‘ä»¬çš„è®¾å¤‡å°±å¯ä»¥é€šè¿‡è·¯ç”±å™¨è®¿é—®åˆ°äº’è”ç½‘äº†ã€‚é€šè¿‡ç½‘ç»œï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®äº’è”ç½‘ä¸Šçš„å¦ä¸€å°ä¸»æœºï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æŠŠQQçš„æ¶ˆæ¯å‘é€ç»™æˆ‘ä»¬çš„æœ‹å‹ï¼Œæˆ–æ˜¯é€šè¿‡è¿œç¨‹æ¡Œé¢ç®¡ç†æ¥æ“ä½œå¦ä¸€å°ç”µè„‘ï¼Œä¹Ÿå¯ä»¥æ˜¯è¿æ¥æœ¬åœ°ç½‘ç»œä¸Šçš„æ‰“å°æœºã€‚ æ—¢ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ç½‘ç»œè®¿é—®å…¶ä»–è®¡ç®—æœºï¼Œé‚£ä¹ˆå¦‚ä½•åŒºåˆ«ä¸åŒçš„è®¡ç®—æœºå‘¢ï¼Ÿé€šè¿‡IPåœ°å€ï¼Œæˆ‘ä»¬å°±å¯ä»¥åŒºåˆ†ä¸åŒçš„è®¡ç®—æœºäº†ï¼š æ¯ä¸€å°ç”µè„‘åœ¨åŒä¸€ä¸ªç½‘ç»œä¸Šéƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„IPåœ°å€ï¼Œç”¨äºåŒºåˆ«äºå…¶ä»–çš„ç”µè„‘ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹æ–¹ä¸»æœºçš„IPåœ°å€å¯¹å…¶è¿›è¡Œè®¿é—®ã€‚é‚£ä¹ˆæˆ‘æ‰‹æœºè¿æ¥çš„ç§»åŠ¨æµé‡ï¼Œèƒ½è®¿é—®åˆ°è¿æ¥å®¶é‡Œè·¯ç”±å™¨çš„ç”µè„‘å—ï¼Ÿï¼ˆä¸èƒ½ï¼Œå› ä¸ºä»–ä»¬ä¸å±äºåŒä¸€ä¸ªç½‘ç»œï¼‰ è€Œæˆ‘ä»¬çš„ç”µè„‘ä¸Šå¯èƒ½è¿è¡Œç€å¤§é‡çš„ç¨‹åºï¼Œæ¯ä¸€ä¸ªç¨‹åºå¯èƒ½éƒ½éœ€è¦é€šè¿‡ç½‘ç»œæ¥è®¿é—®å…¶ä»–è®¡ç®—æœºï¼Œé‚£è¿™æ—¶è¯¥å¦‚ä½•åŒºåˆ†å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡ç«¯å£å·æ¥åŒºåˆ†ï¼š å› æ­¤ï¼Œæˆ‘ä»¬ä¸€èˆ¬çœ‹åˆ°çš„æ˜¯è¿™æ ·çš„ï¼š192.168.0.11:8080ï¼Œé€šè¿‡IP:ç«¯å£çš„å½¢å¼æ¥è®¿é—®ç›®æ ‡ä¸»æœºä¸Šçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºæœåŠ¡ã€‚æ³¨æ„ç«¯å£å·åªèƒ½æ˜¯0-65535ä¹‹é—´çš„å€¼ï¼ IPåœ°å€åˆ†ä¸ºIPv4å’ŒIPv6ï¼ŒIPv4ç±»ä¼¼äº192.168.0.11ï¼Œæˆ‘ä»¬ä¸Šé¢æåˆ°çš„ä¾‹å­éƒ½æ˜¯ä½¿ç”¨çš„IPv4ï¼Œå®ƒä¸€å…±æœ‰å››ç»„æ•°å­—ï¼Œæ¯ç»„æ•°å­—å 8ä¸ªbitä½ï¼ŒIPv4åœ°å€0.0.0.0è¡¨ç¤ºä¸º2è¿›åˆ¶å°±æ˜¯ï¼š00000000.00000000.00000000.00000000ï¼Œå…±32ä¸ªbitï¼Œæœ€å¤§ä¸º255.255.255.255ï¼Œå®é™…ä¸Šï¼ŒIPv4èƒ½å¤Ÿè¡¨ç¤ºçš„æ‰€æœ‰åœ°å€ï¼Œæ—©å°±å·²ç»è¢«ç”¨å®Œäº†ã€‚IPv6èƒ½å¤Ÿä¿å­˜128ä¸ªbitä½ï¼Œå› æ­¤å®ƒä¹Ÿå¯ä»¥è¡¨ç¤ºæ›´å¤šçš„IPåœ°å€ï¼Œä¸€ä¸ªIPv6åœ°å€çœ‹èµ·æ¥åƒè¿™æ ·ï¼š1030::C9B4:FF12:48AA:1A2Bï¼Œç›®å‰ä¹Ÿæ­£åœ¨å‘IPv6çš„é˜¶æ®µè¿‡åº¦ã€‚ TCPå’ŒUDPæ˜¯ä¸¤ç§ä¸åŒçš„ä¼ è¾“å±‚åè®®ï¼š TCPï¼šå½“ä¸€å°è®¡ç®—æœºæƒ³è¦ä¸å¦ä¸€å°è®¡ç®—æœºé€šè®¯æ—¶ï¼Œä¸¤å°è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡éœ€è¦ç•…é€šä¸”å¯é ï¼ˆä¼šè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œæ–­å¼€ä¹Ÿä¼šè¿›è¡Œå››æ¬¡æŒ¥æ‰‹ï¼‰ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯æ­£ç¡®æ”¶å‘æ•°æ®ï¼Œå› æ­¤TCPæ›´é€‚åˆä¸€äº›å¯é çš„æ•°æ®ä¼ è¾“åœºæ™¯ã€‚ UDPï¼šå®ƒæ˜¯ä¸€ç§æ— è¿æ¥åè®®ï¼Œæ•°æ®æƒ³å‘å°±å‘ï¼Œè€Œä¸”ä¸ä¼šå»ºç«‹å¯é ä¼ è¾“ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼ è¾“è¿‡ç¨‹ä¸­æœ‰å¯èƒ½ä¼šå¯¼è‡´éƒ¨åˆ†æ•°æ®ä¸¢å¤±ï¼Œä½†æ˜¯å®ƒæ¯”TCPä¼ è¾“æ›´åŠ ç®€å•é«˜æ•ˆï¼Œé€‚åˆè§†é¢‘ç›´æ’­ä¹‹ç±»çš„ã€‚ ","date":"2022-01-26","objectID":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/:1:0","tags":["JavaWebç¬¬ä¸€èŠ‚"],"title":"Javaç½‘ç»œç¼–ç¨‹","uri":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"categories":["JavaWebç¬”è®°"],"content":"äº†è§£SocketæŠ€æœ¯ é€šè¿‡SocketæŠ€æœ¯ï¼ˆå®ƒæ˜¯è®¡ç®—æœºä¹‹é—´è¿›è¡Œé€šä¿¡çš„ä¸€ç§çº¦å®šæˆ–ä¸€ç§æ–¹å¼ï¼‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°ä¸¤å°è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡ï¼ŒSocketä¹Ÿè¢«ç¿»è¯‘ä¸ºå¥—æ¥å­—ï¼Œæ˜¯æ“ä½œç³»ç»Ÿåº•å±‚æä¾›çš„ä¸€é¡¹é€šä¿¡æŠ€æœ¯ï¼Œå®ƒæ”¯æŒTCPå’ŒUDPã€‚è€ŒJavaå°±å¯¹socketåº•å±‚æ”¯æŒè¿›è¡Œäº†ä¸€å¥—å®Œæ•´çš„å°è£…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Javaæ¥å®ç°Socketé€šä¿¡ã€‚ è¦å®ç°Socketé€šä¿¡ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªæ•°æ®å‘é€è€…å’Œä¸€ä¸ªæ•°æ®æ¥æ”¶è€…ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼Œæˆ‘ä»¬éœ€è¦æå‰å¯åŠ¨æœåŠ¡ç«¯ï¼Œæ¥ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œè€Œå®¢æˆ·ç«¯åªéœ€è¦éšæ—¶å¯åŠ¨å»è¿æ¥æœåŠ¡ç«¯å³å¯ï¼ //æœåŠ¡ç«¯ public static void main(String[] args) { try(ServerSocket server = new ServerSocket(8080)){ //å°†æœåŠ¡ç«¯åˆ›å»ºåœ¨ç«¯å£8080ä¸Š System.out.println(\"æ­£åœ¨ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥...\"); Socket socket = server.accept(); //å½“æ²¡æœ‰å®¢æˆ·ç«¯è¿æ¥æ—¶ï¼Œçº¿ç¨‹ä¼šé˜»å¡ï¼Œç›´åˆ°æœ‰å®¢æˆ·ç«¯è¿æ¥ä¸ºæ­¢ System.out.println(\"å®¢æˆ·ç«¯å·²è¿æ¥ï¼ŒIPåœ°å€ä¸ºï¼š\"+socket.getInetAddress().getHostAddress()); }catch (IOException e){ e.printStackTrace(); } } //å®¢æˆ·ç«¯ public static void main(String[] args) { try (Socket socket = new Socket(\"localhost\", 8080)){ System.out.println(\"å·²è¿æ¥åˆ°æœåŠ¡ç«¯ï¼\"); }catch (IOException e){ System.out.println(\"æœåŠ¡ç«¯è¿æ¥å¤±è´¥ï¼\"); e.printStackTrace(); } } å®é™…ä¸Šå®ƒå°±æ˜¯ä¸€ä¸ªTCPè¿æ¥çš„å»ºç«‹è¿‡ç¨‹ï¼š ä¸€æ—¦TCPè¿æ¥å»ºç«‹ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´å°±å¯ä»¥ç›¸äº’å‘é€æ•°æ®ï¼Œç›´åˆ°å®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­è¿æ¥ã€‚å½“ç„¶ï¼ŒæœåŠ¡ç«¯ä¸ä»…ä»…åªå¯ä»¥è®©ä¸€ä¸ªå®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•è®©æœåŠ¡ç«¯ä¸€ç›´è¿è¡Œæ¥ä¸æ–­æ¥å—å®¢æˆ·ç«¯çš„è¿æ¥ï¼š public static void main(String[] args) { try(ServerSocket server = new ServerSocket(8080)){ //å°†æœåŠ¡ç«¯åˆ›å»ºåœ¨ç«¯å£8080ä¸Š System.out.println(\"æ­£åœ¨ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥...\"); while (true){ //æ— é™å¾ªç¯ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ Socket socket = server.accept(); System.out.println(\"å®¢æˆ·ç«¯å·²è¿æ¥ï¼ŒIPåœ°å€ä¸ºï¼š\"+socket.getInetAddress().getHostAddress()); } }catch (IOException e){ e.printStackTrace(); } } ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å¤šæ¬¡å»è¿æ¥æ­¤æœåŠ¡ç«¯äº†ã€‚ ","date":"2022-01-26","objectID":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/:2:0","tags":["JavaWebç¬¬ä¸€èŠ‚"],"title":"Javaç½‘ç»œç¼–ç¨‹","uri":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"categories":["JavaWebç¬”è®°"],"content":"ä½¿ç”¨Socketè¿›è¡Œæ•°æ®ä¼ è¾“ é€šè¿‡Socketå¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„I/Oæµè¿›è¡Œç½‘ç»œæ•°æ®ä¼ è¾“ï¼š public static void main(String[] args) { try (Socket socket = new Socket(\"localhost\", 8080); Scanner scanner = new Scanner(System.in)){ System.out.println(\"å·²è¿æ¥åˆ°æœåŠ¡ç«¯ï¼\"); OutputStream stream = socket.getOutputStream(); OutputStreamWriter writer = new OutputStreamWriter(stream); //é€šè¿‡è½¬æ¢æµæ¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå†™å…¥å†…å®¹ System.out.println(\"è¯·è¾“å…¥è¦å‘é€ç»™æœåŠ¡ç«¯çš„å†…å®¹ï¼š\"); String text = scanner.nextLine(); writer.write(text+'\\n'); //å› ä¸ºå¯¹æ–¹æ˜¯readLine()è¿™é‡ŒåŠ ä¸ªæ¢è¡Œç¬¦ writer.flush(); System.out.println(\"æ•°æ®å·²å‘é€ï¼š\"+text); }catch (IOException e){ System.out.println(\"æœåŠ¡ç«¯è¿æ¥å¤±è´¥ï¼\"); e.printStackTrace(); }finally { System.out.println(\"å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼\"); } } } public static void main(String[] args) { try(ServerSocket server = new ServerSocket(8080)){ //å°†æœåŠ¡ç«¯åˆ›å»ºåœ¨ç«¯å£8080ä¸Š System.out.println(\"æ­£åœ¨ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥...\"); Socket socket = server.accept(); System.out.println(\"å®¢æˆ·ç«¯å·²è¿æ¥ï¼ŒIPåœ°å€ä¸ºï¼š\"+socket.getInetAddress().getHostAddress()); BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream())); //é€šè¿‡ System.out.print(\"æ¥æ”¶åˆ°å®¢æˆ·ç«¯æ•°æ®ï¼š\"); System.out.println(reader.readLine()); socket.close(); //å’ŒæœåŠ¡ç«¯TCPè¿æ¥å®Œæˆä¹‹åï¼Œè®°å¾—å…³é—­socket }catch (IOException e){ e.printStackTrace(); } } åŒç†ï¼Œæ—¢ç„¶æœåŠ¡ç«¯å¯ä»¥è¯»å–å®¢æˆ·ç«¯çš„å†…å®¹ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥åœ¨å‘é€åç­‰å¾…æœåŠ¡ç«¯ç»™äºˆå“åº”ï¼š public static void main(String[] args) { try (Socket socket = new Socket(\"localhost\", 8080); Scanner scanner = new Scanner(System.in)){ System.out.println(\"å·²è¿æ¥åˆ°æœåŠ¡ç«¯ï¼\"); OutputStream stream = socket.getOutputStream(); OutputStreamWriter writer = new OutputStreamWriter(stream); //é€šè¿‡è½¬æ¢æµæ¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå†™å…¥å†…å®¹ System.out.println(\"è¯·è¾“å…¥è¦å‘é€ç»™æœåŠ¡ç«¯çš„å†…å®¹ï¼š\"); String text = scanner.nextLine(); writer.write(text+'\\n'); //å› ä¸ºå¯¹æ–¹æ˜¯readLine()è¿™é‡ŒåŠ ä¸ªæ¢è¡Œç¬¦ writer.flush(); System.out.println(\"æ•°æ®å·²å‘é€ï¼š\"+text); BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream())); System.out.println(\"æ”¶åˆ°æœåŠ¡å™¨è¿”å›ï¼š\"+reader.readLine()); }catch (IOException e){ System.out.println(\"æœåŠ¡ç«¯è¿æ¥å¤±è´¥ï¼\"); e.printStackTrace(); }finally { System.out.println(\"å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼\"); } } public static void main(String[] args) { try(ServerSocket server = new ServerSocket(8080)){ //å°†æœåŠ¡ç«¯åˆ›å»ºåœ¨ç«¯å£8080ä¸Š System.out.println(\"æ­£åœ¨ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥...\"); Socket socket = server.accept(); System.out.println(\"å®¢æˆ·ç«¯å·²è¿æ¥ï¼ŒIPåœ°å€ä¸ºï¼š\"+socket.getInetAddress().getHostAddress()); BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream())); //é€šè¿‡ System.out.print(\"æ¥æ”¶åˆ°å®¢æˆ·ç«¯æ•°æ®ï¼š\"); System.out.println(reader.readLine()); OutputStreamWriter writer = new OutputStreamWriter(socket.getOutputStream()); writer.write(\"å·²æ”¶åˆ°ï¼\"); writer.flush(); }catch (IOException e){ e.printStackTrace(); } } æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å…³é—­å•å‘çš„æµï¼š socket.shutdownOutput(); //å…³é—­è¾“å‡ºæ–¹å‘çš„æµ socket.shutdownInput(); //å…³é—­è¾“å…¥æ–¹å‘çš„æµ å¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›æœåŠ¡ç«¯ç­‰å¾…å¤ªé•¿çš„æ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨setSoTimeout()æ–¹æ³•æ¥è®¾å®šIOè¶…æ—¶æ—¶é—´ï¼š socket.setSoTimeout(3000); å½“è¶…è¿‡è®¾å®šæ—¶é—´éƒ½ä¾ç„¶æ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯æˆ–æ˜¯æœåŠ¡ç«¯çš„æ•°æ®æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼š java.net.SocketTimeoutException: Read timed out at java.net.SocketInputStream.socketRead0(Native Method) at java.net.SocketInputStream.socketRead(SocketInputStream.java:116) at java.net.SocketInputStream.read(SocketInputStream.java:171) at java.net.SocketInputStream.read(SocketInputStream.java:141) at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284) at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326) at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178) at java.io.InputStreamReader.read(InputStreamReader.java:184) at java.io.BufferedReader.fill(BufferedReader.java:161) at java.io.BufferedReader.readLine(BufferedReader.java:324) at java.io.BufferedReader.readLine(BufferedReader.java:389) at com.test.Main.main(Main.java:41) æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„éƒ½æ˜¯é€šè¿‡æ„é€ æ–¹æ³•ç›´æ¥è¿æ¥æœåŠ¡ç«¯ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥ç­‰åˆ°æˆ‘ä»¬æƒ³è¦çš„æ—¶å€™å†å»è¿æ¥å‘¢ï¼Ÿ try (Socket socket = new Socket(); //è°ƒç”¨æ— å‚æ„é€ ä¸ä¼šè‡ªåŠ¨è¿æ¥ Scanner scanner = new Scanner(System.in)){ socket.connect(new InetSocketAddress(\"localhost\", 8080), 1000); //æ‰‹åŠ¨è°ƒç”¨connectæ–¹æ³•è¿›è¡Œè¿æ¥ å¦‚æœè¿æ¥çš„åŒæ–¹å‘ç”Ÿæ„å¤–è€Œé€šçŸ¥ä¸åˆ°å¯¹æ–¹ï¼Œå¯¼è‡´ä¸€æ–¹è¿˜æŒæœ‰è¿æ¥ï¼Œè¿™æ ·å°±ä¼šå ç”¨èµ„æºï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨setKeepAlive()æ–¹æ³•æ¥é˜²æ­¢æ­¤ç±»æƒ…å†µå‘ç”Ÿï¼š socket.setKeepAlive(true); å½“å®¢æˆ·ç«¯è¿æ¥åï¼Œå¦‚æœè®¾ç½®äº†keepliveä¸º trueï¼Œå½“å¯¹æ–¹æ²¡æœ‰å‘é€ä»»ä½•æ•°æ®è¿‡æ¥ï¼Œè¶…è¿‡ä¸€ä¸ªæ—¶é—´(çœ‹ç³»ç»Ÿå†…æ ¸å‚æ•°é…ç½®)ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿™è¾¹ä¼šå‘é€ä¸€ä¸ªackæ¢æµ‹åŒ…å‘åˆ°å¯¹æ–¹ï¼Œæ¢æµ‹åŒæ–¹çš„TCP/IPè¿æ¥æ˜¯å¦æœ‰æ•ˆã€‚ TCPåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œå®é™…ä¸Šä¼šæœ‰ä¸€ä¸ªç¼“å†²åŒºç”¨äºæ•°æ®çš„å‘é€å’Œæ¥æ”¶ï¼š æ­¤ç¼“å†²åŒºå¤§å°ä¸ºï¼š8192ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è°ƒæ•´å…¶å¤§å°æ¥ä¼˜åŒ–ä¼ è¾“æ•ˆç‡ï¼š socket.setReceiveBufferSize(25565); /","date":"2022-01-26","objectID":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/:3:0","tags":["JavaWebç¬¬ä¸€èŠ‚"],"title":"Javaç½‘ç»œç¼–ç¨‹","uri":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"categories":["JavaWebç¬”è®°"],"content":"ä½¿ç”¨Socketä¼ è¾“æ–‡ä»¶ æ—¢ç„¶Socketä¸ºæˆ‘ä»¬æä¾›äº†IOæµä¾¿äºæ•°æ®ä¼ è¾“ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è½»æ¾åœ°å®ç°æ–‡ä»¶ä¼ è¾“äº†ã€‚ ","date":"2022-01-26","objectID":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/:4:0","tags":["JavaWebç¬¬ä¸€èŠ‚"],"title":"Javaç½‘ç»œç¼–ç¨‹","uri":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"categories":["JavaWebç¬”è®°"],"content":"ä½¿ç”¨æµè§ˆå™¨è®¿é—®SocketæœåŠ¡å™¨ åœ¨äº†è§£äº†å¦‚ä½•ä½¿ç”¨Socketä¼ è¾“æ–‡ä»¶åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œæµè§ˆå™¨æ˜¯å¦‚ä½•å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚çš„ï¼š public static void main(String[] args) { try(ServerSocket server = new ServerSocket(8080)){ //å°†æœåŠ¡ç«¯åˆ›å»ºåœ¨ç«¯å£8080ä¸Š System.out.println(\"æ­£åœ¨ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥...\"); Socket socket = server.accept(); System.out.println(\"å®¢æˆ·ç«¯å·²è¿æ¥ï¼ŒIPåœ°å€ä¸ºï¼š\"+socket.getInetAddress().getHostAddress()); InputStream in = socket.getInputStream(); //é€šè¿‡ System.out.println(\"æ¥æ”¶åˆ°å®¢æˆ·ç«¯æ•°æ®ï¼š\"); while (true){ int i = in.read(); if(i == -1) break; System.out.print((char) i); } }catch (Exception e){ e.printStackTrace(); } } æˆ‘ä»¬ç°åœ¨æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥http://localhost:8080æˆ–æ˜¯http://127.0.0.1:8080/ï¼Œæ¥è¿æ¥æˆ‘ä»¬æœ¬åœ°å¼€æ”¾çš„æœåŠ¡å™¨ã€‚ æˆ‘ä»¬å‘ç°æµè§ˆå™¨æ˜¯æ— æ³•æ‰“å¼€è¿™ä¸ªé“¾æ¥çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æœåŠ¡ç«¯å´æ”¶åˆ°äº†ä¸å°‘çš„ä¿¡æ¯ï¼š GET / HTTP/1.1\rHost: 127.0.0.1:8080\rConnection: keep-alive\rCache-Control: max-age=0\rsec-ch-ua: \"Chromium\";v=\"94\", \"Google Chrome\";v=\"94\", \";Not A Brand\";v=\"99\"\rsec-ch-ua-mobile: ?0\rsec-ch-ua-platform: \"macOS\"\rUpgrade-Insecure-Requests: 1\rUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36\rAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\rSec-Fetch-Site: none\rSec-Fetch-Mode: navigate\rSec-Fetch-User: ?1\rSec-Fetch-Dest: document\rAccept-Encoding: gzip, deflate, br\rAccept-Language: zh-CN,zh;q=0.9,und;q=0.8,en;q=0.7\rå®é™…ä¸Šè¿™äº›å†…å®¹éƒ½æ˜¯Httpåè®®è§„å®šçš„è¯·æ±‚å¤´å†…å®¹ã€‚HTTPæ˜¯ä¸€ç§åº”ç”¨å±‚åè®®ï¼Œå…¨ç§°ä¸ºè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œå®ƒæœ¬è´¨ä¹Ÿæ˜¯åŸºäºTCPåè®®è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œå› æ­¤æˆ‘ä»¬çš„æœåŠ¡ç«¯èƒ½å¤Ÿè¯»å–HTTPè¯·æ±‚ã€‚ä½†æ˜¯Httpåè®®å¹¶ä¸ä¼šä¿æŒé•¿è¿æ¥ï¼Œåœ¨å¾—åˆ°æˆ‘ä»¬å“åº”çš„æ•°æ®åä¼šç«‹å³å…³é—­TCPè¿æ¥ã€‚ æ—¢ç„¶ä½¿ç”¨çš„æ˜¯Httpè¿æ¥ï¼Œå¦‚æœæˆ‘ä»¬çš„æœåŠ¡å™¨è¦æ”¯æŒå“åº”HTTPè¯·æ±‚ï¼Œé‚£ä¹ˆå°±éœ€è¦æŒ‰ç…§HTTPåè®®çš„è§„åˆ™ï¼Œè¿”å›ä¸€ä¸ªè§„èŒƒçš„å“åº”æ–‡æœ¬ï¼Œé¦–å…ˆæ˜¯å“åº”å¤´ï¼Œå®ƒè‡³å°‘è¦åŒ…å«ä¸€ä¸ªå“åº”ç ï¼š HTTP/1.1 200 Accpeted\rç„¶åå°±æ˜¯å“åº”å†…å®¹ï¼ˆæ³¨æ„ä¸€å®šè¦æ¢è¡Œå†å†™ï¼‰ï¼Œæˆ‘ä»¬å°è¯•æ¥ç¼–å†™ä¸€ä¸‹æ”¯æŒHTTPåè®®çš„å“åº”å†…å®¹ï¼š public static void main(String[] args) { try(ServerSocket server = new ServerSocket(8080)){ //å°†æœåŠ¡ç«¯åˆ›å»ºåœ¨ç«¯å£8080ä¸Š System.out.println(\"æ­£åœ¨ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥...\"); Socket socket = server.accept(); System.out.println(\"å®¢æˆ·ç«¯å·²è¿æ¥ï¼ŒIPåœ°å€ä¸ºï¼š\"+socket.getInetAddress().getHostAddress()); BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream())); //é€šè¿‡ System.out.println(\"æ¥æ”¶åˆ°å®¢æˆ·ç«¯æ•°æ®ï¼š\"); while (reader.ready()) System.out.println(reader.readLine()); //readyæ˜¯åˆ¤æ–­å½“å‰æµä¸­æ˜¯å¦è¿˜æœ‰å¯è¯»å†…å®¹ OutputStreamWriter writer = new OutputStreamWriter(socket.getOutputStream()); writer.write(\"HTTP/1.1 200 Accepted\\r\\n\"); //200æ˜¯å“åº”ç ï¼ŒHttpåè®®è§„å®š200ä¸ºæ¥å—è¯·æ±‚ï¼Œ400ä¸ºé”™è¯¯çš„è¯·æ±‚ï¼Œ404ä¸ºæ‰¾ä¸åˆ°æ­¤èµ„æºï¼ˆä¸æ­¢è¿™äº›ï¼Œè¿˜æœ‰å¾ˆå¤šï¼‰ writer.write(\"\\r\\n\"); //åœ¨è¯·æ±‚å¤´å†™å®Œä¹‹åè¿˜è¦è¿›è¡Œä¸€æ¬¡æ¢è¡Œï¼Œç„¶åå†™å…¥æˆ‘ä»¬çš„å“åº”å®ä½“ï¼ˆä¼šåœ¨æµè§ˆå™¨ä¸Šå±•ç¤ºçš„å†…å®¹ï¼‰ writer.write(\"lbwnb!\"); writer.flush(); }catch (Exception e){ e.printStackTrace(); } } æˆ‘ä»¬å¯ä»¥æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…æ¨¡å¼ï¼ˆè¿™é‡Œæ¨èä½¿ç”¨Chrome/Edgeæµè§ˆå™¨ï¼ŒæŒ‰ä¸‹F12å³å¯æ‰“å¼€ï¼‰ï¼Œæˆ‘ä»¬æ¥è§‚å¯Ÿä¸€ä¸‹æµè§ˆå™¨çš„å®é™…è¯·æ±‚è¿‡ç¨‹ã€‚ ","date":"2022-01-26","objectID":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/:5:0","tags":["JavaWebç¬¬ä¸€èŠ‚"],"title":"Javaç½‘ç»œç¼–ç¨‹","uri":"/posts/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"categories":["Linuxç½‘ç»œç¼–ç¨‹"],"content":"TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»","date":"2022-01-26","objectID":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/","tags":["TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»"],"title":"TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»","uri":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/"},{"categories":["Linuxç½‘ç»œç¼–ç¨‹"],"content":" åŸºäº TCP çš„ç½‘ç»œç¼–ç¨‹å¼€å‘åˆ†ä¸ºæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä¸¤éƒ¨åˆ†ï¼Œå¸¸è§çš„æ ¸å¿ƒæ­¥éª¤å’Œæµç¨‹å¦‚ä¸‹ï¼š æ•´ä¸ªå‡½æ•°è°ƒç”¨(image)\"\ræ•´ä¸ªå‡½æ•°è°ƒç”¨(image)\r ","date":"2022-01-26","objectID":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/:0:0","tags":["TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»"],"title":"TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»","uri":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/"},{"categories":["Linuxç½‘ç»œç¼–ç¨‹"],"content":"accept()å‡½æ•° å¯¹äºå®¢æˆ·ç«¯çš„ connect() å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„åŠŸèƒ½ä¸ºå®¢æˆ·ç«¯ä¸»åŠ¨è¿æ¥æœåŠ¡å™¨ï¼Œå»ºç«‹è¿æ¥æ˜¯é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œè¿™ä¸ªè¿æ¥çš„è¿‡ç¨‹æ˜¯ç”±å†…æ ¸å®Œæˆï¼Œä¸æ˜¯è¿™ä¸ªå‡½æ•°å®Œæˆçš„ï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨ä»…ä»…æ˜¯é€šçŸ¥ Linux å†…æ ¸ï¼Œè®© Linux å†…æ ¸è‡ªåŠ¨å®Œæˆ TCP ä¸‰æ¬¡æ¡æ‰‹è¿æ¥ï¼Œæœ€åæŠŠè¿æ¥çš„ç»“æœè¿”å›ç»™è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼ˆæˆåŠŸè¿æ¥ä¸º0ï¼Œ å¤±è´¥ä¸º-1ï¼‰ã€‚ é€šå¸¸çš„æƒ…å†µï¼Œå®¢æˆ·ç«¯çš„ connect() å‡½æ•°é»˜è®¤ä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°ä¸‰æ¬¡æ¡æ‰‹æˆåŠŸæˆ–è¶…æ—¶å¤±è´¥æ‰è¿”å›ï¼ˆæ­£å¸¸çš„æƒ…å†µï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆå¿«å®Œæˆï¼‰ã€‚ ","date":"2022-01-26","objectID":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/:1:0","tags":["TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»"],"title":"TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»","uri":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/"},{"categories":["Linuxç½‘ç»œç¼–ç¨‹"],"content":"listen()å‡½æ•° å¯¹äºæœåŠ¡å™¨ï¼Œå®ƒæ˜¯è¢«åŠ¨è¿æ¥çš„ã€‚ä¸¾ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼Œé€šå¸¸çš„æƒ…å†µä¸‹ï¼Œç§»åŠ¨çš„å®¢æœï¼ˆç›¸å½“äºæœåŠ¡å™¨ï¼‰æ˜¯ç­‰å¾…ç€å®¢æˆ·ï¼ˆç›¸å½“äºå®¢æˆ·ç«¯ï¼‰ç”µè¯çš„åˆ°æ¥ã€‚è€Œè¿™ä¸ªè¿‡ç¨‹ï¼Œéœ€è¦è°ƒç”¨listen()å‡½æ•°ã€‚ #include\u003csys/socket.h\u003eint listen(int sockfd, int backlog); listen() å‡½æ•°çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†å¥—æ¥å­—( sockfd )å˜æˆè¢«åŠ¨çš„è¿æ¥ç›‘å¬å¥—æ¥å­—ï¼ˆè¢«åŠ¨ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥ï¼‰ï¼Œè‡³äºå‚æ•° backlog çš„ä½œç”¨æ˜¯è®¾ç½®å†…æ ¸ä¸­è¿æ¥é˜Ÿåˆ—çš„é•¿åº¦ï¼ˆè¿™ä¸ªé•¿åº¦æœ‰ä»€ä¹ˆç”¨ï¼Œåé¢åšè¯¦ç»†çš„è§£é‡Šï¼‰ï¼ŒTCP ä¸‰æ¬¡æ¡æ‰‹ä¹Ÿä¸æ˜¯ç”±è¿™ä¸ªå‡½æ•°å®Œæˆï¼Œlisten()çš„ä½œç”¨ä»…ä»…å‘Šè¯‰å†…æ ¸ä¸€äº›ä¿¡æ¯ã€‚ è¿™æ ·çš„è¯ï¼Œå½“æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯ä¸»åŠ¨è¿æ¥ connect()ï¼ŒLinux å†…æ ¸å°±è‡ªåŠ¨å®ŒæˆTCP ä¸‰æ¬¡æ¡æ‰‹ï¼Œå°†å»ºç«‹å¥½çš„é“¾æ¥è‡ªåŠ¨å­˜å‚¨åˆ°é˜Ÿåˆ—ä¸­ï¼Œå¦‚æ­¤é‡å¤ã€‚ æ‰€ä»¥ï¼Œåªè¦ TCP æœåŠ¡å™¨è°ƒç”¨äº† listen()ï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥é€šè¿‡ connect() å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œè€Œè¿™ä¸ªè¿æ¥çš„è¿‡ç¨‹æ˜¯ç”±å†…æ ¸å®Œæˆã€‚ ä¸‰æ¬¡æ¡æ‰‹\"\rä¸‰æ¬¡æ¡æ‰‹\r ä¸‹é¢ä¸ºæµ‹è¯•çš„æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä»£ç ï¼Œè¿è¡Œç¨‹åºæ—¶ï¼Œè¦å…ˆè¿è¡ŒæœåŠ¡å™¨ï¼Œå†è¿è¡Œå®¢æˆ·ç«¯ï¼š æœåŠ¡å™¨ï¼š #include \u003cstdio.h\u003e#include \u003cstdlib.h\u003e#include \u003cstring.h\u003e #include \u003cunistd.h\u003e#include \u003csys/socket.h\u003e#include \u003cnetinet/in.h\u003e#include \u003carpa/inet.h\u003e int main(int argc, char *argv[]) { unsigned short port = 8000; int sockfd; sockfd = socket(AF_INET, SOCK_STREAM, 0);// åˆ›å»ºé€šä¿¡ç«¯ç‚¹ï¼šå¥—æ¥å­— if(sockfd \u003c 0) { perror(\"socket\"); exit(-1); } struct sockaddr_in my_addr; bzero(\u0026my_addr, sizeof(my_addr)); my_addr.sin_family = AF_INET; my_addr.sin_port = htons(port); my_addr.sin_addr.s_addr = htonl(INADDR_ANY); int err_log = bind(sockfd, (struct sockaddr*)\u0026my_addr, sizeof(my_addr)); if( err_log != 0) { perror(\"binding\"); close(sockfd); exit(-1); } err_log = listen(sockfd, 10); if(err_log != 0) { perror(\"listen\"); close(sockfd); exit(-1); } printf(\"listen client @port=%d...\\n\",port); sleep(10); // å»¶æ—¶10s system(\"netstat -an | grep 8000\"); // æŸ¥çœ‹è¿æ¥çŠ¶æ€ return 0; } å®¢æˆ·ç«¯ #include \u003cstdio.h\u003e#include \u003cunistd.h\u003e#include \u003cstring.h\u003e#include \u003cstdlib.h\u003e#include \u003carpa/inet.h\u003e#include \u003csys/socket.h\u003e#include \u003cnetinet/in.h\u003eint main(int argc, char *argv[]) { unsigned short port = 8000; // æœåŠ¡å™¨çš„ç«¯å£å· char *server_ip = \"10.221.20.12\"; // æœåŠ¡å™¨ipåœ°å€ int sockfd; sockfd = socket(AF_INET, SOCK_STREAM, 0);// åˆ›å»ºé€šä¿¡ç«¯ç‚¹ï¼šå¥—æ¥å­— if(sockfd \u003c 0) { perror(\"socket\"); exit(-1); } struct sockaddr_in server_addr; bzero(\u0026server_addr,sizeof(server_addr)); // åˆå§‹åŒ–æœåŠ¡å™¨åœ°å€ server_addr.sin_family = AF_INET; server_addr.sin_port = htons(port); inet_pton(AF_INET, server_ip, \u0026server_addr.sin_addr); int err_log = connect(sockfd, (struct sockaddr*)\u0026server_addr, sizeof(server_addr)); // ä¸»åŠ¨è¿æ¥æœåŠ¡å™¨ if(err_log != 0) { perror(\"connect\"); close(sockfd); exit(-1); } system(\"netstat -an | grep 8000\"); // æŸ¥çœ‹è¿æ¥çŠ¶æ€ while(1); return 0; } è¿è¡Œç»“æœï¼š ","date":"2022-01-26","objectID":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/:2:0","tags":["TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»"],"title":"TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»","uri":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/"},{"categories":["Linuxç½‘ç»œç¼–ç¨‹"],"content":"ä¸‰æ¬¡æ¡æ‰‹çš„è¿æ¥é˜Ÿåˆ— è¿™é‡Œè¯¦ç»†çš„ä»‹ç»ä¸€ä¸‹ listen() å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ï¼ˆ backlogï¼‰çš„ä½œç”¨ï¼šå‘Šè¯‰å†…æ ¸è¿æ¥é˜Ÿåˆ—çš„é•¿åº¦ã€‚ ä¸ºäº†æ›´å¥½çš„ç†è§£ backlog å‚æ•°ï¼Œæˆ‘ä»¬å¿…é¡»è®¤è¯†åˆ°å†…æ ¸ä¸ºä»»ä½•ä¸€ä¸ªç»™å®šçš„ç›‘å¬å¥—æ¥å£ç»´æŠ¤ä¸¤ä¸ªé˜Ÿåˆ—ï¼š æœªå®Œæˆè¿æ¥é˜Ÿåˆ—ï¼ˆincomplete connection queueï¼‰ï¼Œä»¥æŸä¸ªå®¢æˆ·å‘å‡ºå¹¶åˆ°è¾¾æœåŠ¡å™¨ï¼Œè€ŒæœåŠ¡å™¨æ­£åœ¨ç­‰å¾…å®Œæˆç›¸åº”çš„ TCP ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ã€‚è¿™äº›ç«¯å£éƒ½å¤„äºå¤„äº SYN_RCVD çŠ¶æ€ã€‚ å·²å®Œæˆè¿æ¥é˜Ÿåˆ—ï¼ˆcompleted connection queueï¼‰ï¼Œè¿™äº›ç«¯å£å¤„äº ESTABLISHED çŠ¶æ€ã€‚ å½“æ¥è‡ªå®¢æˆ·çš„ SYN åˆ°è¾¾æ—¶ï¼ŒTCP åœ¨æœªå®Œæˆè¿æ¥é˜Ÿåˆ—ä¸­åˆ›å»ºä¸€ä¸ªæ–°é¡¹ï¼Œç„¶åå“åº”ä»¥ä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬äºŒä¸ªåˆ†èŠ‚ï¼šæœåŠ¡å™¨çš„ SYN å“åº”ï¼Œå…¶ä¸­ç¨å¸¦å¯¹å®¢æˆ· SYN çš„ ACKï¼ˆå³SYN+ACKï¼‰ï¼Œè¿™ä¸€é¡¹ä¸€ç›´ä¿ç•™åœ¨æœªå®Œæˆè¿æ¥é˜Ÿåˆ—ä¸­ï¼Œç›´åˆ°ä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸‰ä¸ªåˆ†èŠ‚ï¼ˆå®¢æˆ·å¯¹æœåŠ¡å™¨ SYN çš„ ACK ï¼‰åˆ°è¾¾æˆ–è€…è¯¥é¡¹è¶…æ—¶ä¸ºæ­¢ï¼ˆæºè‡ªBerkeleyçš„å®ç°ä¸ºè¿™äº›æœªå®Œæˆè¿æ¥çš„é¡¹è®¾ç½®çš„è¶…æ—¶å€¼ä¸º75ç§’ï¼‰ã€‚ å¦‚æœä¸‰æ¬¡æ¡æ‰‹æ­£å¸¸å®Œæˆï¼Œè¯¥é¡¹å°±ä»æœªå®Œæˆè¿æ¥é˜Ÿåˆ—ç§»åˆ°å·²å®Œæˆè¿æ¥é˜Ÿåˆ—çš„é˜Ÿå°¾ã€‚ backlog å‚æ•°å†å²ä¸Šè¢«å®šä¹‰ä¸ºä¸Šé¢ä¸¤ä¸ªé˜Ÿåˆ—çš„å¤§å°ä¹‹å’Œï¼Œå¤§å¤šæ•°å®ç°é»˜è®¤å€¼ä¸º 5ï¼Œå½“æœåŠ¡å™¨æŠŠè¿™ä¸ªå®Œæˆè¿æ¥é˜Ÿåˆ—çš„æŸä¸ªè¿æ¥å–èµ°åï¼Œè¿™ä¸ªé˜Ÿåˆ—çš„ä½ç½®åˆç©ºå‡ºä¸€ä¸ªï¼Œè¿™æ ·æ¥å›å®ç°åŠ¨æ€å¹³è¡¡ï¼Œä½†åœ¨é«˜å¹¶å‘ web æœåŠ¡å™¨ä¸­æ­¤å€¼æ˜¾ç„¶ä¸å¤Ÿã€‚ ","date":"2022-01-26","objectID":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/:3:0","tags":["TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»"],"title":"TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»","uri":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/"},{"categories":["Linuxç½‘ç»œç¼–ç¨‹"],"content":"accept()å‡½æ•° accept()å‡½æ•°åŠŸèƒ½æ˜¯ï¼Œä»å¤„äº established çŠ¶æ€çš„è¿æ¥é˜Ÿåˆ—å¤´éƒ¨å–å‡ºä¸€ä¸ªå·²ç»å®Œæˆçš„è¿æ¥ï¼Œå¦‚æœè¿™ä¸ªé˜Ÿåˆ—æ²¡æœ‰å·²ç»å®Œæˆçš„è¿æ¥ï¼Œaccept()å‡½æ•°å°±ä¼šé˜»å¡ï¼Œç›´åˆ°å–å‡ºé˜Ÿåˆ—ä¸­å·²å®Œæˆçš„ç”¨æˆ·è¿æ¥ä¸ºæ­¢ã€‚ å¦‚æœï¼ŒæœåŠ¡å™¨ä¸èƒ½åŠæ—¶è°ƒç”¨ accept() å–èµ°é˜Ÿåˆ—ä¸­å·²å®Œæˆçš„è¿æ¥ï¼Œé˜Ÿåˆ—æ»¡æ‰åä¼šæ€æ ·å‘¢ï¼ŸUNPï¼ˆã€Šunixç½‘ç»œç¼–ç¨‹ã€‹ï¼‰å‘Šè¯‰æˆ‘ä»¬ï¼ŒæœåŠ¡å™¨çš„è¿æ¥é˜Ÿåˆ—æ»¡æ‰åï¼ŒæœåŠ¡å™¨ä¸ä¼šå¯¹å†å¯¹å»ºç«‹æ–°è¿æ¥çš„synè¿›è¡Œåº”ç­”ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯çš„ connect å°±ä¼šè¿”å› ETIMEDOUTã€‚ä½†å®é™…ä¸ŠLinuxçš„å¹¶ä¸æ˜¯è¿™æ ·çš„ï¼ ","date":"2022-01-26","objectID":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/:4:0","tags":["TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»"],"title":"TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»","uri":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/"},{"categories":["Linuxç½‘ç»œç¼–ç¨‹"],"content":"å®éªŒ ä¸‹é¢ä¸ºæµ‹è¯•ä»£ç ï¼ŒæœåŠ¡å™¨ listen() å‡½æ•°åªæŒ‡å®šé˜Ÿåˆ—é•¿åº¦ä¸º 2ï¼Œå®¢æˆ·ç«¯æœ‰ 6 ä¸ªä¸åŒçš„å¥—æ¥å­—ä¸»åŠ¨è¿æ¥æœåŠ¡å™¨ï¼ŒåŒæ—¶ï¼Œä¿è¯å®¢æˆ·ç«¯çš„ 6 ä¸ª connect()å‡½æ•°éƒ½å…ˆè°ƒç”¨å®Œæ¯•ï¼ŒæœåŠ¡å™¨çš„ accpet() æ‰å¼€å§‹è°ƒç”¨ã€‚ æœåŠ¡ç«¯ï¼š #include \u003cstdio.h\u003e#include \u003cstdlib.h\u003e#include \u003cstring.h\u003e #include \u003cunistd.h\u003e#include \u003csys/socket.h\u003e#include \u003cnetinet/in.h\u003e#include \u003carpa/inet.h\u003e int main(int argc, char *argv[]) { unsigned short port = 8000; int sockfd = socket(AF_INET, SOCK_STREAM, 0); if(sockfd \u003c 0) { perror(\"socket\"); exit(-1); } struct sockaddr_in my_addr; bzero(\u0026my_addr, sizeof(my_addr)); my_addr.sin_family = AF_INET; my_addr.sin_port = htons(port); my_addr.sin_addr.s_addr = htonl(INADDR_ANY); int err_log = bind(sockfd, (struct sockaddr*)\u0026my_addr, sizeof(my_addr)); if( err_log != 0) { perror(\"binding\"); close(sockfd); exit(-1); } err_log = listen(sockfd, 2); // ç­‰å¾…é˜Ÿåˆ—ä¸º2 if(err_log != 0) { perror(\"listen\"); close(sockfd); exit(-1); } printf(\"after listen\\n\"); sleep(20); //å»¶æ—¶ 20ç§’ printf(\"listen client @port=%d...\\n\",port); int i = 0; while(1) { struct sockaddr_in client_addr; char cli_ip[INET_ADDRSTRLEN] = \"\"; socklen_t cliaddr_len = sizeof(client_addr); int connfd; connfd = accept(sockfd, (struct sockaddr*)\u0026client_addr, \u0026cliaddr_len); if(connfd \u003c 0) { perror(\"accept\"); continue; } inet_ntop(AF_INET, \u0026client_addr.sin_addr, cli_ip, INET_ADDRSTRLEN); printf(\"-----------%d------\\n\", ++i); printf(\"client ip=%s,port=%d\\n\", cli_ip,ntohs(client_addr.sin_port)); char recv_buf[512] = {0}; while( recv(connfd, recv_buf, sizeof(recv_buf), 0) \u003e 0 ) { printf(\"recv data ==%s\\n\",recv_buf); break; } close(connfd); //å…³é—­å·²è¿æ¥å¥—æ¥å­— //printf(\"client closed!\\n\"); } close(sockfd); //å…³é—­ç›‘å¬å¥—æ¥å­— return 0; } å®¢æˆ·ç«¯ï¼š #include \u003cstdio.h\u003e#include \u003cunistd.h\u003e#include \u003cstring.h\u003e#include \u003cstdlib.h\u003e#include \u003carpa/inet.h\u003e#include \u003csys/socket.h\u003e#include \u003cnetinet/in.h\u003e void test_connect() { unsigned short port = 8000; // æœåŠ¡å™¨çš„ç«¯å£å· char *server_ip = \"10.221.20.12\"; // æœåŠ¡å™¨ipåœ°å€ int sockfd; sockfd = socket(AF_INET, SOCK_STREAM, 0);// åˆ›å»ºé€šä¿¡ç«¯ç‚¹ï¼šå¥—æ¥å­— if(sockfd \u003c 0) { perror(\"socket\"); exit(-1); } struct sockaddr_in server_addr; bzero(\u0026server_addr,sizeof(server_addr)); // åˆå§‹åŒ–æœåŠ¡å™¨åœ°å€ server_addr.sin_family = AF_INET; server_addr.sin_port = htons(port); inet_pton(AF_INET, server_ip, \u0026server_addr.sin_addr); int err_log = connect(sockfd, (struct sockaddr*)\u0026server_addr, sizeof(server_addr)); // ä¸»åŠ¨è¿æ¥æœåŠ¡å™¨ if(err_log != 0) { perror(\"connect\"); close(sockfd); exit(-1); } printf(\"err_log ========= %d\\n\", err_log); char send_buf[100]=\"this is for test\"; send(sockfd, send_buf, strlen(send_buf), 0); // å‘æœåŠ¡å™¨å‘é€ä¿¡æ¯ system(\"netstat -an | grep 8000\"); // æŸ¥çœ‹è¿æ¥çŠ¶æ€ //close(sockfd); } int main(int argc, char *argv[]) { pid_t pid; pid = fork(); if(0 == pid){ test_connect(); // 1 pid_t pid = fork(); if(0 == pid){ test_connect(); // 2 }else if(pid \u003e 0){ test_connect(); // 3 } }else if(pid \u003e 0){ test_connect(); // 4 pid_t pid = fork(); if(0 == pid){ test_connect(); // 5 }else if(pid \u003e 0){ test_connect(); // 6 } } while(1); return 0; } æœåŠ¡å™¨è°ƒç”¨ accept()å‡½æ•°å‰å»¶æ—¶äº† 20 ç§’ã€‚ä¿è¯äº†å®¢æˆ·ç«¯çš„ connect() å…¨éƒ¨è°ƒç”¨å®Œæ¯•åå†è°ƒç”¨ accept(),è¿è¡Œç»“æœå¦‚ä¸‹ï¼š å®¢æˆ·ç«¯è¿è¡Œæ•ˆæœå›¾ï¼š æŒ‰ç…§ UNP çš„è¯´æ³•ï¼Œè¿æ¥é˜Ÿåˆ—æ»¡åï¼ˆè¿™é‡Œè®¾ç½®é•¿åº¦ä¸º 2ï¼Œå‘äº† 6 ä¸ªè¿æ¥ï¼‰ï¼Œä»¥åå†è°ƒç”¨ connect() åº”è¯¥ç»Ÿç»Ÿè¶…æ—¶å¤±è´¥ï¼Œä½†å®é™…ä¸Šæµ‹è¯•ç»“æœæ˜¯ï¼šæœ‰çš„ connect()ç«‹åˆ»æˆåŠŸè¿”å›äº†ï¼Œæœ‰çš„ç»è¿‡æ˜æ˜¾å»¶è¿ŸåæˆåŠŸè¿”å›äº†ã€‚å¯¹äºæœåŠ¡å™¨ accpet() å‡½æ•°ä¹Ÿæ˜¯è¿™æ ·çš„ç»“æœï¼šæœ‰çš„ç«‹é©¬æˆåŠŸè¿”å›ï¼Œæœ‰çš„å»¶è¿ŸåæˆåŠŸè¿”å›ã€‚ å¯¹äºä¸Šé¢æœåŠ¡å™¨çš„ä»£ç ï¼Œæˆ‘ä»¬æŠŠlisen()çš„ç¬¬äºŒä¸ªå‚æ•°æ”¹ä¸º 0 ï¼Œé‡æ–°è¿è¡Œç¨‹åºï¼Œå‘ç°ï¼š å®¢æˆ·ç«¯ connect() å…¨éƒ¨è¿”å›è¿æ¥æˆåŠŸï¼ˆæœ‰äº›ä¼šå»¶æ—¶ï¼‰ï¼š æœåŠ¡å™¨ accpet() å‡½æ•°å´ä¸èƒ½æŠŠè¿æ¥é˜Ÿåˆ—çš„æ‰€æœ‰è¿æ¥éƒ½å–å‡ºæ¥ï¼š å¯¹äºä¸Šé¢æœåŠ¡å™¨çš„ä»£ç ï¼Œæˆ‘ä»¬æŠŠlisen()çš„ç¬¬äºŒä¸ªå‚æ•°æ”¹ä¸ºå¤§äº 6 çš„æ•°(å¦‚ 10)ï¼Œé‡æ–°è¿è¡Œç¨‹åºï¼Œå‘ç°ï¼Œå®¢æˆ·ç«¯ connect() ç«‹é©¬è¿”å›è¿æ¥æˆåŠŸï¼Œ æœåŠ¡å™¨ accpet() å‡½æ•°ä¹Ÿç«‹é©¬è¿”å›æˆåŠŸã€‚ ","date":"2022-01-26","objectID":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/:4:1","tags":["TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»"],"title":"TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»","uri":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/"},{"categories":["Linuxç½‘ç»œç¼–ç¨‹"],"content":"æ€»ç»“ TCP çš„è¿æ¥é˜Ÿåˆ—æ»¡åï¼ŒLinux ä¸ä¼šå¦‚ä¹¦ä¸­æ‰€è¯´çš„æ‹’ç»è¿æ¥ï¼Œåªæ˜¯æœ‰äº›ä¼šå»¶æ—¶è¿æ¥ï¼Œä½†åƒä¸‡æ³¨æ„æ­¤æ—¶accept()å°±ä¸ä¸€å®šèƒ½æŠŠå·²ç»å»ºç«‹å¥½çš„è¿æ¥å…¨éƒ¨å–å‡ºæ¥ï¼ˆå¦‚ï¼šå½“é˜Ÿåˆ—çš„é•¿åº¦æŒ‡å®šä¸º 0 ï¼‰ï¼Œå†™ç¨‹åºæ—¶æœåŠ¡å™¨çš„ listen() çš„ç¬¬äºŒä¸ªå‚æ•°æœ€å¥½è¿˜æ˜¯æ ¹æ®éœ€è¦å¡«å†™ï¼Œå†™å¤ªå¤§ä¸å¥½ï¼ˆå…·ä½“å¯ä»¥çœ‹cat /proc/sys/net/core/somaxconnï¼Œé»˜è®¤æœ€å¤§å€¼é™åˆ¶æ˜¯ 128ï¼‰ï¼Œæµªè´¹èµ„æºï¼Œå†™å¤ªå°ä¹Ÿä¸å¥½ï¼Œå»¶æ—¶å»ºç«‹è¿æ¥ã€‚ ","date":"2022-01-26","objectID":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/:4:2","tags":["TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»"],"title":"TCPç½‘ç»œç¼–ç¨‹ä¸­connectã€listenã€acceptä¸‰è€…ä¹‹é—´çš„å…³ç³»","uri":"/posts/tcp%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%ADconnectlistenaccept%E4%B8%89%E8%80%85%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"C++17 å’Œ python ä¸­å¥½ç”¨çš„æ–‡ä»¶æ“ä½œ | filesystem | os | shutil C++ 17 python åŠŸèƒ½ filesystem::path::is_absolute() os.path.isabs() åˆ¤æ–­æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„ filesystem::path::parent_path() os.path.dirname() è·¯å¾„åˆ†å‰² filesystem::path::filename() os.path.basename() è·¯å¾„åˆ†å‰² filesystem::operator/() os.path.join() è·¯å¾„æ‹¼æ¥ filesystem::current_path() os.getcwd() è·å–å½“å‰è·¯å¾„ filesystem::directory_iterator os.listdir() è¿”å›æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹ filesystem::recursive_directory_iterator os.walk() é€’å½’è¿”å›æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹ filesystem::exists() os.path.exists() åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨ filesystem::is_regular_file() os.path.isfile() åˆ¤æ–­è·¯å¾„æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½• filesystem::is_directory() os.path.isdir() åˆ¤æ–­è·¯å¾„æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½• filesystem::absolute() os.path.abspath() è¿”å›ç»å¯¹è·¯å¾„ filesystem::copy_file() shutil.copyfile() æ–‡ä»¶æ‹·è´ filesystem::remove() os.remove() æ–‡ä»¶åˆ é™¤ filesystem::copy() shutil.copytree è·¯å¾„æ‹·è´ filesystem::remove_all shutil.rmtree() è·¯å¾„åˆ é™¤ ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:0:0","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"filesystem::path vs. os.path filesystem::pathæ˜¯ä¸€ä¸ªç±»ï¼Œé‡Œé¢å°è£…äº†å¾ˆå¤šæ–¹æ³•ï¼Œæˆ‘ä»¬é€šè¿‡å®ä¾‹åŒ–ä¹‹åç›´æ¥è°ƒç”¨æ–¹æ³•ã€‚ os.pathæ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå‡½æ•°ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ã€‚ ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:1:0","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"åˆ¤æ–­æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„ ä»€ä¹ˆæ˜¯ç»å¯¹è·¯å¾„ï¼Ÿæˆ‘ä¸ªäººçš„ç†è§£æ˜¯ä»æ ¹ç›®å½•å¼€å§‹çš„å°±æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¾‹å¦‚/usr/localå’ŒC:\\\\Usersï¼Œå…¶ä½™éƒ½æ˜¯ç›¸å¯¹è·¯å¾„ã€‚å¯ä»¥å‘ç°ï¼Œåœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸­è·¯å¾„çš„åˆ†å‰²ç¬¦æ˜¯ä¸åŒçš„ã€‚åŒæ—¶åœ¨ç›¸å¯¹è·¯å¾„ä¸­./å’Œ../æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œ./è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œ../è¡¨ç¤ºä¸Šä¸€å±‚ç›®å½•ï¼Œç›¸åº”åœ°ï¼Œ../../å°±æ˜¯ä¸Šä¸¤å±‚ç›®å½•ã€‚ 1.filesystem::pathä¸­æä¾›äº†åˆ¤æ–­æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„/ç›¸å¯¹è·¯å¾„æ–¹æ³•ã€‚ _LIBCPP_INLINE_VISIBILITY bool is_absolute() const { return has_root_directory(); } _LIBCPP_INLINE_VISIBILITY bool is_relative() const { return !is_absolute(); } å¯ä»¥å‘ç°ï¼Œåˆ¤æ–­ç›¸å¯¹è·¯å¾„çš„ç»“æœå°±æ˜¯ç»å¯¹è·¯å¾„å–åã€‚ void eg1_1() { /*åˆ¤æ–­æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„*/ // std::filesystem::path abs_path = \"C:\\\\Users\"; std::filesystem::path abs_path = \"/usr/local\"; // æ³¨æ„ï¼Œå®ä¾‹åŒ–pathçš„æ—¶å€™å¯ä»¥ç›´æ¥ç”¨ç­‰å· std::cout \u003c\u003c \"abs_path.is_absolute() : \" \u003c\u003c abs_path.is_absolute() \u003c\u003c std::endl; std::cout \u003c\u003c \"abs_path.is_relative() : \" \u003c\u003c abs_path.is_relative() \u003c\u003c std::endl; std::filesystem::path rel_path = \"../\"; std::cout \u003c\u003c \"rel_path.is_absolute() : \" \u003c\u003c rel_path.is_absolute() \u003c\u003c std::endl; std::cout \u003c\u003c \"rel_path.is_relative() : \" \u003c\u003c rel_path.is_relative() \u003c\u003c std::endl; } abs_path.is_absolute() : 1 abs_path.is_relative() : 0 rel_path.is_absolute() : 0 rel_path.is_relative() : 1 os.pathä¸­æä¾›äº†isabs()å‡½æ•°ç”¨äºåˆ¤æ–­æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„ã€‚ def eg1_1(): \"\"\"åˆ¤æ–­æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„\"\"\" # abs_path = \"C:\\\\Users\" abs_path = \"/usr/local\" print(\"os.path.isabs({}) : {}\".format(abs_path, os.path.isabs(abs_path))) rel_path = \"../\" print(\"os.path.isabs({}) : {}\".format(rel_path, os.path.isabs(rel_path))) os.path.isabs(/usr/local) : True os.path.isabs(../) : False ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:1:1","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"è·¯å¾„åˆ†å‰² filesystem::pathä¸­æä¾›äº†è·¯å¾„åˆ†å‰²çš„æ–¹æ³•ã€‚ // decomposition _LIBCPP_INLINE_VISIBILITY path root_name() const { return string_type(__root_name()); } _LIBCPP_INLINE_VISIBILITY path root_directory() const { return string_type(__root_directory()); } _LIBCPP_INLINE_VISIBILITY path root_path() const { return root_name().append(string_type(__root_directory())); } _LIBCPP_INLINE_VISIBILITY path relative_path() const { return string_type(__relative_path()); } _LIBCPP_INLINE_VISIBILITY path parent_path() const { return string_type(__parent_path()); } _LIBCPP_INLINE_VISIBILITY path filename() const { return string_type(__filename()); } _LIBCPP_INLINE_VISIBILITY path stem() const { return string_type(__stem()); } _LIBCPP_INLINE_VISIBILITY path extension() const { return string_type(__extension()); } void eg1_2() { /*è·¯å¾„åˆ†å‰²*/ std::filesystem::path path = \"../test_dir/1.txt\"; std::cout \u003c\u003c \"path.relative_path() : \" \u003c\u003c path.relative_path() \u003c\u003c std::endl; std::cout \u003c\u003c \"path.parent_path() : \" \u003c\u003c path.parent_path() \u003c\u003c std::endl; std::cout \u003c\u003c \"path.filename() : \" \u003c\u003c path.filename() \u003c\u003c std::endl; std::cout \u003c\u003c \"path.stem() : \" \u003c\u003c path.stem() \u003c\u003c std::endl; std::cout \u003c\u003c \"path.extension() : \" \u003c\u003c path.extension() \u003c\u003c std::endl; } path.relative_path() : \"../test_dir/1.txt\" path.parent_path() : \"../test_dir\" path.filename() : \"1.txt\" path.stem() : \"1\" path.extension() : \".txt\" os.pathä¸­æä¾›äº†åˆ†å‰²å‡½æ•°split()ä»¥åŠdirname()ï¼Œbasename()ã€‚ def eg1_2(): \"\"\"è·¯å¾„åˆ†å‰²\"\"\" path = \"../test_dir/1.txt\" print(\"os.path.split(path) : {}\".format(os.path.split(path))) print(\"os.path.dirname(path) : {}\".format(os.path.dirname(path))) print(\"os.path.basename(path) : {}\".format(os.path.basename(path))) os.path.split(path) : ('../test_dir', '1.txt') os.path.dirname(path) : ../test_dir os.path.basename(path) : 1.txt ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:1:2","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"è·¯å¾„æ‹¼æ¥ filesystem::pathä¸­é‡è½½äº†ç¬¦å·/å’Œ/=ã€‚ friend _LIBCPP_INLINE_VISIBILITY path operator/(const path\u0026 __lhs, const path\u0026 __rhs) { path __result(__lhs); __result /= __rhs; return __result; } void eg1_3() { /*è·¯å¾„æ‹¼æ¥*/ std::filesystem::path path = \"../test_dir\"; std::filesystem::path txt1_path = path / \"1.txt\"; std::filesystem::path txt2_path = path / \"1_dir\" / \"2.txt\"; std::cout \u003c\u003c \"txt1_path : \" \u003c\u003c txt1_path \u003c\u003c std::endl; std::cout \u003c\u003c \"txt2_path : \" \u003c\u003c txt2_path \u003c\u003c std::endl; path /= \"1.txt\"; std::cout \u003c\u003c \"path : \" \u003c\u003c path \u003c\u003c std::endl; } txt1_path : \"../test_dir/1.txt\" txt2_path : \"../test_dir/1_dir/2.txt\" path : \"../test_dir/1.txt\" os.pathä¸­æä¾›äº†join()å‡½æ•°ã€‚ def eg1_3(): \"\"\"è·¯å¾„æ‹¼æ¥\"\"\" path = \"../test_dir\" txt1_path = os.path.join(path, \"1.txt\") txt2_path = os.path.join(path, \"1_dir\", \"2.txt\") print(\"txt1_path : {}\".format(txt1_path)) print(\"txt2_path : {}\".format(txt2_path)) txt1_path : ../test_dir/1.txt txt2_path : ../test_dir/1_dir/2.txt æ³¨æ„ï¼Œä¸åŒæ“ä½œç³»ç»Ÿçš„åˆ†éš”ç¬¦ä¸åŒï¼Œæ‰€ä»¥åœ¨Windowsä¸­è¿è¡Œç»“æœå¦‚ä¸‹ã€‚ txt1_path : ../test_dir\\1.txt txt2_path : ../test_dir\\1_dir\\2.txt ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:1:3","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"filesystem vs. os ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:2:0","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"è·å–å½“å‰å·¥ä½œç›®å½• filesystemæä¾›äº†è·å–å½“å‰è·¯å¾„çš„å‡½æ•°current_path()ï¼Œæ³¨æ„è¿”å›çš„æ˜¯ç»å¯¹è·¯å¾„ã€‚ void eg2_1() { /*è·å–å½“å‰è·¯å¾„*/ std::filesystem::path current_path = std::filesystem::current_path(); std::cout \u003c\u003c \"current_path : \" \u003c\u003c current_path \u003c\u003c std::endl; } current_path : \"/Users/xxx/Github/intro_to_C-python/xxx/cmake-build-debug\" osæä¾›äº†å‡½æ•°getcwd()ã€‚ def eg2_1(): \"\"\"è·å–å½“å‰è·¯å¾„\"\"\" current_path = os.getcwd() print(\"current_path : {}\".format(current_path)) current_path : /Users/xxx/Github/intro_to_C-python/xxx è¿™é‡Œå…ˆå±•ç¤ºä¸€ä¸‹ç›®å½•æ ‘ï¼Œæ–¹ä¾¿ç†è§£åè¾¹çš„ä¾‹å­ã€‚ â””â”€â”€ test_dir â”œâ”€â”€ 1.txt â””â”€â”€ 1_dir â”œâ”€â”€ 2.txt â””â”€â”€ empty_dir ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:2:1","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"è¿”å›æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹ filesystemçš„ç±»directory_iteratorå¯ä»¥å®ç°è¯¥åŠŸèƒ½ã€‚ void eg2_2() { /*è¿”å›æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹*/ std::filesystem::directory_iterator iter(\"../test_dir\"); for(const auto \u0026i : iter) { std::cout \u003c\u003c i.path() \u003c\u003cstd::endl; } } \"../test_dir/1.txt\" \"../test_dir/1_dir\" osä¸­æä¾›äº†å‡½æ•°listdir()ã€‚ def eg2_2(): \"\"\"è¿”å›æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹\"\"\" for i in os.listdir(\"./test_dir\"): print(i) 1.txt 1_dir ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:2:2","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"é€’å½’è¿”å›æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹ filesystemçš„ç±»recursive_directory_iteratorå¯ä»¥å®ç°è¯¥åŠŸèƒ½ã€‚ void eg2_3() { /*é€’å½’è¿”å›æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹*/ std::filesystem::recursive_directory_iterator iter(\"../test_dir\"); for(const auto \u0026i : iter) { std::cout \u003c\u003c i.path() \u003c\u003cstd::endl; } } \"../test_dir/1.txt\" \"../test_dir/1_dir\" \"../test_dir/1_dir/empty_dir\" \"../test_dir/1_dir/2.txt\" osä¸­æä¾›äº†å‡½æ•°walk()ã€‚ def eg2_3(): \"\"\"é€’å½’è¿”å›æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹\"\"\" for root, dirs, files in os.walk(\"./test_dir\"): print(\"root : {}, dirs : {}, files : {}\".format(root, dirs, files)) root : ./test_dir, dirs : ['1_dir'], files : ['1.txt'] root : ./test_dir/1_dir, dirs : ['empty_dir'], files : ['2.txt'] root : ./test_dir/1_dir/empty_dir, dirs : [], files : [] ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:2:3","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨ filesystemæä¾›äº†åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨çš„å‡½æ•°exists()ã€‚ void eg2_4() { /*åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨*/ bool exist = std::filesystem::exists(\"C:\\\\Users\"); std::cout \u003c\u003c \"exist : \" \u003c\u003c exist \u003c\u003c std::endl; } exist : 0 os.pathä¸­æä¾›äº†å‡½æ•°exists()ã€‚ def eg2_4(): \"\"\"åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨\"\"\" path = \"C:\\\\Users\" print(\"os.path.exists({}) : {}\".format(path, os.path.exists(path))) os.path.exists(C:\\Users) : False ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:2:4","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"åˆ¤æ–­è·¯å¾„æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½• filesystemæä¾›äº†åˆ¤æ–­è·¯å¾„æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•çš„å‡½æ•°ã€‚ï¼ˆæ¯”è¾ƒå¤šï¼‰ inline _LIBCPP_INLINE_VISIBILITY bool is_block_file(file_status __s) noexcept { return __s.type() == file_type::block; } inline _LIBCPP_INLINE_VISIBILITY bool is_block_file(const path\u0026 __p) { return is_block_file(__status(__p)); } inline _LIBCPP_INLINE_VISIBILITY bool is_block_file(const path\u0026 __p, error_code\u0026 __ec) noexcept { return is_block_file(__status(__p, \u0026__ec)); } inline _LIBCPP_INLINE_VISIBILITY bool is_character_file(file_status __s) noexcept { return __s.type() == file_type::character; } inline _LIBCPP_INLINE_VISIBILITY bool is_character_file(const path\u0026 __p) { return is_character_file(__status(__p)); } inline _LIBCPP_INLINE_VISIBILITY bool is_character_file(const path\u0026 __p, error_code\u0026 __ec) noexcept { return is_character_file(__status(__p, \u0026__ec)); } inline _LIBCPP_INLINE_VISIBILITY bool is_directory(file_status __s) noexcept { return __s.type() == file_type::directory; } inline _LIBCPP_INLINE_VISIBILITY bool is_directory(const path\u0026 __p) { return is_directory(__status(__p)); } inline _LIBCPP_INLINE_VISIBILITY bool is_directory(const path\u0026 __p, error_code\u0026 __ec) noexcept { return is_directory(__status(__p, \u0026__ec)); } inline _LIBCPP_INLINE_VISIBILITY bool is_empty(const path\u0026 __p) { return __fs_is_empty(__p); } inline _LIBCPP_INLINE_VISIBILITY bool is_empty(const path\u0026 __p, error_code\u0026 __ec) { return __fs_is_empty(__p, \u0026__ec); } inline _LIBCPP_INLINE_VISIBILITY bool is_fifo(file_status __s) noexcept { return __s.type() == file_type::fifo; } inline _LIBCPP_INLINE_VISIBILITY bool is_fifo(const path\u0026 __p) { return is_fifo(__status(__p)); } inline _LIBCPP_INLINE_VISIBILITY bool is_fifo(const path\u0026 __p, error_code\u0026 __ec) noexcept { return is_fifo(__status(__p, \u0026__ec)); } inline _LIBCPP_INLINE_VISIBILITY bool is_regular_file(file_status __s) noexcept { return __s.type() == file_type::regular; } inline _LIBCPP_INLINE_VISIBILITY bool is_regular_file(const path\u0026 __p) { return is_regular_file(__status(__p)); } inline _LIBCPP_INLINE_VISIBILITY bool is_regular_file(const path\u0026 __p, error_code\u0026 __ec) noexcept { return is_regular_file(__status(__p, \u0026__ec)); } inline _LIBCPP_INLINE_VISIBILITY bool is_socket(file_status __s) noexcept { return __s.type() == file_type::socket; } inline _LIBCPP_INLINE_VISIBILITY bool is_socket(const path\u0026 __p) { return is_socket(__status(__p)); } inline _LIBCPP_INLINE_VISIBILITY bool is_socket(const path\u0026 __p, error_code\u0026 __ec) noexcept { return is_socket(__status(__p, \u0026__ec)); } inline _LIBCPP_INLINE_VISIBILITY bool is_symlink(file_status __s) noexcept { return __s.type() == file_type::symlink; } inline _LIBCPP_INLINE_VISIBILITY bool is_symlink(const path\u0026 __p) { return is_symlink(__symlink_status(__p)); } inline _LIBCPP_INLINE_VISIBILITY bool is_symlink(const path\u0026 __p, error_code\u0026 __ec) noexcept { return is_symlink(__symlink_status(__p, \u0026__ec)); } inline _LIBCPP_INLINE_VISIBILITY bool is_other(file_status __s) noexcept { return exists(__s) \u0026\u0026 !is_regular_file(__s) \u0026\u0026 !is_directory(__s) \u0026\u0026 !is_symlink(__s); } inline _LIBCPP_INLINE_VISIBILITY bool is_other(const path\u0026 __p) { return is_other(__status(__p)); } inline _LIBCPP_INLINE_VISIBILITY bool is_other(const path\u0026 __p, error_code\u0026 __ec) noexcept { return is_other(__status(__p, \u0026__ec)); } void eg2_5() { /*åˆ¤æ–­è·¯å¾„æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•*/ std::filesystem::path file_path = \"../test_dir/1.txt\"; std::filesystem::path dir_path = \"../test_dir/1_dir\"; std::cout \u003c\u003c \"is_regular_file(file_path) : \" \u003c\u003c std::filesystem::is_regular_file(file_path) \u003c\u003c std::endl; std::cout \u003c\u003c \"is_directory(dir_path) : \" \u003c\u003c std::filesystem::is_directory(dir_path) \u003c\u003c std::endl; } is_regular_file(file_path) : 1 is_directory(dir_path) : 1 os.pathä¸­æä¾›äº†å‡½æ•°isfile()å’Œisdir()ã€‚ def eg2_5(): \"\"\"åˆ¤æ–­è·¯å¾„æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•\"\"\" file_path = \"./test_dir/1.txt\" dir_path = \"./test_dir/1_dir\" print(\"os.path.isfile({}) : {}\".format(file_path, os.path.isfile(file_path))) print(\"os.path.isdir({}) : {}\".format(dir_path, os.path.isdir(dir_path))) os.path.isfile(./test_dir/1.txt) : True os.path.i","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:2:5","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"è¿”å›ç»å¯¹è·¯å¾„ã€ç¥å¥‡ã€‘ filesystemä¸­æä¾›äº†å‡½æ•°absolute()ã€‚ void eg2_6() { /*è¿”å›ç»å¯¹è·¯å¾„*/ std::filesystem::path path = \"../test_dir\"; std::filesystem::path abs_path = std::filesystem::absolute(path); std::cout \u003c\u003c \"abs_path : \" \u003c\u003c abs_path \u003c\u003c std::endl; std::cout \u003c\u003c \"exists(abs_path) : \" \u003c\u003c std::filesystem::exists(abs_path) \u003c\u003c std::endl; } abs_path : \"/Users/xxx/Github/intro_to_C-python/xxx/cmake-build-debug/../test_dir\" exists(abs_path) : 1 åœ¨Windowsç³»ç»Ÿä¸­ç»“æœå¦‚ä¸‹ã€‚ abs_path : \"D:\\\\GitHub\\\\intro_to_C-python\\\\xxx\\\\test_dir\" exists(abs_path) : 1 os.pathä¸­æä¾›äº†å‡½æ•°abspath()ã€‚ def eg2_6(): \"\"\"è¿”å›ç»å¯¹è·¯å¾„\"\"\" path = \"../../-PyTorch-\" abs_path = os.path.abspath(path) print(\"abs_path : {}\".format(abs_path)) print(\"os.path.exists({}) : {}\".format(abs_path, os.path.exists(abs_path))) abs_path : /Users/xxx/Github/-PyTorch- os.path.exists(/Users/xxx/Github/-PyTorch-) : True ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:2:6","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"filesystem vs. shutil shutil = shell + utilï¼Œå¯¹osè¿›è¡Œä¸€äº›è¡¥å……ã€‚ ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:3:0","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"æ–‡ä»¶æ‹·è´ filesystemä¸­æä¾›äº†copy_file()å‡½æ•°ï¼Œå¯ä»¥æ‹·è´æ–‡ä»¶æˆ–ç©ºæ–‡ä»¶å¤¹ã€‚ void eg3_1() { /*æ–‡ä»¶æ‹·è´*/ std::cout \u003c\u003c \"~~~~~~before copy_file~~~~~~\" \u003c\u003c std::endl; for (const auto \u0026i :std::filesystem::directory_iterator(\"../test_dir\")) { std::cout \u003c\u003c i.path() \u003c\u003c std::endl; } std::filesystem::copy_file(\"../test_dir/1.txt\", \"../test_dir/eg3_1.txt\"); std::cout \u003c\u003c \"~~~~~~after copy_file~~~~~~\" \u003c\u003c std::endl; for (const auto \u0026i :std::filesystem::directory_iterator(\"../test_dir\")) { std::cout \u003c\u003c i.path() \u003c\u003c std::endl; } } ~~~~~~before copy_file~~~~~~ \"../test_dir/1.txt\" \"../test_dir/1_dir\" ~~~~~~after copy_file~~~~~~ \"../test_dir/eg3_1.txt\" \"../test_dir/1.txt\" \"../test_dir/1_dir\" shutilä¸­æä¾›å‡½æ•°copyfile()ã€‚ def eg3_1(): \"\"\"æ–‡ä»¶æ‹·è´\"\"\" print(\"~~~~~~before copy_file~~~~~~\") for i in os.listdir(\"./test_dir\"): print(i) src_path = \"./test_dir/1.txt\" dst_path = \"./test_dir/eg3_1.txt\" shutil.copyfile(src_path, dst_path) print(\"~~~~~~after copy_file~~~~~~\") for i in os.listdir(\"./test_dir\"): print(i) ~~~~~~before copy_file~~~~~~ 1.txt 1_dir ~~~~~~after copy_file~~~~~~ eg3_1.txt 1.txt 1_dir ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:3:1","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"æ–‡ä»¶åˆ é™¤ filesystemä¸­æä¾›äº†remove()å‡½æ•°ï¼Œå¯ä»¥åˆ é™¤æ–‡ä»¶æˆ–ç©ºæ–‡ä»¶å¤¹ã€‚ void eg3_2() { /*æ–‡ä»¶åˆ é™¤*/ std::cout \u003c\u003c \"~~~~~~before remove~~~~~~\" \u003c\u003c std::endl; for (const auto \u0026i :std::filesystem::directory_iterator(\"../test_dir\")) { std::cout \u003c\u003c i.path() \u003c\u003c std::endl; } std::filesystem::remove(\"../test_dir/eg3_1.txt\"); std::cout \u003c\u003c \"~~~~~~after remove~~~~~~\" \u003c\u003c std::endl; for (const auto \u0026i :std::filesystem::directory_iterator(\"../test_dir\")) { std::cout \u003c\u003c i.path() \u003c\u003c std::endl; } } ~~~~~~before remove~~~~~~ \"../test_dir/eg3_1.txt\" \"../test_dir/1.txt\" \"../test_dir/1_dir\" ~~~~~~after remove~~~~~~ \"../test_dir/1.txt\" \"../test_dir/1_dir\" osä¸­æä¾›äº†å‡½æ•°remove()ã€‚ def eg3_2(): \"\"\"æ–‡ä»¶åˆ é™¤\"\"\" print(\"~~~~~~before remove~~~~~~\") for i in os.listdir(\"./test_dir\"): print(i) rm_path = \"./test_dir/eg3_1.txt\" os.remove(rm_path) print(\"~~~~~~after remove~~~~~~\") for i in os.listdir(\"./test_dir\"): print(i) ~~~~~~before remove~~~~~~ eg3_1.txt 1.txt 1_dir ~~~~~~after remove~~~~~~ 1.txt 1_dir ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:3:2","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"è·¯å¾„æ‹·è´ filesystemä¸­æä¾›äº†copy()å‡½æ•°ï¼Œå¯ä»¥æŒ‰ç…§é€‰é¡¹ï¼ˆæ˜¯å¦é€’å½’ï¼‰æ‹·è´æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚ void eg3_3() { /*è·¯å¾„æ‹·è´*/ std::cout \u003c\u003c \"~~~~~~before copy[1_dir]~~~~~~\" \u003c\u003c std::endl; for (const auto \u0026i :std::filesystem::directory_iterator(\"../test_dir/1_dir\")) { std::cout \u003c\u003c i.path() \u003c\u003c std::endl; } std::filesystem::copy(\"../test_dir/1_dir\", \"../test_dir/eg3_3_dir\", std::filesystem::copy_options::recursive); std::cout \u003c\u003c \"~~~~~~after copy[eg3_3_dir]~~~~~~\" \u003c\u003c std::endl; for (const auto \u0026i :std::filesystem::directory_iterator(\"../test_dir/eg3_3_dir\")) { std::cout \u003c\u003c i.path() \u003c\u003c std::endl; } } ~~~~~~before copy[1_dir]~~~~~~ \"../test_dir/1_dir/empty_dir\" \"../test_dir/1_dir/2.txt\" ~~~~~~after copy[eg3_3_dir]~~~~~~ \"../test_dir/eg3_3_dir/empty_dir\" \"../test_dir/eg3_3_dir/2.txt\" shutilæä¾›äº†å‡½æ•°copytree()ã€‚ def eg3_3(): \"\"\"è·¯å¾„æ‹·è´\"\"\" print(\"~~~~~~before copy[1_dir]~~~~~~\") for i in os.listdir(\"./test_dir/1_dir\"): print(i) src_path = \"./test_dir/1_dir\" dst_path = \"./test_dir/eg3_3_dir\" shutil.copytree(src_path, dst_path) print(\"~~~~~~after copy[eg3_3_dir]~~~~~~\") for i in os.listdir(\"./test_dir/eg3_3_dir\"): print(i) ~~~~~~before copy[1_dir]~~~~~~ empty_dir 2.txt ~~~~~~after copy[eg3_3_dir]~~~~~~ empty_dir 2.txt ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:3:3","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["ç°ä»£C++è¯­æ³•"],"content":"é€’å½’åˆ é™¤ filesystemä¸­æä¾›äº†remove_all()å‡½æ•°ï¼Œå¯ä»¥é€’å½’åˆ é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ã€‚ void eg3_4() { /*é€’å½’åˆ é™¤*/ std::filesystem::path dir_path = \"../test_dir/eg3_3_dir\"; std::cout \u003c\u003c \"exists(dir_path) : \" \u003c\u003c std::filesystem::exists(dir_path) \u003c\u003c std::endl; std::filesystem::remove_all(dir_path); std::cout \u003c\u003c \"exists(dir_path) : \" \u003c\u003c std::filesystem::exists(dir_path) \u003c\u003c std::endl; } exists(dir_path) : 1 exists(dir_path) : 0 shutilæä¾›äº†å‡½æ•°rmtree()ã€‚ def eg3_4(): \"\"\"é€’å½’åˆ é™¤\"\"\" dir_path = \"./test_dir/eg3_3_dir\" print(\"os.path.exists({}) : {}\".format(dir_path, os.path.exists(dir_path))) shutil.rmtree(dir_path) print(\"os.path.exists({}) : {}\".format(dir_path, os.path.exists(dir_path))) os.path.exists(./test_dir/eg3_3_dir) : True os.path.exists(./test_dir/eg3_3_dir) : False ","date":"2022-01-25","objectID":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/:3:4","tags":["C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”"],"title":"C++ä¸pythonæ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”","uri":"/posts/c++%E4%B8%8Epython%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AF%B9%E6%AF%94/"},{"categories":["JavaSEç¬”è®°"],"content":"Java I/O","date":"2022-01-23","objectID":"/posts/java-io/","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"Java I/O é…å¥—è§†é¢‘ æ³¨æ„ï¼šè¿™å—ä¼šæ¶‰åŠåˆ°æ“ä½œç³»ç»Ÿå’Œè®¡ç®—æœºç»„æˆåŸç†ç›¸å…³å†…å®¹ã€‚ I/Oç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯è¾“å…¥è¾“å‡ºï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¼šæœ‰I/Oå‘¢ï¼Ÿå…¶å®I/Oæ— æ—¶æ— åˆ»éƒ½åœ¨æˆ‘ä»¬çš„èº«è¾¹ï¼Œæ¯”å¦‚è¯»å–ç¡¬ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œç½‘ç»œæ–‡ä»¶ä¼ è¾“ï¼Œé¼ æ ‡é”®ç›˜è¾“å…¥ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¥å—å•ç‰‡æœºå‘å›çš„æ•°æ®ï¼Œè€Œèƒ½å¤Ÿæ”¯æŒè¿™äº›æ“ä½œçš„è®¾å¤‡å°±æ˜¯I/Oè®¾å¤‡ã€‚ æˆ‘ä»¬å¯ä»¥å¤§è‡´çœ‹ä¸€ä¸‹æ•´ä¸ªè®¡ç®—æœºçš„æ€»çº¿ç»“æ„ï¼š å¸¸è§çš„I/Oè®¾å¤‡ä¸€èˆ¬æ˜¯é¼ æ ‡ã€é”®ç›˜è¿™ç±»é€šè¿‡USBè¿›è¡Œä¼ è¾“çš„å¤–è®¾æˆ–è€…æ˜¯é€šè¿‡Sataæ¥å£æˆ–æ˜¯M.2è¿æ¥çš„ç¡¬ç›˜ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™äº›è®¾å¤‡æ˜¯ç”±CPUå‘å‡ºæŒ‡ä»¤é€šè¿‡å—æ¡¥èŠ¯ç‰‡é—´æ¥è¿›è¡Œæ§åˆ¶ï¼Œè€Œä¸æ˜¯ç”±CPUç›´æ¥æ“ä½œã€‚ è€Œæˆ‘ä»¬åœ¨ç¨‹åºä¸­ï¼Œæƒ³è¦è¯»å–è¿™äº›å¤–éƒ¨è¿æ¥çš„I/Oè®¾å¤‡ä¸­çš„å†…å®¹ï¼Œå°±éœ€è¦å°†æ•°æ®ä¼ è¾“åˆ°å†…å­˜ä¸­ã€‚è€Œéœ€è¦å®ç°è¿™æ ·çš„æ“ä½œï¼Œå•å•å‡­å€Ÿä¸€ä¸ªå°çš„ç¨‹åºæ˜¯æ— æ³•åšåˆ°çš„ï¼Œè€Œæ“ä½œç³»ç»Ÿï¼ˆå¦‚ï¼šWindows/Linux/MacOSï¼‰å°±æ˜¯ä¸“é—¨ç”¨äºæ§åˆ¶å’Œç®¡ç†è®¡ç®—æœºç¡¬ä»¶å’Œè½¯ä»¶èµ„æºçš„è½¯ä»¶ï¼Œæˆ‘ä»¬éœ€è¦è¯»å–ä¸€ä¸ªIOè®¾å¤‡çš„å†…å®¹æ—¶ï¼Œå¯ä»¥å‘æ“ä½œç³»ç»Ÿå‘å‡ºè¯·æ±‚ï¼Œç”±æ“ä½œç³»ç»Ÿå¸®åŠ©æˆ‘ä»¬æ¥å’Œåº•å±‚çš„ç¡¬ä»¶äº¤äº’ä»¥å®Œæˆæˆ‘ä»¬çš„è¯»å–/å†™å…¥è¯·æ±‚ã€‚ä»è¯»å–ç¡¬ç›˜æ–‡ä»¶çš„è§’åº¦æ¥è¯´ï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿæœ‰ç€ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå°±æ˜¯æ–‡ä»¶åœ¨ç¡¬ç›˜ä¸­çš„å­˜å‚¨æ’åˆ—æ–¹å¼ï¼Œå¦‚Windowså°±æ˜¯NTFSã€MacOSå°±æ˜¯APFSï¼‰ï¼Œç¡¬ç›˜åªèƒ½å­˜å‚¨ä¸€ä¸ªä¸ª0å’Œ1è¿™æ ·çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œè‡³äº0å’Œ1å¦‚ä½•æ’åˆ—ï¼Œå„è‡ªåˆä»£è¡¨ä»€ä¹ˆæ„æ€ï¼Œå°±æ˜¯ç”±æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿæ¥å†³å®šçš„ã€‚ä»ç½‘ç»œé€šä¿¡è§’åº¦æ¥è¯´ï¼Œç½‘ç»œä¿¡å·é€šè¿‡ç½‘å¡ç­‰è®¾å¤‡ç¿»è¯‘ä¸ºäºŒè¿›åˆ¶ä¿¡å·ï¼Œå†äº¤ç»™ç³»ç»Ÿè¿›è¡Œè¯»å–ï¼Œæœ€åå†ç”±æ“ä½œç³»ç»Ÿæ¥ç»™åˆ°ç¨‹åºã€‚ JDKæä¾›äº†ä¸€å¥—ç”¨äºIOæ“ä½œçš„æ¡†æ¶ï¼Œæ ¹æ®æµçš„ä¼ è¾“æ–¹å‘å’Œè¯»å–å•ä½ï¼Œåˆ†ä¸ºå­—èŠ‚æµInputStreamå’ŒOutputStreamä»¥åŠå­—ç¬¦æµReaderå’ŒWriterï¼Œå½“ç„¶ï¼Œè¿™é‡Œçš„Streamå¹¶ä¸æ˜¯å‰é¢é›†åˆæ¡†æ¶è®¤è¯†çš„Streamï¼Œè¿™é‡Œçš„æµæŒ‡çš„æ˜¯æ•°æ®æµï¼Œé€šè¿‡æµï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸€ç›´ä»æµä¸­è¯»å–æ•°æ®ï¼Œç›´åˆ°è¯»å–åˆ°å°½å¤´ï¼Œæˆ–æ˜¯ä¸æ–­å‘å…¶ä¸­å†™å…¥æ•°æ®ï¼Œç›´åˆ°æˆ‘ä»¬å†™å…¥å®Œæˆã€‚è€Œè¿™ç±»IOå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„BIOï¼Œ å­—èŠ‚æµä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªbyteçš„å¤§å°ï¼Œè€Œå­—ç¬¦æµé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªcharçš„å¤§å°ï¼ˆåœ¨è¯»å–çº¯æ–‡æœ¬æ–‡ä»¶çš„æ—¶å€™æ›´åŠ é€‚åˆï¼‰ï¼Œæœ‰å…³è¿™ä¸¤ç§æµï¼Œä¼šåœ¨åé¢è¯¦ç»†ä»‹ç»ï¼Œè¿™ä¸ªç« èŠ‚æˆ‘ä»¬éœ€è¦å­¦ä¹ 16ä¸ªå…³é”®çš„æµã€‚ ","date":"2022-01-23","objectID":"/posts/java-io/:0:0","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"æ–‡ä»¶æµ è¦å­¦ä¹ å’Œä½¿ç”¨IOï¼Œé¦–å…ˆå°±è¦ä»æœ€æ˜“äºç†è§£çš„è¯»å–æ–‡ä»¶å¼€å§‹è¯´èµ·ã€‚ ","date":"2022-01-23","objectID":"/posts/java-io/:1:0","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"æ–‡ä»¶å­—èŠ‚æµ é¦–å…ˆä»‹ç»ä¸€ä¸‹FileInputStreamï¼Œé€šè¿‡å®ƒæ¥è·å–æ–‡ä»¶çš„è¾“å…¥æµã€‚ public static void main(String[] args) { try { FileInputStream inputStream = new FileInputStream(\"è·¯å¾„\"); //è·¯å¾„æ”¯æŒç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„ } catch (FileNotFoundException e) { e.printStackTrace(); } } ç›¸å¯¹è·¯å¾„æ˜¯åœ¨å½“å‰è¿è¡Œçš„è·¯å¾„ä¸‹å¯»æ‰¾æ–‡ä»¶ï¼Œè€Œç»å¯¹è·¯å¾„ï¼Œæ˜¯ä»æ ¹ç›®å½•å¼€å§‹å¯»æ‰¾ã€‚è·¯å¾„åˆ†å‰²ç¬¦æ”¯æŒä½¿ç”¨/æˆ–æ˜¯\\\\ï¼Œä½†æ˜¯ä¸èƒ½å†™ä¸º\\å› ä¸ºå®ƒæ˜¯è½¬ä¹‰å­—ç¬¦ï¼ åœ¨ä½¿ç”¨å®Œæˆä¸€ä¸ªæµä¹‹åï¼Œå¿…é¡»å…³é—­è¿™ä¸ªæµæ¥å®Œæˆå¯¹èµ„æºçš„é‡Šæ”¾ï¼Œå¦åˆ™èµ„æºä¼šè¢«ä¸€ç›´å ç”¨ï¼ public static void main(String[] args) { FileInputStream inputStream = null; //å®šä¹‰å¯ä»¥å…ˆæ”¾åœ¨tryå¤–éƒ¨ try { inputStream = new FileInputStream(\"è·¯å¾„\"); } catch (FileNotFoundException e) { e.printStackTrace(); } finally { try { //å»ºè®®åœ¨finallyä¸­è¿›è¡Œï¼Œå› ä¸ºè¿™ä¸ªæ˜¯ä»»ä½•æƒ…å†µéƒ½å¿…é¡»è¦æ‰§è¡Œçš„ï¼ if(inputStream != null) inputStream.close(); } catch (IOException e) { e.printStackTrace(); } } } è™½ç„¶è¿™æ ·çš„å†™æ³•æ‰æ˜¯æœ€ä¿é™©çš„ï¼Œä½†æ˜¯æ˜¾å¾—è¿‡äºç¹çäº†ï¼Œå°¤å…¶æ˜¯finallyä¸­å†æ¬¡åµŒå¥—äº†ä¸€ä¸ªtry-catchå—ï¼Œå› æ­¤åœ¨JDK1.7æ–°å¢äº†try-with-resourceè¯­æ³•ï¼Œç”¨äºç®€åŒ–è¿™æ ·çš„å†™æ³•ï¼ˆæœ¬è´¨ä¸Šè¿˜æ˜¯å’Œè¿™æ ·çš„æ“ä½œä¸€è‡´ï¼Œåªæ˜¯æ¢äº†ä¸ªå†™æ³•ï¼‰ public static void main(String[] args) { //æ³¨æ„ï¼Œè¿™ç§è¯­æ³•åªæ”¯æŒå®ç°äº†AutoCloseableæ¥å£çš„ç±»ï¼ try(FileInputStream inputStream = new FileInputStream(\"è·¯å¾„\")) { //ç›´æ¥åœ¨try()ä¸­å®šä¹‰è¦åœ¨å®Œæˆä¹‹åé‡Šæ”¾çš„èµ„æº } catch (IOException e) { //è¿™é‡Œå˜æˆIOExceptionæ˜¯å› ä¸ºè°ƒç”¨close()å¯èƒ½ä¼šå‡ºç°ï¼Œè€ŒFileNotFoundExceptionæ˜¯ç»§æ‰¿è‡ªIOExceptionçš„ e.printStackTrace(); } //æ— éœ€å†ç¼–å†™finallyè¯­å¥å—ï¼Œå› ä¸ºåœ¨æœ€åè‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨äº†close() } ä¹‹åä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨æ­¤è¯­æ³•è¿›è¡Œæ•™å­¦ã€‚ public static void main(String[] args) { //test.txtï¼ša try(FileInputStream inputStream = new FileInputStream(\"test.txt\")) { //ä½¿ç”¨read()æ–¹æ³•è¿›è¡Œå­—ç¬¦è¯»å– System.out.println((char) inputStream.read()); //è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼ˆè‹±æ–‡å­—æ¯åªå 1å­—èŠ‚ï¼Œä¸­æ–‡å 2å­—èŠ‚ï¼‰ System.out.println(inputStream.read()); //å”¯ä¸€ä¸€ä¸ªå­—èŠ‚çš„å†…å®¹å·²ç»è¯»å®Œäº†ï¼Œå†æ¬¡è¯»å–è¿”å›-1è¡¨ç¤ºæ²¡æœ‰å†…å®¹äº† }catch (IOException e){ e.printStackTrace(); } } ä½¿ç”¨readå¯ä»¥ç›´æ¥è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œæ³¨æ„ï¼Œæµçš„å†…å®¹æ˜¯æœ‰é™çš„ï¼Œè¯»å–ä¸€ä¸ªå°‘ä¸€ä¸ªï¼æˆ‘ä»¬å¦‚æœæƒ³ä¸€æ¬¡æ€§å…¨éƒ¨è¯»å–çš„è¯ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸€ä¸ªwhileå¾ªç¯æ¥å®Œæˆï¼š public static void main(String[] args) { //test.txtï¼šabcd try(FileInputStream inputStream = new FileInputStream(\"test.txt\")) { int tmp; while ((tmp = inputStream.read()) != -1){ //é€šè¿‡whileå¾ªç¯æ¥ä¸€æ¬¡æ€§è¯»å®Œå†…å®¹ System.out.println((char)tmp); } }catch (IOException e){ e.printStackTrace(); } } ä½¿ç”¨æ–¹æ³•èƒ½æŸ¥çœ‹å½“å‰å¯è¯»çš„å‰©ä½™å­—èŠ‚æ•°é‡ï¼ˆæ³¨æ„ï¼šå¹¶ä¸ä¸€å®šçœŸå®çš„æ•°æ®é‡å°±æ˜¯è¿™ä¹ˆå¤šï¼Œå°¤å…¶æ˜¯åœ¨ç½‘ç»œI/Oæ“ä½œæ—¶ï¼Œè¿™ä¸ªæ–¹æ³•åªèƒ½è¿›è¡Œä¸€ä¸ªé¢„ä¼°ä¹Ÿå¯ä»¥è¯´æ˜¯æš‚æ—¶èƒ½ä¸€æ¬¡æ€§è¯»å–çš„æ•°é‡ï¼‰ try(FileInputStream inputStream = new FileInputStream(\"test.txt\")) { System.out.println(inputStream.available()); //æŸ¥çœ‹å‰©ä½™æ•°é‡ }catch (IOException e){ e.printStackTrace(); } å½“ç„¶ï¼Œä¸€ä¸ªä¸€ä¸ªè¯»å–æ•ˆç‡å¤ªä½äº†ï¼Œé‚£èƒ½å¦ä¸€æ¬¡æ€§å…¨éƒ¨è¯»å–å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é¢„ç½®ä¸€ä¸ªåˆé€‚å®¹é‡çš„byte[]æ•°ç»„æ¥å­˜æ”¾ã€‚ public static void main(String[] args) { //test.txtï¼šabcd try(FileInputStream inputStream = new FileInputStream(\"test.txt\")) { byte[] bytes = new byte[inputStream.available()]; //æˆ‘ä»¬å¯ä»¥æå‰å‡†å¤‡å¥½åˆé€‚å®¹é‡çš„byteæ•°ç»„æ¥å­˜æ”¾ System.out.println(inputStream.read(bytes)); //ä¸€æ¬¡æ€§è¯»å–å…¨éƒ¨å†…å®¹ï¼ˆè¿”å›å€¼æ˜¯è¯»å–çš„å­—èŠ‚æ•°ï¼‰ System.out.println(new String(bytes)); //é€šè¿‡String(byte[])æ„é€ æ–¹æ³•å¾—åˆ°å­—ç¬¦ä¸² }catch (IOException e){ e.printStackTrace(); } } ä¹Ÿå¯ä»¥æ§åˆ¶è¦è¯»å–æ•°é‡ï¼š System.out.println(inputStream.read(bytes, 1, 2)); //ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä»ç»™å®šæ•°ç»„çš„å“ªä¸ªä½ç½®å¼€å§‹æ”¾å…¥å†…å®¹ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è¯»å–æµä¸­çš„å­—èŠ‚æ•° æ³¨æ„ï¼šä¸€æ¬¡æ€§è¯»å–åŒå•ä¸ªè¯»å–ä¸€æ ·ï¼Œå½“æ²¡æœ‰ä»»ä½•æ•°æ®å¯è¯»æ—¶ï¼Œä¾ç„¶ä¼šè¿”å›-1 é€šè¿‡skip()æ–¹æ³•å¯ä»¥è·³è¿‡æŒ‡å®šæ•°é‡çš„å­—èŠ‚ï¼š public static void main(String[] args) { //test.txtï¼šabcd try(FileInputStream inputStream = new FileInputStream(\"test.txt\")) { System.out.println(inputStream.skip(1)); System.out.println((char) inputStream.read()); //è·³è¿‡äº†ä¸€ä¸ªå­—èŠ‚ }catch (IOException e){ e.printStackTrace(); } } æ³¨æ„ï¼šFileInputStreamæ˜¯ä¸æ”¯æŒreset()çš„ï¼Œè™½ç„¶æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯è¿™é‡Œå…ˆä¸æåŠã€‚ æ—¢ç„¶æœ‰è¾“å…¥æµï¼Œé‚£ä¹ˆæ–‡ä»¶è¾“å‡ºæµä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ï¼š public static void main(String[] args) { //è¾“å‡ºæµä¹Ÿéœ€è¦åœ¨æœ€åè°ƒç”¨close()æ–¹æ³•ï¼Œå¹¶ä¸”åŒæ ·æ”¯æŒtry-with-resource try(FileOutputStream outputStream = new FileOutputStream(\"output.txt\")) { //æ³¨æ„ï¼šè‹¥æ­¤æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šç›´æ¥åˆ›å»ºè¿™ä¸ªæ–‡ä»¶ï¼ }catch (IOException e){ e.printStackTrace(); } } è¾“å‡ºæµæ²¡æœ‰read()æ“ä½œè€Œæ˜¯write()æ“ä½œï¼Œä½¿ç”¨æ–¹æ³•åŒè¾“å…¥æµä¸€æ ·ï¼Œåªä¸è¿‡ç°åœ¨çš„æ–¹å‘å˜ä¸ºæˆ‘ä»¬å‘æ–‡ä»¶é‡Œå†™å…¥å†…å®¹ï¼š public static void main(String[] args) { try(FileOutputStream outputStream = new FileOutputStream(\"output.txt\")) { outputStream.write('c'); //åŒreadä¸€æ ·ï¼Œå¯ä»¥ç›´æ¥å†™å…¥å†…å®¹ outputStream.write(\"lbwnb\".getBytes()); //ä¹Ÿå¯ä»¥ç›´æ¥å†™å…¥byte[] outputStream.write(\"lbwnb\".getBytes(), 0, 1); //åŒä¸Šè¾“å…¥æµ outputStream.flush(); //å»ºè®®åœ¨æœ€åæ‰§è¡Œä¸€æ¬¡åˆ·æ–°æ“ä½œï¼ˆå¼ºåˆ¶å†™å…¥ï¼‰æ¥ä¿è¯æ•°æ®æ­£ç¡®å†™å…¥åˆ°ç¡¬ç›˜æ–‡ä»¶ä¸­ }catch (IOException e){ e.printStackTrace(); } } é‚£ä¹ˆå¦‚æœæ˜¯æˆ‘åªæƒ³åœ¨æ–‡ä»¶å°¾éƒ¨è¿›è¡Œè¿½åŠ å†™å…¥æ•°æ®å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªæ„é€ æ–¹æ³•æ¥å®ç°ï¼š public static void main(String[] args) { try(FileOutputStream outputStream = new FileOutputStream(\"output.txt\", true)) { outputStream.write(\"lb\".getBytes()); //ç°åœ¨åªä¼šè¿›è¡Œè¿½åŠ å†™å…¥ï¼Œè€Œä¸æ˜¯ç›´æ¥æ›¿æ¢åŸæ–‡ä»¶å†…å®¹ outputStream.flush(); }catch (IOException e){ e.printStackTrace(); } } ","date":"2022-01-23","objectID":"/posts/java-io/:1:1","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"æ–‡ä»¶å­—ç¬¦æµ å­—ç¬¦æµä¸åŒäºå­—èŠ‚ï¼Œå­—ç¬¦æµæ˜¯ä»¥ä¸€ä¸ªå…·ä½“çš„å­—ç¬¦è¿›è¡Œè¯»å–ï¼Œå› æ­¤å®ƒåªé€‚åˆè¯»çº¯æ–‡æœ¬çš„æ–‡ä»¶ï¼Œå¦‚æœæ˜¯å…¶ä»–ç±»å‹çš„æ–‡ä»¶ä¸é€‚ç”¨ï¼š public static void main(String[] args) { try(FileReader reader = new FileReader(\"test.txt\")){ reader.skip(1); //ç°åœ¨è·³è¿‡çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ System.out.println((char) reader.read()); //ç°åœ¨æ˜¯æŒ‰å­—ç¬¦è¿›è¡Œè¯»å–ï¼Œè€Œä¸æ˜¯å­—èŠ‚ï¼Œå› æ­¤å¯ä»¥ç›´æ¥è¯»å–åˆ°ä¸­æ–‡å­—ç¬¦ }catch (IOException e){ e.printStackTrace(); } } åŒç†ï¼Œå­—ç¬¦æµåªæ”¯æŒchar[]ç±»å‹ä½œä¸ºå­˜å‚¨ï¼š public static void main(String[] args) { try(FileReader reader = new FileReader(\"test.txt\")){ char[] str = new char[10]; reader.read(str); System.out.println(str); //ç›´æ¥è¯»å–åˆ°char[]ä¸­ }catch (IOException e){ e.printStackTrace(); } } æ—¢ç„¶æœ‰äº†Readerè‚¯å®šä¹Ÿæœ‰Writerï¼š public static void main(String[] args) { try(FileWriter writer = new FileWriter(\"output.txt\")){ writer.getEncoding(); //æ”¯æŒè·å–ç¼–ç ï¼ˆä¸åŒçš„æ–‡æœ¬æ–‡ä»¶å¯èƒ½ä¼šæœ‰ä¸åŒçš„ç¼–ç ç±»å‹ï¼‰ writer.write('ç‰›'); writer.append('ç‰›'); //å…¶å®åŠŸèƒ½å’Œwriteä¸€æ · writer.flush(); //åˆ·æ–° }catch (IOException e){ e.printStackTrace(); } } æˆ‘ä»¬å‘ç°ä¸ä»…æœ‰write()æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªappend()æ–¹æ³•ï¼Œä½†æ˜¯å®é™…ä¸Šä»–ä»¬æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œçœ‹æºç ï¼š /** * Appends the specified character to this writer. * * \u003cp\u003e An invocation of this method of the form \u003ctt\u003eout.append(c)\u003c/tt\u003e * behaves in exactly the same way as the invocation * * \u003cpre\u003e * out.write(c) \u003c/pre\u003e * * @param c * The 16-bit character to append * * @return This writer * * @throws IOException * If an I/O error occurs * * @since 1.5 */ public Writer append(char c) throws IOException { write(c); return this; } appendæ”¯æŒåƒStringBuilderé‚£æ ·çš„é“¾å¼è°ƒç”¨ï¼Œè¿”å›çš„æ˜¯Writerå¯¹è±¡æœ¬èº«ã€‚ ç»ƒä¹ ï¼šå°è¯•ä¸€ä¸‹ç”¨Readerå’ŒWriteræ¥æ‹·è´çº¯æ–‡æœ¬æ–‡ä»¶ ","date":"2022-01-23","objectID":"/posts/java-io/:1:2","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"Fileç±» Fileç±»ä¸“é—¨ç”¨äºè¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œåªä¸è¿‡å®ƒåªæ˜¯ä»£è¡¨è¿™ä¸ªæ–‡ä»¶ï¼Œä½†å¹¶ä¸æ˜¯è¿™ä¸ªæ–‡ä»¶æœ¬èº«ã€‚é€šè¿‡Fileå¯¹è±¡ï¼Œå¯ä»¥æ›´å¥½åœ°ç®¡ç†å’Œæ“ä½œç¡¬ç›˜ä¸Šçš„æ–‡ä»¶ã€‚ public static void main(String[] args) { File file = new File(\"test.txt\"); //ç›´æ¥åˆ›å»ºæ–‡ä»¶å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ System.out.println(file.exists()); //æ­¤æ–‡ä»¶æ˜¯å¦å­˜åœ¨ System.out.println(file.length()); //è·å–æ–‡ä»¶çš„å¤§å° System.out.println(file.isDirectory()); //æ˜¯å¦ä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹ System.out.println(file.canRead()); //æ˜¯å¦å¯è¯» System.out.println(file.canWrite()); //æ˜¯å¦å¯å†™ System.out.println(file.canExecute()); //æ˜¯å¦å¯æ‰§è¡Œ } é€šè¿‡Fileå¯¹è±¡ï¼Œæˆ‘ä»¬å°±èƒ½å¿«é€Ÿå¾—åˆ°æ–‡ä»¶çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¦‚æœæ˜¯æ–‡ä»¶å¤¹ï¼Œè¿˜å¯ä»¥è·å–æ–‡ä»¶å¤¹å†…éƒ¨çš„æ–‡ä»¶åˆ—è¡¨ç­‰å†…å®¹ï¼š File file = new File(\"/\"); System.out.println(Arrays.toString(file.list())); //å¿«é€Ÿè·å–æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶åç§°åˆ—è¡¨ for (File f : file.listFiles()){ //æ‰€æœ‰å­æ–‡ä»¶çš„Fileå¯¹è±¡ System.out.println(f.getAbsolutePath()); //è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ } å¦‚æœæˆ‘ä»¬å¸Œæœ›è¯»å–æŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œå¯ä»¥ç›´æ¥å°†Fileä½œä¸ºå‚æ•°ä¼ å…¥å­—èŠ‚æµæˆ–æ˜¯å­—ç¬¦æµï¼š File file = new File(\"test.txt\"); try (FileInputStream inputStream = new FileInputStream(file)){ //ç›´æ¥åšå‚æ•° System.out.println(inputStream.available()); }catch (IOException e){ e.printStackTrace(); } ç»ƒä¹ ï¼šå°è¯•æ‹·è´æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ°å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ ","date":"2022-01-23","objectID":"/posts/java-io/:1:3","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"ç¼“å†²æµ è™½ç„¶æ™®é€šçš„æ–‡ä»¶æµè¯»å–æ–‡ä»¶æ•°æ®éå¸¸ä¾¿æ·ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½éœ€è¦ä»å¤–éƒ¨I/Oè®¾å¤‡å»è·å–æ•°æ®ï¼Œç”±äºå¤–éƒ¨I/Oè®¾å¤‡çš„é€Ÿåº¦ä¸€èˆ¬éƒ½è¾¾ä¸åˆ°å†…å­˜çš„è¯»å–é€Ÿåº¦ï¼Œå¾ˆæœ‰å¯èƒ½é€ æˆç¨‹åºååº”è¿Ÿé’ï¼Œå› æ­¤æ€§èƒ½è¿˜ä¸å¤Ÿé«˜ï¼Œè€Œç¼“å†²æµæ­£å¦‚å…¶åç§°ä¸€æ ·ï¼Œå®ƒèƒ½å¤Ÿæä¾›ä¸€ä¸ªç¼“å†²ï¼Œæå‰å°†éƒ¨åˆ†å†…å®¹å­˜å…¥å†…å­˜ï¼ˆç¼“å†²åŒºï¼‰åœ¨ä¸‹æ¬¡è¯»å–æ—¶ï¼Œå¦‚æœç¼“å†²åŒºä¸­å­˜åœ¨æ­¤æ•°æ®ï¼Œåˆ™æ— éœ€å†å»è¯·æ±‚å¤–éƒ¨è®¾å¤‡ã€‚åŒç†ï¼Œå½“å‘å¤–éƒ¨è®¾å¤‡å†™å…¥æ•°æ®æ—¶ï¼Œä¹Ÿæ˜¯ç”±ç¼“å†²åŒºå¤„ç†ï¼Œè€Œä¸æ˜¯ç›´æ¥å‘å¤–éƒ¨è®¾å¤‡å†™å…¥ã€‚ ","date":"2022-01-23","objectID":"/posts/java-io/:2:0","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"ç¼“å†²å­—èŠ‚æµ è¦åˆ›å»ºä¸€ä¸ªç¼“å†²å­—èŠ‚æµï¼Œåªéœ€è¦å°†åŸæœ¬çš„æµä½œä¸ºæ„é€ å‚æ•°ä¼ å…¥BufferedInputStreamå³å¯ï¼š public static void main(String[] args) { try (BufferedInputStream bufferedInputStream = new BufferedInputStream(new FileInputStream(\"test.txt\"))){ //ä¼ å…¥FileInputStream System.out.println((char) bufferedInputStream.read()); //æ“ä½œå’ŒåŸæ¥çš„æµæ˜¯ä¸€æ ·çš„ }catch (IOException e){ e.printStackTrace(); } } å®é™…ä¸Šè¿›è¡ŒI/Oæ“ä½œçš„å¹¶ä¸æ˜¯BufferedInputStreamï¼Œè€Œæ˜¯æˆ‘ä»¬ä¼ å…¥çš„FileInputStreamï¼Œè€ŒBufferedInputStreamè™½ç„¶æœ‰ç€åŒæ ·çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿›è¡Œäº†ä¸€äº›é¢å¤–çš„å¤„ç†ç„¶åå†è°ƒç”¨FileInputStreamçš„åŒåæ–¹æ³•ï¼Œè¿™æ ·çš„å†™æ³•ç§°ä¸ºè£…é¥°è€…æ¨¡å¼ public void close() throws IOException { byte[] buffer; while ( (buffer = buf) != null) { if (bufUpdater.compareAndSet(this, buffer, null)) { //CASæ— é”ç®—æ³•ï¼Œå¹¶å‘ä¼šç”¨åˆ°ï¼Œæš‚æ—¶ä¸ç®¡ InputStream input = in; in = null; if (input != null) input.close(); return; } // Else retry in case a new buf was CASed in fill() } } å®é™…ä¸Šè¿™ç§æ¨¡å¼æ˜¯çˆ¶ç±»FilterInputStreamæä¾›çš„è§„èŒƒï¼Œåé¢æˆ‘ä»¬è¿˜ä¼šè®²åˆ°æ›´å¤šFilterInputStreamçš„å­ç±»ã€‚ æˆ‘ä»¬å¯ä»¥å‘ç°åœ¨BufferedInputStreamä¸­è¿˜å­˜åœ¨ä¸€ä¸ªä¸“é—¨ç”¨äºç¼“å­˜çš„æ•°ç»„ï¼š /** * The internal buffer array where the data is stored. When necessary, * it may be replaced by another array of * a different size. */ protected volatile byte buf[]; I/Oæ“ä½œä¸€èˆ¬ä¸èƒ½é‡å¤è¯»å–å†…å®¹ï¼ˆæ¯”å¦‚é”®ç›˜å‘é€çš„ä¿¡å·ï¼Œä¸»æœºæ¥æ”¶äº†å°±æ²¡äº†ï¼‰ï¼Œè€Œç¼“å†²æµæä¾›äº†ç¼“å†²æœºåˆ¶ï¼Œä¸€éƒ¨åˆ†å†…å®¹å¯ä»¥è¢«æš‚æ—¶ä¿å­˜ï¼ŒBufferedInputStreamæ”¯æŒreset()å’Œmark()æ“ä½œï¼Œé¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹mark()æ–¹æ³•çš„ä»‹ç»ï¼š /** * Marks the current position in this input stream. A subsequent * call to the \u003ccode\u003ereset\u003c/code\u003e method repositions this stream at * the last marked position so that subsequent reads re-read the same bytes. * \u003cp\u003e * The \u003ccode\u003ereadlimit\u003c/code\u003e argument tells this input stream to * allow that many bytes to be read before the mark position gets * invalidated. * \u003cp\u003e * This method simply performs \u003ccode\u003ein.mark(readlimit)\u003c/code\u003e. * * @param readlimit the maximum limit of bytes that can be read before * the mark position becomes invalid. * @see java.io.FilterInputStream#in * @see java.io.FilterInputStream#reset() */ public synchronized void mark(int readlimit) { in.mark(readlimit); } å½“è°ƒç”¨mark()ä¹‹åï¼Œè¾“å…¥æµä¼šä»¥æŸç§æ–¹å¼ä¿ç•™ä¹‹åè¯»å–çš„readlimitæ•°é‡çš„å†…å®¹ï¼Œå½“è¯»å–çš„å†…å®¹æ•°é‡è¶…è¿‡readlimitåˆ™ä¹‹åçš„å†…å®¹ä¸ä¼šè¢«ä¿ç•™ï¼Œå½“è°ƒç”¨reset()ä¹‹åï¼Œä¼šä½¿å¾—å½“å‰çš„è¯»å–ä½ç½®å›åˆ°mark()è°ƒç”¨æ—¶çš„ä½ç½®ã€‚ public static void main(String[] args) { try (BufferedInputStream bufferedInputStream = new BufferedInputStream(new FileInputStream(\"test.txt\"))){ bufferedInputStream.mark(1); //åªä¿ç•™ä¹‹åçš„1ä¸ªå­—ç¬¦ System.out.println((char) bufferedInputStream.read()); System.out.println((char) bufferedInputStream.read()); bufferedInputStream.reset(); //å›åˆ°markæ—¶çš„ä½ç½® System.out.println((char) bufferedInputStream.read()); System.out.println((char) bufferedInputStream.read()); }catch (IOException e) { e.printStackTrace(); } } æˆ‘ä»¬å‘ç°è™½ç„¶åé¢çš„éƒ¨åˆ†æ²¡æœ‰ä¿å­˜ï¼Œä½†æ˜¯ä¾ç„¶èƒ½å¤Ÿæ­£å¸¸è¯»å–ï¼Œå…¶å®mark()åä¿å­˜çš„è¯»å–å†…å®¹æ˜¯å–readlimitå’ŒBufferedInputStreamç±»çš„ç¼“å†²åŒºå¤§å°ä¸¤è€…ä¸­çš„æœ€å¤§å€¼ï¼Œè€Œå¹¶éå®Œå…¨ç”±readlimitç¡®å®šã€‚å› æ­¤æˆ‘ä»¬é™åˆ¶ä¸€ä¸‹ç¼“å†²åŒºå¤§å°ï¼Œå†æ¥è§‚å¯Ÿä¸€ä¸‹ç»“æœï¼š public static void main(String[] args) { try (BufferedInputStream bufferedInputStream = new BufferedInputStream(new FileInputStream(\"test.txt\"), 1)){ //å°†ç¼“å†²åŒºå¤§å°è®¾ç½®ä¸º1 bufferedInputStream.mark(1); //åªä¿ç•™ä¹‹åçš„1ä¸ªå­—ç¬¦ System.out.println((char) bufferedInputStream.read()); System.out.println((char) bufferedInputStream.read()); //å·²ç»è¶…è¿‡äº†readlimitï¼Œç»§ç»­è¯»å–ä¼šå¯¼è‡´markå¤±æ•ˆ bufferedInputStream.reset(); //markå·²ç»å¤±æ•ˆï¼Œæ— æ³•reset() System.out.println((char) bufferedInputStream.read()); System.out.println((char) bufferedInputStream.read()); }catch (IOException e) { e.printStackTrace(); } } äº†è§£å®Œäº†BufferedInputStreamä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹BufferedOutputStreamï¼Œå…¶å®å’ŒBufferedInputStreamåŸç†å·®ä¸å¤šï¼Œåªæ˜¯åå‘æ“ä½œï¼š public static void main(String[] args) { try (BufferedOutputStream outputStream = new BufferedOutputStream(new FileOutputStream(\"output.txt\"))){ outputStream.write(\"lbwnb\".getBytes()); outputStream.flush(); }catch (IOException e) { e.printStackTrace(); } } æ“ä½œå’ŒFileOutputStreamä¸€è‡´ï¼Œè¿™é‡Œå°±ä¸å¤šåšä»‹ç»äº†ã€‚ ","date":"2022-01-23","objectID":"/posts/java-io/:2:1","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"ç¼“å†²å­—ç¬¦æµ ç¼“å­˜å­—ç¬¦æµå’Œç¼“å†²å­—èŠ‚æµä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸€ä¸ªä¸“é—¨çš„ç¼“å†²åŒºï¼ŒBufferedReaderæ„é€ æ—¶éœ€è¦ä¼ å…¥ä¸€ä¸ªReaderå¯¹è±¡ï¼š public static void main(String[] args) { try (BufferedReader reader = new BufferedReader(new FileReader(\"test.txt\"))){ System.out.println((char) reader.read()); }catch (IOException e) { e.printStackTrace(); } } ä½¿ç”¨å’Œreaderä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå†…éƒ¨ä¹ŸåŒ…å«ä¸€ä¸ªç¼“å­˜æ•°ç»„ï¼š private char cb[]; ç›¸æ¯”Readeræ›´æ–¹ä¾¿çš„æ˜¯ï¼Œå®ƒæ”¯æŒæŒ‰è¡Œè¯»å–ï¼š public static void main(String[] args) { try (BufferedReader reader = new BufferedReader(new FileReader(\"test.txt\"))){ System.out.println(reader.readLine()); //æŒ‰è¡Œè¯»å– }catch (IOException e) { e.printStackTrace(); } } è¯»å–åç›´æ¥å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå½“ç„¶ï¼Œå®ƒè¿˜èƒ½æŠŠæ¯ä¸€è¡Œå†…å®¹ä¾æ¬¡è½¬æ¢ä¸ºé›†åˆç±»æåˆ°çš„Streamæµï¼š public static void main(String[] args) { try (BufferedReader reader = new BufferedReader(new FileReader(\"test.txt\"))){ reader .lines() .limit(2) .distinct() .sorted() .forEach(System.out::println); }catch (IOException e) { e.printStackTrace(); } } å®ƒåŒæ ·ä¹Ÿæ”¯æŒmark()å’Œreset()æ“ä½œï¼š public static void main(String[] args) { try (BufferedReader reader = new BufferedReader(new FileReader(\"test.txt\"))){ reader.mark(1); System.out.println((char) reader.read()); reader.reset(); System.out.println((char) reader.read()); }catch (IOException e) { e.printStackTrace(); } } BufferedReaderå¤„ç†çº¯æ–‡æœ¬æ–‡ä»¶æ—¶å°±æ›´åŠ æ–¹ä¾¿äº†ï¼ŒBufferedWriteråœ¨å¤„ç†æ—¶ä¹ŸåŒæ ·æ–¹ä¾¿ï¼š public static void main(String[] args) { try (BufferedWriter reader = new BufferedWriter(new FileWriter(\"output.txt\"))){ reader.newLine(); //ä½¿ç”¨newLineè¿›è¡Œæ¢è¡Œ reader.write(\"æ±‰å ¡åšæ»´å½³äºä¸å½³äº\"); //å¯ä»¥ç›´æ¥å†™å…¥ä¸€ä¸ªå­—ç¬¦ä¸² reader.flush(); //æ¸…ç©ºç¼“å†²åŒº }catch (IOException e) { e.printStackTrace(); } } ","date":"2022-01-23","objectID":"/posts/java-io/:2:2","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"è½¬æ¢æµ æœ‰æ—¶ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªå¾ˆéº»çƒ¦çš„é—®é¢˜ï¼šæˆ‘è¿™é‡Œè¯»å–çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ˜¯ä¸€ä¸ªä¸ªå­—ç¬¦ï¼Œä½†æ˜¯æˆ‘åªèƒ½å¾€ä¸€ä¸ªOutputStreamé‡Œè¾“å‡ºï¼Œä½†æ˜¯OutputStreamåˆåªæ”¯æŒbyteç±»å‹ï¼Œå¦‚æœè¦å¾€é‡Œé¢å†™å…¥å†…å®¹ï¼Œè¿›è¡Œæ•°æ®è½¬æ¢å°±ä¼šå¾ˆéº»çƒ¦ï¼Œé‚£ä¹ˆèƒ½å¦æœ‰æ›´åŠ ç®€ä¾¿çš„æ–¹å¼æ¥åšè¿™æ ·çš„äº‹æƒ…å‘¢ï¼Ÿ public static void main(String[] args) { try(OutputStreamWriter writer = new OutputStreamWriter(new FileOutputStream(\"test.txt\"))){ //è™½ç„¶ç»™å®šçš„æ˜¯FileOutputStreamï¼Œä½†æ˜¯ç°åœ¨æ”¯æŒä»¥Writerçš„æ–¹å¼è¿›è¡Œå†™å…¥ writer.write(\"lbwnb\"); //ä»¥æ“ä½œWriterçš„æ ·å­å†™å…¥OutputStream }catch (IOException e){ e.printStackTrace(); } } åŒæ ·çš„ï¼Œæˆ‘ä»¬ç°åœ¨åªæ‹¿åˆ°äº†ä¸€ä¸ªInputStreamï¼Œä½†æ˜¯æˆ‘ä»¬å¸Œæœ›èƒ½å¤ŸæŒ‰å­—ç¬¦çš„æ–¹å¼è¯»å–ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨InputStreamReaderæ¥å¸®åŠ©æˆ‘ä»¬å®ç°ï¼š public static void main(String[] args) { try(InputStreamReader reader = new InputStreamReader(new FileInputStream(\"test.txt\"))){ //è™½ç„¶ç»™å®šçš„æ˜¯FileInputStreamï¼Œä½†æ˜¯ç°åœ¨æ”¯æŒä»¥Readerçš„æ–¹å¼è¿›è¡Œè¯»å– System.out.println((char) reader.read()); }catch (IOException e){ e.printStackTrace(); } } InputStreamReaderå’ŒOutputStreamWriteræœ¬è´¨ä¹Ÿæ˜¯Readerå’ŒWriterï¼Œå› æ­¤å¯ä»¥ç›´æ¥æ”¾å…¥BufferedReaderæ¥å®ç°æ›´åŠ æ–¹ä¾¿çš„æ“ä½œã€‚ ","date":"2022-01-23","objectID":"/posts/java-io/:3:0","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"æ‰“å°æµ æ‰“å°æµå…¶å®æˆ‘ä»¬ä»ä¸€å¼€å§‹å°±åœ¨ä½¿ç”¨äº†ï¼Œæ¯”å¦‚System.outå°±æ˜¯ä¸€ä¸ªPrintStreamï¼ŒPrintStreamä¹Ÿç»§æ‰¿è‡ªFilterOutputStreamç±»å› æ­¤ä¾ç„¶æ˜¯è£…é¥°æˆ‘ä»¬ä¼ å…¥çš„è¾“å‡ºæµï¼Œä½†æ˜¯å®ƒå­˜åœ¨è‡ªåŠ¨åˆ·æ–°æœºåˆ¶ï¼Œä¾‹å¦‚å½“å‘PrintStreamæµä¸­å†™å…¥ä¸€ä¸ªå­—èŠ‚æ•°ç»„åè‡ªåŠ¨è°ƒç”¨flush()æ–¹æ³•ã€‚PrintStreamä¹Ÿæ°¸è¿œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯ä½¿ç”¨å†…éƒ¨æ£€æŸ¥æœºåˆ¶checkError()æ–¹æ³•è¿›è¡Œé”™è¯¯æ£€æŸ¥ã€‚æœ€æ–¹ä¾¿çš„æ˜¯ï¼Œå®ƒèƒ½å¤Ÿæ ¼å¼åŒ–ä»»æ„çš„ç±»å‹ï¼Œå°†å®ƒä»¬ä»¥å­—ç¬¦ä¸²çš„å½¢å¼å†™å…¥åˆ°è¾“å‡ºæµã€‚ public final static PrintStream out = null; å¯ä»¥çœ‹åˆ°System.outä¹Ÿæ˜¯PrintStreamï¼Œä¸è¿‡é»˜è®¤æ˜¯å‘æ§åˆ¶å°æ‰“å°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®©å®ƒå‘æ–‡ä»¶ä¸­æ‰“å°ï¼š public static void main(String[] args) { try(PrintStream stream = new PrintStream(new FileOutputStream(\"test.txt\"))){ stream.println(\"lbwnb\"); //å…¶å®System.outå°±æ˜¯ä¸€ä¸ªPrintStream }catch (IOException e){ e.printStackTrace(); } } æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„printlnæ–¹æ³•å°±æ˜¯PrintStreamä¸­çš„æ–¹æ³•ï¼Œå®ƒä¼šç›´æ¥æ‰“å°åŸºæœ¬æ•°æ®ç±»å‹æˆ–æ˜¯è°ƒç”¨å¯¹è±¡çš„toString()æ–¹æ³•å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦ï¼Œæ”¾å…¥ç¼“å†²åŒºå†ç»è¿‡è½¬æ¢æµè¾“å‡ºåˆ°ç»™å®šçš„è¾“å‡ºæµä¸Šã€‚ å› æ­¤å®é™…ä¸Šå†…éƒ¨è¿˜åŒ…å«è¿™ä¸¤ä¸ªå†…å®¹ï¼š /** * Track both the text- and character-output streams, so that their buffers * can be flushed without flushing the entire stream. */ private BufferedWriter textOut; private OutputStreamWriter charOut; ä¸æ­¤ç›¸åŒçš„è¿˜æœ‰ä¸€ä¸ªPrintWriterï¼Œä¸è¿‡ä»–ä»¬çš„åŠŸèƒ½åŸºæœ¬ä¸€è‡´ï¼ŒPrintWriterçš„æ„é€ æ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªWriterä½œä¸ºå‚æ•°ï¼Œè¿™é‡Œå°±ä¸å†åšè¿‡å¤šé˜è¿°äº†ã€‚ ","date":"2022-01-23","objectID":"/posts/java-io/:4:0","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"æ•°æ®æµ æ•°æ®æµDataInputStreamä¹Ÿæ˜¯FilterInputStreamçš„å­ç±»ï¼ŒåŒæ ·é‡‡ç”¨è£…é¥°è€…æ¨¡å¼ï¼Œæœ€å¤§çš„ä¸åŒæ˜¯å®ƒæ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹çš„ç›´æ¥è¯»å–ï¼š public static void main(String[] args) { try (DataInputStream dataInputStream = new DataInputStream(new FileInputStream(\"test.txt\"))){ System.out.println(dataInputStream.readBoolean()); //ç›´æ¥å°†æ•°æ®è¯»å–ä¸ºä»»æ„åŸºæœ¬æ•°æ®ç±»å‹ }catch (IOException e) { e.printStackTrace(); } } ç”¨äºå†™å…¥åŸºæœ¬æ•°æ®ç±»å‹ï¼š public static void main(String[] args) { try (DataOutputStream dataOutputStream = new DataOutputStream(new FileOutputStream(\"output.txt\"))){ dataOutputStream.writeBoolean(false); }catch (IOException e) { e.printStackTrace(); } } æ³¨æ„ï¼Œå†™å…¥çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œå¹¶ä¸æ˜¯å†™å…¥çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨DataInputStreamå¯ä»¥è¯»å–ï¼Œä¸€èˆ¬ä»–ä»¬æ˜¯é…åˆä¸€èµ·ä½¿ç”¨çš„ã€‚ ","date":"2022-01-23","objectID":"/posts/java-io/:5:0","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"å¯¹è±¡æµ æ—¢ç„¶åŸºæœ¬æ•°æ®ç±»å‹èƒ½å¤Ÿè¯»å–å’Œå†™å…¥åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆèƒ½å¦å°†å¯¹è±¡ä¹Ÿæ”¯æŒå‘¢ï¼ŸObjectOutputStreamä¸ä»…æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé€šè¿‡å¯¹å¯¹è±¡çš„åºåˆ—åŒ–æ“ä½œï¼Œä»¥æŸç§æ ¼å¼ä¿å­˜å¯¹è±¡ï¼Œæ¥æ”¯æŒå¯¹è±¡ç±»å‹çš„IOï¼Œæ³¨æ„ï¼šå®ƒä¸æ˜¯ç»§æ‰¿è‡ªFilterInputStreamçš„ã€‚ public static void main(String[] args) { try (ObjectOutputStream outputStream = new ObjectOutputStream(new FileOutputStream(\"output.txt\")); ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream(\"output.txt\"))){ People people = new People(\"lbw\"); outputStream.writeObject(people); outputStream.flush(); people = (People) inputStream.readObject(); System.out.println(people.name); }catch (IOException | ClassNotFoundException e) { e.printStackTrace(); } } static class People implements Serializable{ //å¿…é¡»å®ç°Serializableæ¥å£æ‰èƒ½è¢«åºåˆ—åŒ– String name; public People(String name){ this.name = name; } } åœ¨æˆ‘ä»¬åç»­çš„æ“ä½œä¸­ï¼Œæœ‰å¯èƒ½ä¼šä½¿å¾—è¿™ä¸ªç±»çš„ä¸€äº›ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œè€ŒåŸæ¥ä¿å­˜çš„æ•°æ®åªé€‚ç”¨äºä¹‹å‰ç‰ˆæœ¬çš„è¿™ä¸ªç±»ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥åŒºåˆ†ç±»çš„ä¸åŒç‰ˆæœ¬ï¼š static class People implements Serializable{ private static final long serialVersionUID = 123456; //åœ¨åºåˆ—åŒ–æ—¶ï¼Œä¼šè¢«è‡ªåŠ¨æ·»åŠ è¿™ä¸ªå±æ€§ï¼Œå®ƒä»£è¡¨å½“å‰ç±»çš„ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬ã€‚ String name; public People(String name){ this.name = name; } } å½“å‘ç”Ÿç‰ˆæœ¬ä¸åŒ¹é…æ—¶ï¼Œä¼šæ— æ³•ååºåˆ—åŒ–ä¸ºå¯¹è±¡ï¼š java.io.InvalidClassException: com.test.Main$People; local class incompatible: stream classdesc serialVersionUID = 123456, local class serialVersionUID = 1234567 at java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:699) at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2003) at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1850) at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2160) at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667) at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503) at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461) at com.test.Main.main(Main.java:27) å¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›æŸäº›å±æ€§å‚ä¸åˆ°åºåˆ—åŒ–ä¸­è¿›è¡Œä¿å­˜ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ transientå…³é”®å­—ï¼š public static void main(String[] args) { try (ObjectOutputStream outputStream = new ObjectOutputStream(new FileOutputStream(\"output.txt\")); ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream(\"output.txt\"))){ People people = new People(\"lbw\"); outputStream.writeObject(people); outputStream.flush(); people = (People) inputStream.readObject(); System.out.println(people.name); //è™½ç„¶èƒ½å¾—åˆ°å¯¹è±¡ï¼Œä½†æ˜¯nameå±æ€§å¹¶æ²¡æœ‰ä¿å­˜ï¼Œå› æ­¤ä¸ºnull }catch (IOException | ClassNotFoundException e) { e.printStackTrace(); } } static class People implements Serializable{ private static final long serialVersionUID = 1234567; transient String name; public People(String name){ this.name = name; } } å…¶å®æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸€äº›JDKå†…éƒ¨çš„æºç ä¸­ï¼Œä¹Ÿå­˜åœ¨å¤§é‡çš„transientå…³é”®å­—ï¼Œä½¿å¾—æŸäº›å±æ€§ä¸å‚ä¸åºåˆ—åŒ–ï¼Œå–æ¶ˆè¿™äº›ä¸å¿…è¦ä¿å­˜çš„å±æ€§ï¼Œå¯ä»¥èŠ‚çœæ•°æ®ç©ºé—´å ç”¨ä»¥åŠå‡å°‘åºåˆ—åŒ–æ—¶é—´ã€‚ ","date":"2022-01-23","objectID":"/posts/java-io/:6:0","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"Java I/Oç¼–ç¨‹å®æˆ˜ ","date":"2022-01-23","objectID":"/posts/java-io/:7:0","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ è¦æ±‚å®ç°ä¸€ä¸ªå›¾ä¹¦ç®¡ç†ç³»ç»Ÿï¼ˆæ§åˆ¶å°ï¼‰ï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼šä¿å­˜ä¹¦ç±ä¿¡æ¯ï¼ˆè¦æ±‚æŒä¹…åŒ–ï¼‰ï¼ŒæŸ¥è¯¢ã€æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ä¹¦ç±ä¿¡æ¯ã€‚ å‚è€ƒä»£ç ï¼š import java.io.*; import java.util.HashSet; import java.util.Objects; import java.util.Scanner; public class Library { static private HashSet\u003cBook\u003e MAP; public static void main(String[] args) { //TODO æ³¨æ„å…ˆåˆ†é…å†…å­˜ Scanner scan = new Scanner(System.in); readData(); while (true) { System.out.println(\"============å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ===========\"); System.out.println(\"1.æ’å…¥æ•°æ®\"); System.out.println(\"2.ä¿®æ”¹æ•°æ®\"); System.out.println(\"3.æŸ¥è¯¢å›¾ä¹¦åˆ—è¡¨\"); System.out.println(\"4.åˆ é™¤å›¾ä¹¦\"); System.out.println(\"(æŒ‰ä¸‹ä»»æ„å…¶ä»–é”®é€€å‡ºç¨‹åº)\"); String str = scan.nextLine(); switch (str) { case \"1\": insertBooks(scan); break; case \"2\": modifyBook(scan); break; case \"3\": showBooks(); break; case \"4\": deleteBooks(scan); break; default: saveData(); scan.close(); return; } } } //TODO ç¨‹åºå¯åŠ¨å‰ï¼Œè¯»å–æŒä¹…åŒ–æ•°æ® private static void readData(){ File file = new File(\"data\"); if(file.exists()){ try(ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream(\"data\"))){ MAP = (HashSet\u003cBook\u003e) inputStream.readObject(); }catch (IOException|ClassNotFoundException e){ e.printStackTrace(); } }else { MAP = new HashSet\u003c\u003e(); } } //TODO ç¨‹åºç»“æŸæ—¶ï¼ŒæŒä¹…åºåˆ—åŒ–ä¿å­˜æ•°æ® private static void saveData(){ try(ObjectOutputStream outputStream = new ObjectOutputStream(new FileOutputStream(\"data\"))){ outputStream.writeObject(MAP); outputStream.flush(); }catch (IOException e){ e.printStackTrace(); } } //TODO ä¿®æ”¹å›¾ä¹¦æ•°æ® private static void modifyBook(Scanner scan) { showBooks(); System.out.println(\"è¾“å…¥æ‚¨è¦ä¿®æ”¹ä¹¦ç±çš„ç´¢ä¹¦å·ï¼š\"); int index = scan.nextInt(); scan.nextLine(); Book t = new Book().setIndex(index); if (!MAP.contains(t)) { System.out.println(\"è¾“å…¥é”™è¯¯å›¾ä¹¦é¦†å†…æ— è¯¥ä¹¦ç±!\"); } else { System.out.println(\"è¯·è¾“å…¥æ‚¨è¦æ›´æ”¹çš„ä¿¡æ¯ï¼šä¹¦åï¼Œä½œè€…ï¼Œä»·æ ¼\"); String name = scan.nextLine(); String author = scan.nextLine(); double price = scan.nextDouble(); scan.nextLine(); for (Book tt : MAP) { if (tt.equals(t)) { tt.setAuthor(author); tt.setName(name); tt.setPrice(price); break; } } } } //TODO åˆ é™¤ä¹¦ç± private static void deleteBooks(Scanner scan) { showBooks(); System.out.println(\"è¯·è¾“å…¥è¦åˆ é™¤ä¹¦ç±çš„ç´¢ä¹¦å·ï¼š\"); int index = scan.nextInt(); scan.nextLine(); Book t = new Book().setIndex(index); if (!MAP.contains(t)) { System.out.println(\"ç´¢ä¹¦å·å‡ºé”™æ²¡æœ‰è¿™æ ·çš„ä¹¦ç±\"); } else { System.out.printf(\"åˆ é™¤ç´¢ä¹¦å·ä¸º:%d çš„ä¹¦ç±æˆåŠŸ!\\n\", index); MAP.remove(t); } } //TODO æ˜¾ç¤ºå›¾ä¹¦ä¿¡æ¯ private static void showBooks() { MAP.forEach(System.out::println); } //TODO æ’å…¥ä¹¦ç± private static void insertBooks(Scanner scan) { System.out.println(\"è¯·è¾“å…¥ ç´¢ä¹¦å· ä¹¦å ä½œè€… ä»·æ ¼ã€‚æ¯è¾“å…¥ä¸€ä¸ªä¿¡æ¯æŒ‰ä¸‹å›è½¦é”®ç¡®è®¤ï¼\"); MAP.add(new Book().setIndex(scan.nextInt()) .setName(scan.nextLine() + scan.nextLine()) .setAuthor(scan.nextLine()) .setPrice(scan.nextDouble()) ); scan.nextLine(); } //TODO ä¹¦ç±ç±» private static class Book implements Serializable{ int index;//ç´¢ä¹¦å· String name;//ä¹¦å String author;//ä½œè€… double price;//ä»·æ ¼ public Book setName(String name) { this.name = name; return this; } public Book setIndex(int index) { this.index = index; return this; } public Book setAuthor(String author) { this.author = author; return this; } public Book setPrice(double price) { this.price = price; return this; } @Override public String toString() { return \"ä¹¦ç±{\" + \"ç´¢ä¹¦å·=\" + index + \", ä¹¦å='\" + name + '\\'' + \", ä½œè€…='\" + author + '\\'' + \", ä»·æ ¼=\" + price + '}'; } @Override public boolean equals(Object o) { if (this == o) return true; if (o == null || getClass() != o.getClass()) return false; Book book = (Book) o; return index == book.index; } @Override public int hashCode() { return Objects.hash(index); } } } ","date":"2022-01-23","objectID":"/posts/java-io/:7:1","tags":["Java I/O"],"title":"Java I/O","uri":"/posts/java-io/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaåå°„ä¸æ³¨è§£","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaåå°„å’Œæ³¨è§£ é…å¥—è§†é¢‘ **æ³¨æ„ï¼š**æœ¬ç« èŠ‚æ¶‰åŠåˆ°JVMç›¸å…³åº•å±‚åŸç†ï¼Œéš¾åº¦ä¼šæœ‰ä¸€äº›å¤§ã€‚ åå°„å°±æ˜¯æŠŠJavaç±»ä¸­çš„å„ä¸ªæˆåˆ†æ˜ å°„æˆä¸€ä¸ªä¸ªçš„Javaå¯¹è±¡ã€‚å³åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½è°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ã€‚è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½å«Javaçš„åå°„æœºåˆ¶ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ï¼Œè·å–åˆ°ç±»çš„ä¸€äº›å±æ€§ï¼ŒåŒ…æ‹¬ç±»é‡Œé¢æœ‰å“ªäº›å­—æ®µï¼Œæœ‰å“ªäº›æ–¹æ³•ï¼Œç»§æ‰¿è‡ªå“ªä¸ªç±»ï¼Œç”šè‡³è¿˜èƒ½è·å–åˆ°æ³›å‹ï¼å®ƒçš„æƒé™éå¸¸é«˜ï¼Œæ…é‡ä½¿ç”¨ï¼ ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:0:0","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaç±»åŠ è½½æœºåˆ¶ åœ¨å­¦ä¹ Javaçš„åå°„æœºåˆ¶ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹ç±»çš„åŠ è½½æœºåˆ¶ï¼Œä¸€ä¸ªç±»æ˜¯å¦‚ä½•è¢«åŠ è½½å’Œä½¿ç”¨çš„ï¼š åœ¨Javaç¨‹åºå¯åŠ¨æ—¶ï¼ŒJVMä¼šå°†ä¸€éƒ¨åˆ†ç±»ï¼ˆclassæ–‡ä»¶ï¼‰å…ˆåŠ è½½ï¼ˆå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»éƒ½ä¼šåœ¨ä¸€å¼€å§‹åŠ è½½ï¼‰ï¼Œé€šè¿‡ClassLoaderå°†ç±»åŠ è½½ï¼Œåœ¨åŠ è½½è¿‡ç¨‹ä¸­ï¼Œä¼šå°†ç±»çš„ä¿¡æ¯æå–å‡ºæ¥ï¼ˆå­˜æ”¾åœ¨å…ƒç©ºé—´ä¸­ï¼ŒJDK1.8ä¹‹å‰å­˜æ”¾åœ¨æ°¸ä¹…ä»£ï¼‰ï¼ŒåŒæ—¶ä¹Ÿä¼šç”Ÿæˆä¸€ä¸ªClasså¯¹è±¡å­˜æ”¾åœ¨å†…å­˜ï¼ˆå †å†…å­˜ï¼‰ï¼Œæ³¨æ„æ­¤Classå¯¹è±¡åªä¼šå­˜åœ¨ä¸€ä¸ªï¼Œä¸åŠ è½½çš„ç±»å”¯ä¸€å¯¹åº”ï¼ **æ€è€ƒï¼š**æ—¢ç„¶è¯´å’Œä¸åŠ è½½çš„ç±»å”¯ä¸€å¯¹åº”ï¼Œé‚£å¦‚æœæˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªä¸JDKåŒ…åä¸€æ ·ï¼ŒåŒæ—¶ç±»åä¹Ÿä¿æŒä¸€è‡´ï¼Œé‚£ä¹ˆJVMä¼šåŠ è½½è¿™ä¸ªç±»å—ï¼Ÿ package java.lang; public class String { //JDKæä¾›çš„Stringç±»ä¹Ÿæ˜¯ public static void main(String[] args) { System.out.println(\"æˆ‘å§“ğŸ´ï¼Œæˆ‘å«ğŸ´nb\"); } } æˆ‘ä»¬å‘ç°ï¼Œä¼šå‡ºç°ä»¥ä¸‹æŠ¥é”™ï¼š é”™è¯¯: åœ¨ç±» java.lang.String ä¸­æ‰¾ä¸åˆ° main æ–¹æ³•, è¯·å°† main æ–¹æ³•å®šä¹‰ä¸º: public static void main(String[] args) ä½†æ˜¯æˆ‘ä»¬æ˜æ˜åœ¨è‡ªå·±å†™çš„Stringç±»ä¸­å®šä¹‰äº†mainæ–¹æ³•å•Šï¼Œä¸ºä»€ä¹ˆä¼šæ‰¾ä¸åˆ°æ­¤æ–¹æ³•å‘¢ï¼Ÿå®é™…ä¸Šè¿™æ˜¯ClassLoaderçš„åŒäº²å§”æ´¾æœºåˆ¶åœ¨ä¿æŠ¤Javaç¨‹åºçš„æ­£å¸¸è¿è¡Œï¼š å®é™…ä¸Šæˆ‘ä»¬çš„ç±»æœ€å¼€å§‹æ˜¯ç”±BootstarpClassLoaderè¿›è¡ŒåŠ è½½ï¼ŒBootstarpClassLoaderç”¨äºåŠ è½½JDKæä¾›çš„ç±»ï¼Œè€Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„ç±»å®é™…ä¸Šæ˜¯AppClassLoaderï¼Œåªæœ‰BootstarpClassLoaderéƒ½æ²¡æœ‰åŠ è½½çš„ç±»ï¼Œæ‰ä¼šè®©AppClassLoaderæ¥åŠ è½½ï¼Œå› æ­¤æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åŒååŒ…åŒåç±»ä¸ä¼šè¢«åŠ è½½ï¼Œè€Œå®é™…è¦å»å¯åŠ¨çš„æ˜¯çœŸæ­£çš„Stringç±»ï¼Œä¹Ÿå°±è‡ªç„¶æ‰¾ä¸åˆ°mainæ–¹æ³•äº†ï¼ public class Main { public static void main(String[] args) { System.out.println(Main.class.getClassLoader()); //æŸ¥çœ‹å½“å‰ç±»çš„ç±»åŠ è½½å™¨ System.out.println(Main.class.getClassLoader().getParent()); //çˆ¶åŠ è½½å™¨ System.out.println(Main.class.getClassLoader().getParent().getParent()); //çˆ·çˆ·åŠ è½½å™¨ System.out.println(String.class.getClassLoader()); //Stringç±»çš„åŠ è½½å™¨ } } ç”±äºBootstarpClassLoaderæ˜¯C++ç¼–å†™çš„ï¼Œæˆ‘ä»¬åœ¨Javaä¸­æ˜¯è·å–ä¸åˆ°çš„ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:1:0","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"Classå¯¹è±¡ é€šè¿‡å‰é¢ï¼Œæˆ‘ä»¬äº†è§£äº†ç±»çš„åŠ è½½ï¼ŒåŒæ—¶ä¼šæå–ä¸€ä¸ªç±»çš„ä¿¡æ¯ç”ŸæˆClasså¯¹è±¡å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œè€Œåå°„æœºåˆ¶å…¶å®å°±æ˜¯åˆ©ç”¨è¿™äº›å­˜æ”¾çš„ç±»ä¿¡æ¯ï¼Œæ¥è·å–ç±»çš„ä¿¡æ¯å’Œæ“ä½œç±»ã€‚é‚£ä¹ˆå¦‚ä½•è·å–åˆ°æ¯ä¸ªç±»å¯¹åº”çš„Classå¯¹è±¡å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š public static void main(String[] args) throws ClassNotFoundException { Class\u003cString\u003e clazz = String.class; //ä½¿ç”¨classå…³é”®å­—ï¼Œé€šè¿‡ç±»åè·å– Class\u003c?\u003e clazz2 = Class.forName(\"java.lang.String\"); //ä½¿ç”¨Classç±»é™æ€æ–¹æ³•forName()ï¼Œé€šè¿‡åŒ…å.ç±»åè·å–ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯Class\u003c?\u003e Class\u003c?\u003e clazz3 = new String(\"cpdd\").getClass(); //é€šè¿‡å®ä¾‹å¯¹è±¡è·å– } æ³¨æ„Classç±»ä¹Ÿæ˜¯ä¸€ä¸ªæ³›å‹ç±»ï¼Œåªæœ‰ç¬¬ä¸€ç§æ–¹æ³•ï¼Œèƒ½å¤Ÿç›´æ¥è·å–åˆ°å¯¹åº”ç±»å‹çš„Classå¯¹è±¡ï¼Œè€Œä»¥ä¸‹ä¸¤ç§æ–¹æ³•ä½¿ç”¨äº†?é€šé…ç¬¦ä½œä¸ºè¿”å›å€¼ï¼Œä½†æ˜¯å®é™…ä¸Šéƒ½å’Œç¬¬ä¸€ä¸ªè¿”å›çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼š Class\u003cString\u003e clazz = String.class; //ä½¿ç”¨classå…³é”®å­—ï¼Œé€šè¿‡ç±»åè·å– Class\u003c?\u003e clazz2 = Class.forName(\"java.lang.String\"); //ä½¿ç”¨Classç±»é™æ€æ–¹æ³•forName()ï¼Œé€šè¿‡åŒ…å.ç±»åè·å–ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯Class\u003c?\u003e Class\u003c?\u003e clazz3 = new String(\"cpdd\").getClass(); System.out.println(clazz == clazz2); System.out.println(clazz == clazz3); é€šè¿‡æ¯”è¾ƒï¼ŒéªŒè¯äº†æˆ‘ä»¬ä¸€å¼€å§‹çš„ç»“è®ºï¼Œåœ¨JVMä¸­æ¯ä¸ªç±»å§‹ç»ˆåªå­˜åœ¨ä¸€ä¸ªClasså¯¹è±¡ï¼Œæ— è®ºé€šè¿‡ä»€ä¹ˆæ–¹æ³•è·å–ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚ç°åœ¨æˆ‘ä»¬å†æ¥çœ‹çœ‹è¿™ä¸ªé—®é¢˜ï¼š public static void main(String[] args) { Class\u003c?\u003e clazz = int.class; //åŸºæœ¬æ•°æ®ç±»å‹æœ‰Classå¯¹è±¡å—ï¼Ÿ System.out.println(clazz); } è¿·äº†ï¼Œä¸æ˜¯æ¯ä¸ªç±»æ‰æœ‰Classå¯¹è±¡å—ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹åˆä¸æ˜¯ç±»ï¼Œè¿™ä¹Ÿè¡Œå—ï¼Ÿå®é™…ä¸Šï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¹Ÿæœ‰å¯¹åº”çš„Classå¯¹è±¡ï¼ˆåå°„æ“ä½œå¯èƒ½éœ€è¦ç”¨åˆ°ï¼‰ï¼Œè€Œä¸”æˆ‘ä»¬ä¸ä»…å¯ä»¥é€šè¿‡classå…³é”®å­—è·å–ï¼Œå…¶å®æœ¬è´¨ä¸Šæ˜¯å®šä¹‰åœ¨å¯¹åº”çš„åŒ…è£…ç±»ä¸­çš„ï¼š /** * The {@code Class} instance representing the primitive type * {@code int}. * * @since JDK1.1 */ @SuppressWarnings(\"unchecked\") public static final Class\u003cInteger\u003e TYPE = (Class\u003cInteger\u003e) Class.getPrimitiveClass(\"int\"); /* * Return the Virtual Machine's Class object for the named * primitive type */ static native Class\u003c?\u003e getPrimitiveClass(String name); //C++å®ç°ï¼Œå¹¶éJavaå®šä¹‰ æ¯ä¸ªåŒ…è£…ç±»ä¸­ï¼ˆåŒ…æ‹¬Voidï¼‰ï¼Œéƒ½æœ‰ä¸€ä¸ªè·å–åŸå§‹ç±»å‹Classæ–¹æ³•ï¼Œæ³¨æ„ï¼ŒgetPrimitiveClassè·å–çš„æ˜¯åŸå§‹ç±»å‹ï¼Œå¹¶ä¸æ˜¯åŒ…è£…ç±»å‹ï¼Œåªæ˜¯å¯ä»¥ä½¿ç”¨åŒ…è£…ç±»æ¥è¡¨ç¤ºã€‚ public static void main(String[] args) { Class\u003c?\u003e clazz = int.class; System.out.println(Integer.TYPE == int.class); } é€šè¿‡å¯¹æ¯”ï¼Œæˆ‘ä»¬å‘ç°å®é™…ä¸ŠåŒ…è£…ç±»å‹éƒ½æœ‰ä¸€ä¸ªTYPEï¼Œå…¶å®ä¹Ÿå°±æ˜¯åŸºæœ¬ç±»å‹çš„Classï¼Œé‚£ä¹ˆåŒ…è£…ç±»çš„Classå’ŒåŸºæœ¬ç±»çš„Classä¸€æ ·å—ï¼Ÿ public static void main(String[] args) { System.out.println(Integer.TYPE == Integer.class); } æˆ‘ä»¬å‘ç°ï¼ŒåŒ…è£…ç±»å‹çš„Classå¯¹è±¡å¹¶ä¸æ˜¯åŸºæœ¬ç±»å‹Classå¯¹è±¡ã€‚æ•°ç»„ç±»å‹ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ï¼Œåªæ˜¯ç¼–ç¨‹ä¸å¯è§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥è·å–æ•°ç»„çš„Classå¯¹è±¡ï¼š public static void main(String[] args) { Class\u003cString[]\u003e clazz = String[].class; System.out.println(clazz.getName()); //è·å–ç±»åç§°ï¼ˆå¾—åˆ°çš„æ˜¯åŒ…å+ç±»åçš„å®Œæ•´åç§°ï¼‰ System.out.println(clazz.getSimpleName()); System.out.println(clazz.getTypeName()); System.out.println(clazz.getClassLoader()); //è·å–å®ƒçš„ç±»åŠ è½½å™¨ System.out.println(clazz.cast(new Integer(\"10\"))); //å¼ºåˆ¶ç±»å‹è½¬æ¢ } ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:2:0","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"å†è°ˆinstanceof æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨instanceofè¿›è¡Œç±»å‹æ¯”è¾ƒï¼š public static void main(String[] args) { String str = \"\"; System.out.println(str instanceof String); } å®ƒå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ­¤æ¥å£æˆ–æ˜¯ç±»çš„å®ç°æˆ–æ˜¯å­ç±»ï¼Œè€Œç°åœ¨æˆ‘ä»¬æœ‰äº†æ›´å¤šçš„æ–¹å¼å»åˆ¤æ–­ç±»å‹ï¼š public static void main(String[] args) { String str = \"\"; System.out.println(str.getClass() == String.class); //ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºè¿™ä¸ªç±»å‹ } å¦‚æœéœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºå­ç±»æˆ–æ˜¯æ¥å£/æŠ½è±¡ç±»çš„å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨asSubClass()æ–¹æ³•ï¼š public static void main(String[] args) { Integer i = 10; i.getClass().asSubclass(Number.class); //å½“Integerä¸æ˜¯Numberçš„å­ç±»æ—¶ï¼Œä¼šäº§ç”Ÿå¼‚å¸¸ } ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:2:1","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"è·å–çˆ¶ç±»ä¿¡æ¯ é€šè¿‡getSuperclass()æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°çˆ¶ç±»çš„Classå¯¹è±¡ï¼š public static void main(String[] args) { Integer i = 10; System.out.println(i.getClass().getSuperclass()); } ä¹Ÿå¯ä»¥é€šè¿‡getGenericSuperclass()è·å–çˆ¶ç±»çš„åŸå§‹ç±»å‹çš„Typeï¼š public static void main(String[] args) { Integer i = 10; Type type = i.getClass().getGenericSuperclass(); System.out.println(type); System.out.println(type instanceof Class); } æˆ‘ä»¬å‘ç°Typeå®é™…ä¸Šæ˜¯Classç±»çš„çˆ¶æ¥å£ï¼Œä½†æ˜¯è·å–åˆ°çš„Typeçš„å®ç°å¹¶ä¸ä¸€å®šæ˜¯Classã€‚ åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒä¸Šé¢è¿™æ ·è·å–çˆ¶æ¥å£ï¼š public static void main(String[] args) { Integer i = 10; for (Class\u003c?\u003e anInterface : i.getClass().getInterfaces()) { System.out.println(anInterface.getName()); } for (Type genericInterface : i.getClass().getGenericInterfaces()) { System.out.println(genericInterface.getTypeName()); } } ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:2:2","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"åˆ›å»ºç±»å¯¹è±¡ æ—¢ç„¶æˆ‘ä»¬æ‹¿åˆ°äº†ç±»çš„å®šä¹‰ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥é€šè¿‡Classå¯¹è±¡æ¥åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€ä¿®æ”¹å˜é‡å‘¢ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œé‚£æˆ‘ä»¬é¦–å…ˆæ¥æ¢è®¨ä¸€ä¸‹å¦‚ä½•åˆ›å»ºä¸€ä¸ªç±»çš„å¯¹è±¡ï¼š public static void main(String[] args) throws InstantiationException, IllegalAccessException { Class\u003cStudent\u003e clazz = Student.class; Student student = clazz.newInstance(); student.test(); } static class Student{ public void test(){ System.out.println(\"è¨æ—¥æœ—\"); } } é€šè¿‡ä½¿ç”¨newInstance()æ–¹æ³•æ¥åˆ›å»ºå¯¹åº”ç±»å‹çš„å®ä¾‹ï¼Œè¿”å›æ³›å‹Tï¼Œæ³¨æ„å®ƒä¼šæŠ›å‡ºInstantiationExceptionå’ŒIllegalAccessExceptionå¼‚å¸¸ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°å¼‚å¸¸å‘¢ï¼Ÿ public static void main(String[] args) throws InstantiationException, IllegalAccessException { Class\u003cStudent\u003e clazz = Student.class; Student student = clazz.newInstance(); student.test(); } static class Student{ public Student(String text){ } public void test(){ System.out.println(\"è¨æ—¥æœ—\"); } } å½“ç±»é»˜è®¤çš„æ„é€ æ–¹æ³•è¢«å¸¦å‚æ„é€ è¦†ç›–æ—¶ï¼Œä¼šå‡ºç°InstantiationExceptionå¼‚å¸¸ï¼Œå› ä¸ºnewInstance()åªé€‚ç”¨äºé»˜è®¤æ— å‚æ„é€ ã€‚ public static void main(String[] args) throws InstantiationException, IllegalAccessException { Class\u003cStudent\u003e clazz = Student.class; Student student = clazz.newInstance(); student.test(); } static class Student{ private Student(){} public void test(){ System.out.println(\"è¨æ—¥æœ—\"); } } å½“é»˜è®¤æ— å‚æ„é€ çš„æƒé™ä¸æ˜¯publicæ—¶ï¼Œä¼šå‡ºç°IllegalAccessExceptionå¼‚å¸¸ï¼Œè¡¨ç¤ºæˆ‘ä»¬æ— æƒå»è°ƒç”¨é»˜è®¤æ„é€ æ–¹æ³•ã€‚åœ¨JDK9ä¹‹åï¼Œä¸å†æ¨èä½¿ç”¨newInstance()æ–¹æ³•äº†ï¼Œè€Œæ˜¯ä½¿ç”¨æˆ‘ä»¬æ¥ä¸‹æ¥è¦ä»‹ç»åˆ°çš„ï¼Œé€šè¿‡è·å–æ„é€ å™¨ï¼Œæ¥å®ä¾‹åŒ–å¯¹è±¡ï¼š public static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException { Class\u003cStudent\u003e clazz = Student.class; Student student = clazz.getConstructor(String.class).newInstance(\"what's up\"); student.test(); } static class Student{ public Student(String str){} public void test(){ System.out.println(\"è¨æ—¥æœ—\"); } } é€šè¿‡è·å–ç±»çš„æ„é€ æ–¹æ³•ï¼ˆæ„é€ å™¨ï¼‰æ¥åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œä¼šæ›´åŠ åˆç†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨getConstructor()æ–¹æ³•æ¥è·å–ç±»çš„æ„é€ æ–¹æ³•ï¼ŒåŒæ—¶æˆ‘ä»¬éœ€è¦å‘å…¶ä¸­å¡«å…¥å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ„é€ æ–¹æ³•éœ€è¦çš„ç±»å‹ï¼Œå½“ç„¶æˆ‘ä»¬è¿™é‡Œåªæ¼”ç¤ºäº†ã€‚é‚£ä¹ˆï¼Œå½“è®¿é—®æƒé™ä¸æ˜¯publicçš„æ—¶å€™å‘¢ï¼Ÿ public static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException { Class\u003cStudent\u003e clazz = Student.class; Student student = clazz.getConstructor(String.class).newInstance(\"what's up\"); student.test(); } static class Student{ private Student(String str){} public void test(){ System.out.println(\"è¨æ—¥æœ—\"); } } æˆ‘ä»¬å‘ç°ï¼Œå½“è®¿é—®æƒé™ä¸è¶³æ—¶ï¼Œä¼šæ— æ³•æ‰¾åˆ°æ­¤æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°épublicçš„æ„é€ æ–¹æ³•å‘¢ï¼Ÿ Class\u003cStudent\u003e clazz = Student.class; Constructor\u003cStudent\u003e constructor = clazz.getDeclaredConstructor(String.class); constructor.setAccessible(true); //ä¿®æ”¹è®¿é—®æƒé™ Student student = constructor.newInstance(\"what's up\"); student.test(); ä½¿ç”¨getDeclaredConstructor()æ–¹æ³•å¯ä»¥æ‰¾åˆ°ç±»ä¸­çš„épublicæ„é€ æ–¹æ³•ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆä¿®æ”¹è®¿é—®æƒé™ï¼Œåœ¨ä¿®æ”¹è®¿é—®æƒé™ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨épublicæ–¹æ³•äº†ï¼ˆè¿™æ„å‘³ç€ï¼Œåå°„å¯ä»¥æ— è§†æƒé™ä¿®é¥°ç¬¦è®¿é—®ç±»çš„å†…å®¹ï¼‰ ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:3:0","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"è°ƒç”¨ç±»çš„æ–¹æ³• æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æ¥è°ƒç”¨ç±»çš„æ–¹æ³•ï¼ˆæœ¬è´¨ä¸Šè¿˜æ˜¯ç±»çš„å®ä¾‹è¿›è¡Œè°ƒç”¨ï¼‰åªæ˜¯åˆ©ç”¨åå°„æœºåˆ¶å®ç°äº†æ–¹æ³•çš„è°ƒç”¨ï¼Œæˆ‘ä»¬åœ¨åŒ…ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼š package com.test; public class Student { public void test(String str){ System.out.println(\"è¨æ—¥æœ—\"+str); } } è¿™æ¬¡æˆ‘ä»¬é€šè¿‡forName(String)æ¥æ‰¾åˆ°è¿™ä¸ªç±»å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼š public static void main(String[] args) throws ReflectiveOperationException { Class\u003c?\u003e clazz = Class.forName(\"com.test.Student\"); Object instance = clazz.newInstance(); //åˆ›å»ºå‡ºå­¦ç”Ÿå¯¹è±¡ Method method = clazz.getMethod(\"test\", String.class); //é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³• method.invoke(instance, \"what's up\"); //é€šè¿‡Methodå¯¹è±¡çš„invokeæ–¹æ³•æ¥è°ƒç”¨æ–¹æ³• } é€šè¿‡è°ƒç”¨getMethod()æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°ç±»ä¸­æ‰€æœ‰å£°æ˜ä¸ºpublicçš„æ–¹æ³•ï¼Œå¾—åˆ°ä¸€ä¸ªMethodå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Methodå¯¹è±¡çš„invoke()æ–¹æ³•ï¼ˆè¿”å›å€¼å°±æ˜¯æ–¹æ³•çš„è¿”å›å€¼ï¼Œå› ä¸ºè¿™é‡Œæ˜¯voidï¼Œè¿”å›å€¼ä¸ºnullï¼‰æ¥è°ƒç”¨å·²ç»è·å–åˆ°çš„æ–¹æ³•ï¼Œæ³¨æ„ä¼ å‚ã€‚ æˆ‘ä»¬å‘ç°ï¼Œåˆ©ç”¨åå°„ä¹‹åï¼Œåœ¨ä¸€ä¸ªå¯¹è±¡ä»æ„é€ åˆ°æ–¹æ³•è°ƒç”¨ï¼Œæ²¡æœ‰ä»»ä½•ä¸€å¤„éœ€è¦å¼•ç”¨åˆ°å¯¹è±¡çš„å®é™…ç±»å‹ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¯¼å…¥Studentç±»ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯åå°„åœ¨ä»£æ›¿è¿›è¡Œæ“ä½œï¼Œä½¿å¾—æ•´ä¸ªè¿‡ç¨‹è¢«æ¨¡ç³Šäº†ï¼Œè¿‡å¤šçš„ä½¿ç”¨åå°„ï¼Œä¼šæå¤§åœ°é™ä½åæœŸç»´æŠ¤æ€§ã€‚ åŒæ„é€ æ–¹æ³•ä¸€æ ·ï¼Œå½“å‡ºç°épublicæ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æ¥æ— è§†æƒé™ä¿®é¥°ç¬¦ï¼Œè·å–épublicæ–¹æ³•å¹¶è°ƒç”¨ï¼Œç°åœ¨æˆ‘ä»¬å°†test()æ–¹æ³•çš„æƒé™ä¿®é¥°ç¬¦æ”¹ä¸ºprivateï¼š public static void main(String[] args) throws ReflectiveOperationException { Class\u003c?\u003e clazz = Class.forName(\"com.test.Student\"); Object instance = clazz.newInstance(); //åˆ›å»ºå‡ºå­¦ç”Ÿå¯¹è±¡ Method method = clazz.getDeclaredMethod(\"test\", String.class); //é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³• method.setAccessible(true); method.invoke(instance, \"what's up\"); //é€šè¿‡Methodå¯¹è±¡çš„invokeæ–¹æ³•æ¥è°ƒç”¨æ–¹æ³• } Methodå’ŒConstructoréƒ½å’ŒClassä¸€æ ·ï¼Œä»–ä»¬å­˜å‚¨äº†æ–¹æ³•çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–¹æ³•çš„å½¢å¼å‚æ•°åˆ—è¡¨ï¼Œè¿”å›å€¼ï¼Œæ–¹æ³•çš„åç§°ç­‰å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡Methodå¯¹è±¡æ¥è·å–è¿™äº›ä¿¡æ¯ï¼š public static void main(String[] args) throws ReflectiveOperationException { Class\u003c?\u003e clazz = Class.forName(\"com.test.Student\"); Method method = clazz.getDeclaredMethod(\"test\", String.class); //é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³• System.out.println(method.getName()); //è·å–æ–¹æ³•åç§° System.out.println(method.getReturnType()); //è·å–è¿”å›å€¼ç±»å‹ } å½“æ–¹æ³•çš„å‚æ•°ä¸ºå¯å˜å‚æ•°æ—¶ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è·å–æ–¹æ³•å‘¢ï¼Ÿå®é™…ä¸Šï¼Œæˆ‘ä»¬åœ¨ä¹‹å‰å°±å·²ç»æåˆ°è¿‡ï¼Œå¯å˜å‚æ•°å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨æ•°ç»„çš„classå¯¹è±¡è¡¨ç¤ºï¼š Method method = clazz.getDeclaredMethod(\"test\", String[].class); åå°„éå¸¸å¼ºå¤§ï¼Œå°¤å…¶æ˜¯æˆ‘ä»¬æåˆ°çš„è¶Šæƒè®¿é—®ï¼Œä½†æ˜¯è¯·ä¸€å®šè°¨æ…ä½¿ç”¨ï¼Œåˆ«äººå°†æŸä¸ªæ–¹æ³•è®¾ç½®ä¸ºprivateä¸€å®šæœ‰ä»–çš„ç†ç”±ï¼Œå¦‚æœå®åœ¨æ˜¯éœ€è¦ä½¿ç”¨åˆ«äººå®šä¹‰ä¸ºprivateçš„æ–¹æ³•ï¼Œå°±å¿…é¡»ç¡®ä¿è¿™æ ·åšæ˜¯å®‰å…¨çš„ï¼Œåœ¨æ²¡æœ‰äº†è§£åˆ«äººä»£ç çš„æ•´ä¸ªè¿‡ç¨‹å°±å¼ºè¡Œè¶Šæƒè®¿é—®ï¼Œå¯èƒ½ä¼šå‡ºç°æ— æ³•é¢„çŸ¥çš„é”™è¯¯ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:4:0","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"ä¿®æ”¹ç±»çš„å±æ€§ æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åå°„è®¿é—®ä¸€ä¸ªç±»ä¸­å®šä¹‰çš„æˆå‘˜å­—æ®µä¹Ÿå¯ä»¥ä¿®æ”¹ä¸€ä¸ªç±»çš„å¯¹è±¡ä¸­çš„æˆå‘˜å­—æ®µå€¼ï¼Œé€šè¿‡getField()æ–¹æ³•æ¥è·å–ä¸€ä¸ªç±»å®šä¹‰çš„æŒ‡å®šå­—æ®µï¼š public static void main(String[] args) throws ReflectiveOperationException { Class\u003c?\u003e clazz = Class.forName(\"com.test.Student\"); Object instance = clazz.newInstance(); Field field = clazz.getField(\"i\"); //è·å–ç±»çš„æˆå‘˜å­—æ®µi field.set(instance, 100); //å°†ç±»å®ä¾‹instanceçš„æˆå‘˜å­—æ®µiè®¾ç½®ä¸º100 Method method = clazz.getMethod(\"test\"); method.invoke(instance); } åœ¨å¾—åˆ°Fieldä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥é€šè¿‡set()æ–¹æ³•ä¸ºæŸä¸ªå¯¹è±¡ï¼Œè®¾å®šæ­¤å±æ€§çš„å€¼ï¼Œæ¯”å¦‚ä¸Šé¢ï¼Œæˆ‘ä»¬å°±ä¸ºinstanceå¯¹è±¡è®¾å®šå€¼ä¸º100ï¼Œå½“è®¿é—®privateå­—æ®µæ—¶ï¼ŒåŒæ ·å¯ä»¥æŒ‰ç…§ä¸Šé¢çš„æ“ä½œè¿›è¡Œè¶Šæƒè®¿é—®ï¼š public static void main(String[] args) throws ReflectiveOperationException { Class\u003c?\u003e clazz = Class.forName(\"com.test.Student\"); Object instance = clazz.newInstance(); Field field = clazz.getDeclaredField(\"i\"); //è·å–ç±»çš„æˆå‘˜å­—æ®µi field.setAccessible(true); field.set(instance, 100); //å°†ç±»å®ä¾‹instanceçš„æˆå‘˜å­—æ®µiè®¾ç½®ä¸º100 Method method = clazz.getMethod(\"test\"); method.invoke(instance); } ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œåå°„å‡ ä¹å¯ä»¥æŠŠä¸€ä¸ªç±»çš„è€åº•éƒ½ç»™æ‰’å‡ºæ¥ï¼Œä»»ä½•å±æ€§ï¼Œä»»ä½•å†…å®¹ï¼Œéƒ½å¯ä»¥è¢«åå°„ä¿®æ”¹ï¼Œæ— è®ºæƒé™ä¿®é¥°ç¬¦æ˜¯ä»€ä¹ˆï¼Œé‚£ä¹ˆï¼Œå¦‚æœæˆ‘çš„å­—æ®µè¢«æ ‡è®°ä¸ºfinalå‘¢ï¼Ÿç°åœ¨åœ¨å­—æ®µiå‰é¢æ·»åŠ finalå…³é”®å­—ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹æ•ˆæœï¼š private final int i = 10; è¿™æ—¶ï¼Œå½“å­—æ®µä¸ºfinalæ—¶ï¼Œå°±ä¿®æ”¹å¤±è´¥äº†ï¼å½“ç„¶ï¼Œé€šè¿‡åå°„å¯ä»¥ç›´æ¥å°†finalä¿®é¥°ç¬¦ç›´æ¥å»é™¤ï¼Œå»é™¤åï¼Œå°±å¯ä»¥éšæ„ä¿®æ”¹å†…å®¹äº†ï¼Œæˆ‘ä»¬æ¥å°è¯•ä¿®æ”¹Integerçš„valueå€¼ï¼š public static void main(String[] args) throws ReflectiveOperationException { Integer i = 10; Field field = Integer.class.getDeclaredField(\"value\"); Field modifiersField = Field.class.getDeclaredField(\"modifiers\"); //è¿™é‡Œè¦è·å–Fieldç±»çš„modifierså­—æ®µè¿›è¡Œä¿®æ”¹ modifiersField.setAccessible(true); modifiersField.setInt(field,field.getModifiers()\u0026~Modifier.FINAL); //å»é™¤finalæ ‡è®° field.setAccessible(true); field.set(i, 100); //å¼ºè¡Œè®¾ç½®å€¼ System.out.println(i); } æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåå°„éå¸¸æš´åŠ›ï¼Œå°±è¿è¢«å®šä¹‰ä¸ºfinalå­—æ®µçš„å€¼éƒ½èƒ½å¼ºè¡Œä¿®æ”¹ï¼Œå‡ ä¹èƒ½å¤Ÿæ— è§†ä¸€åˆ‡é˜»æ‹¦ã€‚æˆ‘ä»¬æ¥è¯•è¯•çœ‹ä¿®æ”¹ä¸€äº›å…¶ä»–çš„ç±»å‹ï¼š public static void main(String[] args) throws ReflectiveOperationException { List\u003cString\u003e i = new ArrayList\u003c\u003e(); Field field = ArrayList.class.getDeclaredField(\"size\"); field.setAccessible(true); field.set(i, 10); i.add(\"æµ‹è¯•\"); //åªæ·»åŠ ä¸€ä¸ªå…ƒç´  System.out.println(i.size()); //å¤§å°ç›´æ¥å˜æˆ11 i.remove(10); //çç§»é™¤éƒ½ä¸å¸¦æŠ¥é”™çš„ï¼Œæ·¦ } å®é™…ä¸Šï¼Œæ•´ä¸ªArrayListä½“ç³»ç”±äºæˆ‘ä»¬çš„åå°„æ“ä½œï¼Œå¯¼è‡´è¢«ç ´åï¼Œå› æ­¤å®ƒå·²ç»æ— æ³•æ­£å¸¸å·¥ä½œäº†ï¼ å†æ¬¡å¼ºè°ƒï¼Œåœ¨è¿›è¡Œåå°„æ“ä½œæ—¶ï¼Œå¿…é¡»æ³¨æ„æ˜¯å¦å®‰å…¨ï¼Œè™½ç„¶æ‹¥æœ‰äº†åˆ›ä¸–ä¸»çš„èƒ½åŠ›ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½æ»¥ç”¨ï¼Œæˆ‘ä»¬åªèƒ½æŠŠå®ƒå½“åšä¸€ä¸ªä¸å¾—å·²æ‰å»ä½¿ç”¨çš„å·¥å…·ï¼ ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:5:0","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"è‡ªå®šä¹‰ClassLoaderåŠ è½½ç±» æˆ‘ä»¬å¯ä»¥è‡ªå·±æ‰‹åŠ¨å°†classæ–‡ä»¶åŠ è½½åˆ°JVMä¸­å—ï¼Ÿå…ˆå†™å¥½æˆ‘ä»¬å®šä¹‰çš„ç±»ï¼š package com.test; public class Test { public String text; public void test(String str){ System.out.println(text+\" \u003e æˆ‘æ˜¯æµ‹è¯•æ–¹æ³•ï¼\"+str); } } é€šè¿‡javacå‘½ä»¤ï¼Œæ‰‹åŠ¨ç¼–è¯‘ä¸€ä¸ª.classæ–‡ä»¶ï¼š nagocoler@NagodeMacBook-Pro HelloWorld % javac src/main/java/com/test/Test.java ç¼–è¯‘åï¼Œå¾—åˆ°ä¸€ä¸ªclassæ–‡ä»¶ï¼Œæˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°æ ¹ç›®å½•ä¸‹ï¼Œç„¶åç¼–å†™ä¸€ä¸ªæˆ‘ä»¬è‡ªå·±çš„ClassLoaderï¼Œå› ä¸ºæ™®é€šçš„ClassLoaderæ— æ³•åŠ è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„æ¥è®©å®ƒæ”¯æŒï¼š //å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„ClassLoader static class MyClassLoader extends ClassLoader{ public Class\u003c?\u003e defineClass(String name, byte[] b){ return defineClass(name, b, 0, b.length); //è°ƒç”¨protectedæ–¹æ³•ï¼Œæ”¯æŒè½½å…¥å¤–éƒ¨classæ–‡ä»¶ } } public static void main(String[] args) throws IOException { MyClassLoader classLoader = new MyClassLoader(); FileInputStream stream = new FileInputStream(\"Test.class\"); byte[] bytes = new byte[stream.available()]; stream.read(bytes); Class\u003c?\u003e clazz = classLoader.defineClass(\"com.test.Test\", bytes); //ç±»åå¿…é¡»å’Œæˆ‘ä»¬å®šä¹‰çš„ä¿æŒä¸€è‡´ System.out.println(clazz.getName()); //æˆåŠŸåŠ è½½å¤–éƒ¨classæ–‡ä»¶ } ç°åœ¨ï¼Œæˆ‘ä»¬å°±å°†æ­¤classæ–‡ä»¶è¯»å–å¹¶è§£æä¸ºClassäº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å¯¹æ­¤ç±»è¿›è¡Œæ“ä½œäº†ï¼ˆæ³¨æ„ï¼Œæˆ‘ä»¬æ— æ³•åœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨æ­¤ç±»å‹ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘ä»¬ç›´æ¥åŠ è½½çš„ï¼‰ï¼Œæˆ‘ä»¬æ¥è¯•è¯•çœ‹åˆ›å»ºä¸€ä¸ªæ­¤ç±»çš„å¯¹è±¡å¹¶è°ƒç”¨å…¶æ–¹æ³•ï¼š try { Object obj = clazz.newInstance(); Method method = clazz.getMethod(\"test\", String.class); //è·å–æˆ‘ä»¬å®šä¹‰çš„test(String str)æ–¹æ³• method.invoke(obj, \"å“¥ä»¬è¿™ç“œå¤šå°‘é’±ä¸€æ–¤ï¼Ÿ\"); }catch (Exception e){ e.printStackTrace(); } æˆ‘ä»¬æ¥è¯•è¯•çœ‹ä¿®æ”¹æˆå‘˜å­—æ®µä¹‹åï¼Œå†æ¥è°ƒç”¨æ­¤æ–¹æ³•ï¼š try { Object obj = clazz.newInstance(); Field field = clazz.getField(\"text\"); //è·å–æˆå‘˜å˜é‡ String text; field.set(obj, \"åå¼º\"); Method method = clazz.getMethod(\"test\", String.class); //è·å–æˆ‘ä»¬å®šä¹‰çš„test(String str)æ–¹æ³• method.invoke(obj, \"å“¥ä»¬è¿™ç“œå¤šå°‘é’±ä¸€æ–¤ï¼Ÿ\"); }catch (Exception e){ e.printStackTrace(); } é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°å¤–éƒ¨åŠ è½½ç”šè‡³æ˜¯ç½‘ç»œåŠ è½½ä¸€ä¸ªç±»ï¼Œåªéœ€è¦æŠŠç±»æ–‡ä»¶ä¼ é€’å³å¯ï¼Œè¿™æ ·å°±æ— éœ€å†å°†ä»£ç å†™åœ¨æœ¬åœ°ï¼Œè€Œæ˜¯åŠ¨æ€è¿›è¡Œä¼ é€’ï¼Œä¸ä»…å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢æºä»£ç è¢«åç¼–è¯‘ï¼ˆåªæ˜¯ä¸€å®šç¨‹åº¦ä¸Šï¼Œæƒ³ç ´è§£ä½ ä»£ç æœ‰çš„æ˜¯æ–¹æ³•ï¼‰ï¼Œè€Œä¸”åœ¨æ›´å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹byte[]è¿›è¡ŒåŠ å¯†ï¼Œä¿è¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:6:0","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"æ³¨è§£ å…¶å®æˆ‘ä»¬åœ¨ä¹‹å‰å°±æ¥è§¦åˆ°æ³¨è§£äº†ï¼Œæ¯”å¦‚@Overrideè¡¨ç¤ºé‡å†™çˆ¶ç±»æ–¹æ³•ï¼ˆå½“ç„¶ä¸åŠ æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ­¤æ³¨è§£åœ¨ç¼–è¯‘æ—¶ä¼šè¢«è‡ªåŠ¨ä¸¢å¼ƒï¼‰æ³¨è§£æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œåªä¸è¿‡å®ƒçš„ç”¨æ³•æ¯”è¾ƒç‰¹æ®Šã€‚ æ³¨è§£å¯ä»¥è¢«æ ‡æ³¨åœ¨ä»»æ„åœ°æ–¹ï¼ŒåŒ…æ‹¬æ–¹æ³•ä¸Šã€ç±»åä¸Šã€å‚æ•°ä¸Šã€æˆå‘˜å±æ€§ä¸Šã€æ³¨è§£å®šä¹‰ä¸Šç­‰ï¼Œå°±åƒæ³¨é‡Šä¸€æ ·ï¼Œå®ƒç›¸å½“äºæˆ‘ä»¬å¯¹æŸæ ·ä¸œè¥¿çš„ä¸€ä¸ªæ ‡è®°ã€‚è€Œä¸æ³¨é‡Šä¸åŒçš„æ˜¯ï¼Œæ³¨è§£å¯ä»¥é€šè¿‡åå°„åœ¨è¿è¡Œæ—¶è·å–ï¼Œæ³¨è§£ä¹Ÿå¯ä»¥é€‰æ‹©æ˜¯å¦ä¿ç•™åˆ°è¿è¡Œæ—¶ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:7:0","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"é¢„è®¾æ³¨è§£ JDKé¢„è®¾äº†ä»¥ä¸‹æ³¨è§£ï¼Œä½œç”¨äºä»£ç ï¼š @Override - æ£€æŸ¥ï¼ˆä»…ä»…æ˜¯æ£€æŸ¥ï¼Œä¸ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼‰è¯¥æ–¹æ³•æ˜¯å¦æ˜¯é‡å†™æ–¹æ³•ã€‚å¦‚æœå‘ç°å…¶çˆ¶ç±»ï¼Œæˆ–è€…æ˜¯å¼•ç”¨çš„æ¥å£ä¸­å¹¶æ²¡æœ‰è¯¥æ–¹æ³•æ—¶ï¼Œä¼šæŠ¥ç¼–è¯‘é”™è¯¯ã€‚ @Deprecated - æ ‡è®°è¿‡æ—¶æ–¹æ³•ã€‚å¦‚æœä½¿ç”¨è¯¥æ–¹æ³•ï¼Œä¼šæŠ¥ç¼–è¯‘è­¦å‘Šã€‚ @SuppressWarnings - æŒ‡ç¤ºç¼–è¯‘å™¨å»å¿½ç•¥æ³¨è§£ä¸­å£°æ˜çš„è­¦å‘Šï¼ˆä»…ä»…ç¼–è¯‘å™¨é˜¶æ®µï¼Œä¸ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼‰ @FunctionalInterface - Java 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†ä¸€ä¸ªåŒ¿åå‡½æ•°æˆ–å‡½æ•°å¼æ¥å£ã€‚ @SafeVarargs - Java 7 å¼€å§‹æ”¯æŒï¼Œå¿½ç•¥ä»»ä½•ä½¿ç”¨å‚æ•°ä¸ºæ³›å‹å˜é‡çš„æ–¹æ³•æˆ–æ„é€ å‡½æ•°è°ƒç”¨äº§ç”Ÿçš„è­¦å‘Šã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:7:1","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"å…ƒæ³¨è§£ å…ƒæ³¨è§£æ˜¯ä½œç”¨äºæ³¨è§£ä¸Šçš„æ³¨è§£ï¼Œç”¨äºæˆ‘ä»¬ç¼–å†™è‡ªå®šä¹‰çš„æ³¨è§£ï¼š @Retention - æ ‡è¯†è¿™ä¸ªæ³¨è§£æ€ä¹ˆä¿å­˜ï¼Œæ˜¯åªåœ¨ä»£ç ä¸­ï¼Œè¿˜æ˜¯ç¼–å…¥classæ–‡ä»¶ä¸­ï¼Œæˆ–è€…æ˜¯åœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡åå°„è®¿é—®ã€‚ @Documented - æ ‡è®°è¿™äº›æ³¨è§£æ˜¯å¦åŒ…å«åœ¨ç”¨æˆ·æ–‡æ¡£ä¸­ã€‚ @Target - æ ‡è®°è¿™ä¸ªæ³¨è§£åº”è¯¥æ˜¯å“ªç§ Java æˆå‘˜ã€‚ @Inherited - æ ‡è®°è¿™ä¸ªæ³¨è§£æ˜¯ç»§æ‰¿äºå“ªä¸ªæ³¨è§£ç±»(é»˜è®¤ æ³¨è§£å¹¶æ²¡æœ‰ç»§æ‰¿äºä»»ä½•å­ç±») @Repeatable - Java 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†æŸæ³¨è§£å¯ä»¥åœ¨åŒä¸€ä¸ªå£°æ˜ä¸Šä½¿ç”¨å¤šæ¬¡ã€‚ çœ‹äº†è¿™ä¹ˆå¤šé¢„è®¾çš„æ³¨è§£ï¼Œä½ ä»¬è‚¯å®šçœ¼èŠ±ç¼­ä¹±äº†ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹@Overrideæ˜¯å¦‚ä½•å®šä¹‰çš„ï¼š @Target(ElementType.METHOD) @Retention(RetentionPolicy.SOURCE) public @interface Override { } è¯¥æ³¨è§£ç”±@Targeté™å®šä¸ºåªèƒ½ä½œç”¨äºæ–¹æ³•ä¸Šï¼ŒElementTypeæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæ­¤æšä¸¾çš„ä½œç”¨åŸŸï¼Œä¸€ä¸ªæ³¨è§£å¯ä»¥æœ‰å¾ˆå¤šä¸ªä½œç”¨åŸŸã€‚@Retentionè¡¨ç¤ºæ­¤æ³¨è§£çš„ä¿ç•™ç­–ç•¥ï¼ŒåŒ…æ‹¬ä¸‰ç§ç­–ç•¥ï¼Œåœ¨ä¸Šè¿°ä¸­æœ‰å†™åˆ°ï¼Œè€Œè¿™é‡Œå®šä¹‰ä¸ºåªåœ¨ä»£ç ä¸­ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰çš„æ³¨è§£éœ€è¦å®šä¹‰1ä¸ª@Retentionå’Œ1-nä¸ª@Targetã€‚ æ—¢ç„¶äº†è§£äº†å…ƒæ³¨è§£çš„ä½¿ç”¨å’Œæ³¨è§£çš„å®šä¹‰æ–¹å¼ï¼Œæˆ‘ä»¬å°±æ¥å°è¯•å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„æ³¨è§£ï¼š @Target(ElementType.METHOD) @Retention(RetentionPolicy.RUNTIME) public @interface Test { } è¿™é‡Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªTestæ³¨è§£ï¼Œå¹¶å°†å…¶ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼ŒåŒæ—¶æ­¤æ³¨è§£å¯ä»¥ä½œç”¨äºæ–¹æ³•æˆ–æ˜¯ç±»ä¸Šï¼š @Test public class Main { @Test public static void main(String[] args) { } } è¿™æ ·ï¼Œä¸€ä¸ªæœ€ç®€å•çš„æ³¨è§£å°±è¢«æˆ‘ä»¬åˆ›å»ºäº†ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:7:2","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"æ³¨è§£çš„ä½¿ç”¨ æˆ‘ä»¬è¿˜å¯ä»¥åœ¨æ³¨è§£ä¸­å®šä¹‰ä¸€äº›å±æ€§ï¼Œæ³¨è§£çš„å±æ€§ä¹Ÿå«åšæˆå‘˜å˜é‡ï¼Œæ³¨è§£åªæœ‰æˆå‘˜å˜é‡ï¼Œæ²¡æœ‰æ–¹æ³•ã€‚æ³¨è§£çš„æˆå‘˜å˜é‡åœ¨æ³¨è§£çš„å®šä¹‰ä¸­ä»¥â€œæ— å½¢å‚çš„æ–¹æ³•â€å½¢å¼æ¥å£°æ˜ï¼Œå…¶æ–¹æ³•åå®šä¹‰äº†è¯¥æˆå‘˜å˜é‡çš„åå­—ï¼Œå…¶è¿”å›å€¼å®šä¹‰äº†è¯¥æˆå‘˜å˜é‡çš„ç±»å‹ï¼š @Target({ElementType.METHOD, ElementType.TYPE}) @Retention(RetentionPolicy.RUNTIME) public @interface Test { String value(); } é»˜è®¤åªæœ‰ä¸€ä¸ªå±æ€§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åå­—è®¾å®šä¸ºvalueï¼Œå¦åˆ™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨æ—¶æ‰‹åŠ¨æŒ‡å®šæ³¨è§£çš„å±æ€§åç§°ï¼Œä½¿ç”¨valueåˆ™æ— éœ€å¡«å…¥ï¼š @Target({ElementType.METHOD, ElementType.TYPE}) @Retention(RetentionPolicy.RUNTIME) public @interface Test { String test(); } public class Main { @Test(test = \"\") public static void main(String[] args) { } } æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨defaultå…³é”®å­—æ¥ä¸ºè¿™äº›å±æ€§æŒ‡å®šé»˜è®¤å€¼ï¼š @Target({ElementType.METHOD, ElementType.TYPE}) @Retention(RetentionPolicy.RUNTIME) public @interface Test { String value() default \"éƒ½çœ‹åˆ°è¿™é‡Œäº†ï¼Œç»™ä¸ªä¸‰è¿å§ï¼\"; } å½“å±æ€§å­˜åœ¨é»˜è®¤å€¼æ—¶ï¼Œä½¿ç”¨æ³¨è§£çš„æ—¶å€™å¯ä»¥ä¸ç”¨ä¼ å…¥å±æ€§å€¼ã€‚å½“å±æ€§ä¸ºæ•°ç»„æ—¶å‘¢ï¼Ÿ @Target({ElementType.METHOD, ElementType.TYPE}) @Retention(RetentionPolicy.RUNTIME) public @interface Test { String[] value(); } å½“å±æ€§ä¸ºæ•°ç»„ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ³¨è§£ä¼ å‚æ—¶ï¼Œå¦‚æœæ•°ç»„é‡Œé¢åªæœ‰ä¸€ä¸ªå†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼š @Test(\"å…³æ³¨ç‚¹äº†å—\") public static void main(String[] args) { } public class Main { @Test({\"value1\", \"value2\"}) //å¤šä¸ªå€¼æ—¶å°±ä½¿ç”¨èŠ±æ‹¬å·æ‹¬èµ·æ¥ public static void main(String[] args) { } } ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:7:3","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"åå°„è·å–æ³¨è§£ æ—¢ç„¶æˆ‘ä»¬çš„æ³¨è§£å¯ä»¥ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚ä½•è·å–æˆ‘ä»¬ç¼–å†™çš„æ³¨è§£ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°åå°„æœºåˆ¶ï¼š public static void main(String[] args) { Class\u003cStudent\u003e clazz = Student.class; for (Annotation annotation : clazz.getAnnotations()) { System.out.println(annotation.annotationType()); //è·å–ç±»å‹ System.out.println(annotation instanceof Test); //ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºTest Test test = (Test) annotation; System.out.println(test.value()); //è·å–æˆ‘ä»¬åœ¨æ³¨è§£ä¸­å†™å…¥çš„å†…å®¹ } } é€šè¿‡åå°„æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè·å–åˆ°æˆ‘ä»¬æ ‡è®°çš„æ³¨è§£ï¼ŒåŒæ—¶è¿˜èƒ½è·å–åˆ°æ³¨è§£ä¸­å¡«å…¥çš„å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œæ–¹æ³•ä¸Šçš„æ ‡è®°æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼è·å–æ³¨è§£ï¼š public static void main(String[] args) throws NoSuchMethodException { Class\u003cStudent\u003e clazz = Student.class; for (Annotation annotation : clazz.getMethod(\"test\").getAnnotations()) { System.out.println(annotation.annotationType()); //è·å–ç±»å‹ System.out.println(annotation instanceof Test); //ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºTest Test test = (Test) annotation; System.out.println(test.value()); //è·å–æˆ‘ä»¬åœ¨æ³¨è§£ä¸­å†™å…¥çš„å†…å®¹ } } æ— è®ºæ˜¯æ–¹æ³•ã€ç±»ã€è¿˜æ˜¯å­—æ®µï¼Œéƒ½å¯ä»¥ä½¿ç”¨getAnnotations()æ–¹æ³•ï¼ˆè¿˜æœ‰å‡ ä¸ªåŒåçš„ï¼‰æ¥å¿«é€Ÿè·å–æˆ‘ä»¬æ ‡è®°çš„æ³¨è§£ã€‚ æ‰€ä»¥è¯´å‘¢ï¼Œè¿™ç©æ„å­¦æ¥æœ‰å•¥ç”¨ï¼Ÿä¸æ¯«getä¸åˆ°è¿™ç©æ„çš„ç”¨å¤„ã€‚å…¶å®ä¸æ˜¯ï¼Œç°é˜¶æ®µä½ ä»¬è¿˜ä½“ä¼šä¸åˆ°æ³¨è§£å¸¦æ¥çš„å¿«ä¹ï¼Œåœ¨æ¥è§¦åˆ°Springå’ŒSpringBootç­‰å¤§å‹æ¡†æ¶åï¼Œå°±èƒ½æ„Ÿå—åˆ°æ³¨è§£å¸¦æ¥çš„é­…åŠ›äº†ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/:7:4","tags":["Javaåå°„ä¸æ³¨è§£"],"title":"Javaåå°„ä¸æ³¨è§£","uri":"/posts/java%E5%8F%8D%E5%B0%84%E4%B8%8E%E6%B3%A8%E5%B0%84/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaå¤šçº¿ç¨‹","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaå¤šçº¿ç¨‹ é…å¥—è§†é¢‘ **æ³¨æ„ï¼š**æœ¬ç« èŠ‚ä¼šæ¶‰åŠåˆ° æ“ä½œç³»ç»Ÿ ç›¸å…³çŸ¥è¯†ã€‚ åœ¨äº†è§£å¤šçº¿ç¨‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æ“ä½œç³»ç»Ÿä¸­æåˆ°çš„è¿›ç¨‹æ¦‚å¿µï¼š è¿›ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œçš„å®ä½“ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ˆæ¯”å¦‚æˆ‘ä»¬è¿è¡ŒQQã€æµè§ˆå™¨ã€LOLã€ç½‘æ˜“äº‘éŸ³ä¹ç­‰è½¯ä»¶ï¼‰ï¼Œéƒ½æœ‰è‡ªå·±çš„å†…å­˜ç©ºé—´ï¼ŒCPUä¸€ä¸ªæ ¸å¿ƒåŒæ—¶åªèƒ½å¤„ç†ä¸€ä»¶äº‹æƒ…ï¼Œå½“å‡ºç°å¤šä¸ªè¿›ç¨‹éœ€è¦åŒæ—¶è¿è¡Œæ—¶ï¼ŒCPUä¸€èˆ¬é€šè¿‡æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ï¼Œæ¥å®ç°å¤šä¸ªè¿›ç¨‹çš„åŒæ—¶è¿è¡Œã€‚ åœ¨æ—©æœŸçš„è®¡ç®—æœºä¸­ï¼Œè¿›ç¨‹æ˜¯æ‹¥æœ‰èµ„æºå’Œç‹¬ç«‹è¿è¡Œçš„æœ€å°å•ä½ï¼Œä¹Ÿæ˜¯ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘å¸Œæœ›ä¸¤ä¸ªä»»åŠ¡åŒæ—¶è¿›è¡Œï¼Œå°±å¿…é¡»è¿è¡Œä¸¤ä¸ªè¿›ç¨‹ï¼Œç”±äºæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å°±å˜å¾—éå¸¸éº»çƒ¦ï¼ˆæ¯”å¦‚è¦å…±äº«æŸäº›æ•°æ®ï¼‰è€Œä¸”æ‰§è¡Œä¸åŒè¿›ç¨‹ä¼šäº§ç”Ÿä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œéå¸¸è€—æ—¶ï¼Œé‚£ä¹ˆèƒ½å¦å®ç°åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­å°±èƒ½å¤Ÿæ‰§è¡Œå¤šä¸ªä»»åŠ¡å‘¢ï¼Ÿ åæ¥ï¼Œçº¿ç¨‹æ¨ªç©ºå‡ºä¸–ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œä¸­ä¸€ä¸ªå•ä¸€çš„é¡ºåºæ§åˆ¶æµç¨‹ï¼Œç°åœ¨çº¿ç¨‹æ‰æ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å†…å­˜ç©ºé—´ï¼ˆä¹Ÿå°±æ˜¯æ‰€åœ¨è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼‰ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢é€Ÿåº¦ä¹Ÿé«˜äºè¿›ç¨‹ã€‚ åœ¨Javaä¸­ï¼Œæˆ‘ä»¬ä»å¼€å§‹ï¼Œä¸€ç›´ä»¥æ¥ç¼–å†™çš„éƒ½æ˜¯å•çº¿ç¨‹åº”ç”¨ç¨‹åºï¼ˆè¿è¡Œmain()æ–¹æ³•çš„å†…å®¹ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´åªèƒ½åŒæ—¶æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼ˆæ— è®ºä½ æ˜¯è°ƒç”¨æ–¹æ³•ã€è¿˜æ˜¯è¿›è¡Œè®¡ç®—ï¼Œå§‹ç»ˆéƒ½æ˜¯ä¾æ¬¡è¿›è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯åŒæ­¥çš„ï¼‰ï¼Œè€Œå¦‚æœæˆ‘ä»¬å¸Œæœ›åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼ˆä¸¤ä¸ªæ–¹æ³•åŒæ—¶åœ¨è¿è¡Œæˆ–è€…æ˜¯ä¸¤ä¸ªè®¡ç®—åŒæ—¶åœ¨è¿›è¡Œï¼Œä¹Ÿå°±æ˜¯å¼‚æ­¥çš„ï¼‰ï¼Œå°±éœ€è¦ç”¨åˆ°Javaå¤šçº¿ç¨‹æ¡†æ¶ã€‚å®é™…ä¸Šä¸€ä¸ªJavaç¨‹åºå¯åŠ¨åï¼Œä¼šåˆ›å»ºå¾ˆå¤šçº¿ç¨‹ï¼Œä¸ä»…ä»…åªè¿è¡Œä¸€ä¸ªä¸»çº¿ç¨‹ï¼š public static void main(String[] args) { ThreadMXBean bean = ManagementFactory.getThreadMXBean(); long[] ids = bean.getAllThreadIds(); ThreadInfo[] infos = bean.getThreadInfo(ids); for (ThreadInfo info : infos) { System.out.println(info.getThreadName()); } } å…³äºé™¤äº†mainçº¿ç¨‹é»˜è®¤ä»¥å¤–çš„çº¿ç¨‹ï¼Œæ¶‰åŠåˆ°JVMç›¸å…³åº•å±‚åŸç†ï¼Œåœ¨è¿™é‡Œä¸åšè®²è§£ï¼Œäº†è§£å°±è¡Œã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:0:0","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"çº¿ç¨‹çš„åˆ›å»ºå’Œå¯åŠ¨ é€šè¿‡åˆ›å»ºThreadå¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼ŒThreadæ„é€ æ–¹æ³•ä¸­éœ€è¦ä¼ å…¥ä¸€ä¸ªRunnableæ¥å£çš„å®ç°ï¼ˆå…¶å®å°±æ˜¯ç¼–å†™è¦åœ¨å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œçš„å†…å®¹é€»è¾‘ï¼‰åŒæ—¶Runnableåªæœ‰ä¸€ä¸ªæœªå®ç°æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨lambdaè¡¨è¾¾å¼ï¼š @FunctionalInterface public interface Runnable { /** * When an object implementing interface \u003ccode\u003eRunnable\u003c/code\u003e is used * to create a thread, starting the thread causes the object's * \u003ccode\u003erun\u003c/code\u003e method to be called in that separately executing * thread. * \u003cp\u003e * The general contract of the method \u003ccode\u003erun\u003c/code\u003e is that it may * take any action whatsoever. * * @see java.lang.Thread#run() */ public abstract void run(); } åˆ›å»ºå¥½åï¼Œé€šè¿‡è°ƒç”¨start()æ–¹æ³•æ¥è¿è¡Œæ­¤çº¿ç¨‹ï¼š public static void main(String[] args) { Thread t = new Thread(() -\u003e { //ç›´æ¥ç¼–å†™é€»è¾‘ System.out.println(\"æˆ‘æ˜¯å¦ä¸€ä¸ªçº¿ç¨‹ï¼\"); }); t.start(); //è°ƒç”¨æ­¤æ–¹æ³•æ¥å¼€å§‹æ‰§è¡Œæ­¤çº¿ç¨‹ } å¯èƒ½ä¸Šé¢çš„ä¾‹å­çœ‹èµ·æ¥å’Œæ™®é€šçš„å•çº¿ç¨‹æ²¡ä¸¤æ ·ï¼Œé‚£æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸‹é¢è¿™æ®µä»£ç çš„è¿è¡Œç»“æœï¼š public static void main(String[] args) { Thread t = new Thread(() -\u003e { System.out.println(\"æˆ‘æ˜¯çº¿ç¨‹ï¼š\"+Thread.currentThread().getName()); System.out.println(\"æˆ‘æ­£åœ¨è®¡ç®— 0-10000 ä¹‹é—´æ‰€æœ‰æ•°çš„å’Œ...\"); int sum = 0; for (int i = 0; i \u003c= 10000; i++) { sum += i; } System.out.println(\"ç»“æœï¼š\"+sum); }); t.start(); System.out.println(\"æˆ‘æ˜¯ä¸»çº¿ç¨‹ï¼\"); } æˆ‘ä»¬å‘ç°ï¼Œè¿™æ®µä»£ç æ‰§è¡Œè¾“å‡ºç»“æœå¹¶ä¸æ˜¯æŒ‰ç…§ä»ä¸Šå¾€ä¸‹çš„é¡ºåºäº†ï¼Œå› ä¸ºä»–ä»¬åˆ†åˆ«ä½äºä¸¤ä¸ªçº¿ç¨‹ï¼Œä»–ä»¬æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼å¦‚æœä½ è¿˜æ˜¯è§‰å¾—å¾ˆç–‘æƒ‘ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹ä¸‹é¢çš„ä»£ç è¿è¡Œç»“æœï¼š public static void main(String[] args) { Thread t1 = new Thread(() -\u003e { for (int i = 0; i \u003c 50; i++) { System.out.println(\"æˆ‘æ˜¯ä¸€å·çº¿ç¨‹ï¼š\"+i); } }); Thread t2 = new Thread(() -\u003e { for (int i = 0; i \u003c 50; i++) { System.out.println(\"æˆ‘æ˜¯äºŒå·çº¿ç¨‹ï¼š\"+i); } }); t1.start(); t2.start(); } æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ‰“å°å®é™…ä¸Šæ˜¯åœ¨äº¤æ›¿è¿›è¡Œçš„ï¼Œä¹Ÿè¯æ˜äº†ä»–ä»¬æ˜¯åœ¨åŒæ—¶è¿è¡Œï¼ æ³¨æ„ï¼šæˆ‘ä»¬å‘ç°è¿˜æœ‰ä¸€ä¸ªrunæ–¹æ³•ï¼Œä¹Ÿèƒ½æ‰§è¡Œçº¿ç¨‹é‡Œé¢å®šä¹‰çš„å†…å®¹ï¼Œä½†æ˜¯runæ˜¯ç›´æ¥åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œï¼Œå¹¶ä¸æ˜¯åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼ å®é™…ä¸Šï¼Œçº¿ç¨‹å’Œè¿›ç¨‹å·®ä¸å¤šï¼Œä¹Ÿä¼šç­‰å¾…è·å–CPUèµ„æºï¼Œä¸€æ—¦è·å–åˆ°ï¼Œå°±å¼€å§‹æŒ‰é¡ºåºæ‰§è¡Œæˆ‘ä»¬ç»™å®šçš„ç¨‹åºï¼Œå½“éœ€è¦ç­‰å¾…å¤–éƒ¨IOæ“ä½œï¼ˆæ¯”å¦‚Scannerè·å–è¾“å…¥çš„æ–‡æœ¬ï¼‰ï¼Œå°±ä¼šæš‚æ—¶å¤„äºä¼‘çœ çŠ¶æ€ï¼Œç­‰å¾…é€šçŸ¥ï¼Œæˆ–æ˜¯è°ƒç”¨sleep()æ–¹æ³•æ¥è®©å½“å‰çº¿ç¨‹ä¼‘çœ ä¸€æ®µæ—¶é—´ï¼š public static void main(String[] args) throws InterruptedException { System.out.println(\"l\"); Thread.sleep(1000); //ä¼‘çœ æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œ1000ms = 1s System.out.println(\"b\"); Thread.sleep(1000); System.out.println(\"w\"); Thread.sleep(1000); System.out.println(\"nb!\"); } æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨stop()æ–¹æ³•æ¥å¼ºè¡Œç»ˆæ­¢æ­¤çº¿ç¨‹ï¼š public static void main(String[] args) throws InterruptedException { Thread t = new Thread(() -\u003e { Thread me = Thread.currentThread(); //è·å–å½“å‰çº¿ç¨‹å¯¹è±¡ for (int i = 0; i \u003c 50; i++) { System.out.println(\"æ‰“å°:\"+i); if(i == 20) me.stop(); //æ­¤æ–¹æ³•ä¼šç›´æ¥ç»ˆæ­¢æ­¤çº¿ç¨‹ } }); t.start(); } è™½ç„¶stop()æ–¹æ³•èƒ½å¤Ÿç»ˆæ­¢æ­¤çº¿ç¨‹ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æ¨èçš„åšæ³•ï¼Œæœ‰å…³çº¿ç¨‹ä¸­æ–­ç›¸å…³é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢ç»§ç»­äº†è§£ã€‚ æ€è€ƒï¼šçŒœçŒœä»¥ä¸‹ç¨‹åºè¾“å‡ºç»“æœï¼š private static int value = 0; public static void main(String[] args) throws InterruptedException { Thread t1 = new Thread(() -\u003e { for (int i = 0; i \u003c 10000; i++) value++; System.out.println(\"çº¿ç¨‹1å®Œæˆ\"); }); Thread t2 = new Thread(() -\u003e { for (int i = 0; i \u003c 10000; i++) value++; System.out.println(\"çº¿ç¨‹2å®Œæˆ\"); }); t1.start(); t2.start(); Thread.sleep(1000); //ä¸»çº¿ç¨‹åœæ­¢1ç§’ï¼Œä¿è¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆ System.out.println(value); } æˆ‘ä»¬å‘ç°ï¼Œvalueæœ€åçš„å€¼å¹¶ä¸æ˜¯æˆ‘ä»¬ç†æƒ³çš„ç»“æœï¼Œæœ‰å…³ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§é—®é¢˜ï¼Œåœ¨æˆ‘ä»¬å­¦ä¹ åˆ°çº¿ç¨‹é”çš„æ—¶å€™ï¼Œå†æ¥æ¢è®¨ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:1:0","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"çº¿ç¨‹çš„ä¼‘çœ å’Œä¸­æ–­ æˆ‘ä»¬å‰é¢æåˆ°ï¼Œä¸€ä¸ªçº¿ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€ä¸‹ï¼Œçº¿ç¨‹çš„ä¸‹ä¸€ä¸ªçŠ¶æ€ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š å½“CPUç»™äºˆçš„è¿è¡Œæ—¶é—´ç»“æŸæ—¶ï¼Œä¼šä»è¿è¡ŒçŠ¶æ€å›åˆ°å°±ç»ªï¼ˆå¯è¿è¡Œï¼‰çŠ¶æ€ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è·å¾—CPUèµ„æºã€‚ å½“çº¿ç¨‹è¿›å…¥ä¼‘çœ  / é˜»å¡(å¦‚ç­‰å¾…IOè¯·æ±‚) / æ‰‹åŠ¨è°ƒç”¨wait()æ–¹æ³•æ—¶ï¼Œä¼šä½¿å¾—çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå½“ç­‰å¾…çŠ¶æ€ç»“æŸåä¼šå›åˆ°å°±ç»ªçŠ¶æ€ã€‚ å½“çº¿ç¨‹å‡ºç°å¼‚å¸¸æˆ–é”™è¯¯ / è¢«stop() æ–¹æ³•å¼ºè¡Œåœæ­¢ / æ‰€æœ‰ä»£ç æ‰§è¡Œç»“æŸæ—¶ï¼Œä¼šä½¿å¾—çº¿ç¨‹çš„è¿è¡Œç»ˆæ­¢ã€‚ è€Œè¿™ä¸ªéƒ¨åˆ†æˆ‘ä»¬ç€é‡äº†è§£ä¸€ä¸‹çº¿ç¨‹çš„ä¼‘çœ å’Œä¸­æ–­ï¼Œé¦–å…ˆæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹å¦‚ä½•ä½¿å¾—çº¿ç¨‹è¿›å¦‚ä¼‘çœ çŠ¶æ€ï¼š public static void main(String[] args) { Thread t = new Thread(() -\u003e { try { System.out.println(\"l\"); Thread.sleep(1000); //sleepæ–¹æ³•æ˜¯Threadçš„é™æ€æ–¹æ³•ï¼Œå®ƒåªä½œç”¨äºå½“å‰çº¿ç¨‹ï¼ˆå®ƒçŸ¥é“å½“å‰çº¿ç¨‹æ˜¯å“ªä¸ªï¼‰ System.out.println(\"b\"); //è°ƒç”¨sleepåï¼Œçº¿ç¨‹ä¼šç›´æ¥è¿›å…¥åˆ°ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°æ—¶é—´ç»“æŸ } catch (InterruptedException e) { e.printStackTrace(); } }); t.start(); } é€šè¿‡è°ƒç”¨sleep()æ–¹æ³•æ¥å°†å½“å‰çº¿ç¨‹è¿›å…¥ä¼‘çœ ï¼Œä½¿å¾—çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ä¸€æ®µæ—¶é—´ã€‚æˆ‘ä»¬å‘ç°ï¼Œæ­¤æ–¹æ³•æ˜¾ç¤ºå£°æ˜äº†ä¼šæŠ›å‡ºä¸€ä¸ªInterruptedExceptionå¼‚å¸¸ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿå‘¢ï¼Ÿ public static void main(String[] args) { Thread t = new Thread(() -\u003e { try { Thread.sleep(10000); //ä¼‘çœ 10ç§’ } catch (InterruptedException e) { e.printStackTrace(); } }); t.start(); try { Thread.sleep(3000); //ä¼‘çœ 3ç§’ï¼Œä¸€å®šæ¯”çº¿ç¨‹tå…ˆé†’æ¥ t.interrupt(); //è°ƒç”¨tçš„interruptæ–¹æ³• } catch (InterruptedException e) { e.printStackTrace(); } } æˆ‘ä»¬å‘ç°ï¼Œæ¯ä¸€ä¸ªThreadå¯¹è±¡ä¸­ï¼Œéƒ½æœ‰ä¸€ä¸ªinterrupt()æ–¹æ³•ï¼Œè°ƒç”¨æ­¤æ–¹æ³•åï¼Œä¼šç»™æŒ‡å®šçº¿ç¨‹æ·»åŠ ä¸€ä¸ªä¸­æ–­æ ‡è®°ä»¥å‘ŠçŸ¥çº¿ç¨‹éœ€è¦ç«‹å³åœæ­¢è¿è¡Œæˆ–æ˜¯è¿›è¡Œå…¶ä»–æ“ä½œï¼Œç”±çº¿ç¨‹æ¥å“åº”æ­¤ä¸­æ–­å¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œæˆ‘ä»¬å‰é¢æåˆ°çš„stop()æ–¹æ³•æ˜¯å¼ºåˆ¶ç»ˆæ­¢çº¿ç¨‹ï¼Œè¿™æ ·çš„åšæ³•è™½ç„¶ç®€å•ç²—æš´ï¼Œä½†æ˜¯å¾ˆæœ‰å¯èƒ½å¯¼è‡´èµ„æºä¸èƒ½å®Œå…¨é‡Šæ”¾ï¼Œè€Œç±»ä¼¼è¿™æ ·çš„å‘é€é€šçŸ¥æ¥å‘ŠçŸ¥çº¿ç¨‹éœ€è¦ä¸­æ–­ï¼Œè®©çº¿ç¨‹è‡ªè¡Œå¤„ç†åç»­ï¼Œä¼šæ›´åŠ åˆç†ä¸€äº›ï¼Œä¹Ÿæ˜¯æ›´åŠ æ¨èçš„åšæ³•ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹interruptçš„ç”¨æ³•ï¼š public static void main(String[] args) { Thread t = new Thread(() -\u003e { System.out.println(\"çº¿ç¨‹å¼€å§‹è¿è¡Œï¼\"); while (true){ //æ— é™å¾ªç¯ if(Thread.currentThread().isInterrupted()){ //åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸­æ–­æ ‡å¿— break; //å“åº”ä¸­æ–­ } } System.out.println(\"çº¿ç¨‹è¢«ä¸­æ–­äº†ï¼\"); }); t.start(); try { Thread.sleep(3000); //ä¼‘çœ 3ç§’ï¼Œä¸€å®šæ¯”çº¿ç¨‹tå…ˆé†’æ¥ t.interrupt(); //è°ƒç”¨tçš„interruptæ–¹æ³• } catch (InterruptedException e) { e.printStackTrace(); } } é€šè¿‡isInterrupted()å¯ä»¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å­˜åœ¨ä¸­æ–­æ ‡å¿—ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¯´æ˜å¤–éƒ¨å¸Œæœ›å½“å‰çº¿ç¨‹ç«‹å³åœæ­¢ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç»™å½“å‰çº¿ç¨‹å‘é€ä¸€ä¸ªå…¶ä»–çš„ä¿¡å·ï¼Œå¦‚æœæˆ‘ä»¬å¹¶ä¸æ˜¯å¸Œæœ›æ”¶åˆ°ä¸­æ–­ä¿¡å·å°±æ˜¯ç»“æŸç¨‹åºï¼Œè€Œæ˜¯é€šçŸ¥ç¨‹åºåšå…¶ä»–äº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ”¶åˆ°ä¸­æ–­ä¿¡å·åï¼Œå¤ä½ä¸­æ–­æ ‡è®°ï¼Œç„¶åç»§ç»­åšæˆ‘ä»¬çš„äº‹æƒ…ï¼š public static void main(String[] args) { Thread t = new Thread(() -\u003e { System.out.println(\"çº¿ç¨‹å¼€å§‹è¿è¡Œï¼\"); while (true){ if(Thread.currentThread().isInterrupted()){ //åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸­æ–­æ ‡å¿— System.out.println(\"å‘ç°ä¸­æ–­ä¿¡å·ï¼Œå¤ä½ï¼Œç»§ç»­è¿è¡Œ...\"); Thread.interrupted(); //å¤ä½ä¸­æ–­æ ‡è®°ï¼ˆè¿”å›å€¼æ˜¯å½“å‰æ˜¯å¦æœ‰ä¸­æ–­æ ‡è®°ï¼Œè¿™é‡Œä¸ç”¨ç®¡ï¼‰ } } }); t.start(); try { Thread.sleep(3000); //ä¼‘çœ 3ç§’ï¼Œä¸€å®šæ¯”çº¿ç¨‹tå…ˆé†’æ¥ t.interrupt(); //è°ƒç”¨tçš„interruptæ–¹æ³• } catch (InterruptedException e) { e.printStackTrace(); } } å¤ä½ä¸­æ–­æ ‡è®°åï¼Œä¼šç«‹å³æ¸…é™¤ä¸­æ–­æ ‡è®°ã€‚é‚£ä¹ˆï¼Œå¦‚æœç°åœ¨æˆ‘ä»¬æƒ³æš‚åœçº¿ç¨‹å‘¢ï¼Ÿæˆ‘ä»¬å¸Œæœ›çº¿ç¨‹æš‚æ—¶åœä¸‹ï¼Œæ¯”å¦‚ç­‰å¾…å…¶ä»–çº¿ç¨‹æ‰§è¡Œå®Œæˆåï¼Œå†ç»§ç»­è¿è¡Œï¼Œé‚£è¿™æ ·çš„æ“ä½œæ€ä¹ˆå®ç°å‘¢ï¼Ÿ public static void main(String[] args) { Thread t = new Thread(() -\u003e { System.out.println(\"çº¿ç¨‹å¼€å§‹è¿è¡Œï¼\"); Thread.currentThread().suspend(); //æš‚åœæ­¤çº¿ç¨‹ System.out.println(\"çº¿ç¨‹ç»§ç»­è¿è¡Œï¼\"); }); t.start(); try { Thread.sleep(3000); //ä¼‘çœ 3ç§’ï¼Œä¸€å®šæ¯”çº¿ç¨‹tå…ˆé†’æ¥ t.resume(); //æ¢å¤æ­¤çº¿ç¨‹ } catch (InterruptedException e) { e.printStackTrace(); } } è™½ç„¶è¿™æ ·å¾ˆæ–¹ä¾¿åœ°æ§åˆ¶äº†çº¿ç¨‹çš„æš‚åœçŠ¶æ€ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ–¹æ³•æˆ‘ä»¬å‘ç°å®é™…ä¸Šä¹Ÿæ˜¯ä¸æ¨èçš„åšæ³•ï¼Œå®ƒå¾ˆå®¹æ˜“å¯¼è‡´æ­»é”ï¼æœ‰å…³ä¸ºä»€ä¹ˆè¢«å¼ƒç”¨çš„åŸå› ï¼Œæˆ‘ä»¬ä¼šåœ¨çº¿ç¨‹é”ç»§ç»­æ¢è®¨ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:2:0","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"çº¿ç¨‹çš„ä¼˜å…ˆçº§ å®é™…ä¸Šï¼ŒJavaç¨‹åºä¸­çš„æ¯ä¸ªçº¿ç¨‹å¹¶ä¸æ˜¯å¹³å‡åˆ†é…CPUæ—¶é—´çš„ï¼Œä¸ºäº†ä½¿å¾—çº¿ç¨‹èµ„æºåˆ†é…æ›´åŠ åˆç†ï¼ŒJavaé‡‡ç”¨çš„æ˜¯æŠ¢å å¼è°ƒåº¦æ–¹å¼ï¼Œä¼˜å…ˆçº§è¶Šé«˜çš„çº¿ç¨‹ï¼Œä¼˜å…ˆä½¿ç”¨CPUèµ„æºï¼æˆ‘ä»¬å¸Œæœ›CPUèŠ±è´¹æ›´å¤šçš„æ—¶é—´å»å¤„ç†æ›´é‡è¦çš„ä»»åŠ¡ï¼Œè€Œä¸å¤ªé‡è¦çš„ä»»åŠ¡ï¼Œåˆ™å¯ä»¥å…ˆè®©å‡ºä¸€éƒ¨åˆ†èµ„æºã€‚çº¿ç¨‹çš„ä¼˜å…ˆçº§ä¸€èˆ¬åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ï¼š MIN_PRIORITY æœ€ä½ä¼˜å…ˆçº§ MAX_PRIORITY æœ€é«˜ä¼˜å…ˆçº§ NOM_PRIORITY å¸¸è§„ä¼˜å…ˆçº§ public static void main(String[] args) { Thread t = new Thread(() -\u003e { System.out.println(\"çº¿ç¨‹å¼€å§‹è¿è¡Œï¼\"); }); t.start(); t.setPriority(Thread.MIN_PRIORITY); //é€šè¿‡ä½¿ç”¨setPriorityæ–¹æ³•æ¥è®¾å®šä¼˜å…ˆçº§ } ä¼˜å…ˆçº§è¶Šé«˜çš„çº¿ç¨‹ï¼Œè·å¾—CPUèµ„æºçš„æ¦‚ç‡ä¼šè¶Šå¤§ï¼Œå¹¶ä¸æ˜¯è¯´ä¸€å®šä¼˜å…ˆçº§è¶Šé«˜çš„çº¿ç¨‹è¶Šå…ˆæ‰§è¡Œï¼ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:3:0","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"çº¿ç¨‹çš„ç¤¼è®©å’ŒåŠ å…¥ æˆ‘ä»¬è¿˜å¯ä»¥åœ¨å½“å‰çº¿ç¨‹çš„å·¥ä½œä¸é‡è¦æ—¶ï¼Œå°†CPUèµ„æºè®©ä½ç»™å…¶ä»–çº¿ç¨‹ï¼Œé€šè¿‡ä½¿ç”¨yield()æ–¹æ³•æ¥å°†å½“å‰èµ„æºè®©ä½ç»™å…¶ä»–åŒä¼˜å…ˆçº§çº¿ç¨‹ï¼š public static void main(String[] args) { Thread t1 = new Thread(() -\u003e { System.out.println(\"çº¿ç¨‹1å¼€å§‹è¿è¡Œï¼\"); for (int i = 0; i \u003c 50; i++) { if(i % 5 == 0) { System.out.println(\"è®©ä½ï¼\"); Thread.yield(); } System.out.println(\"1æ‰“å°ï¼š\"+i); } System.out.println(\"çº¿ç¨‹1ç»“æŸï¼\"); }); Thread t2 = new Thread(() -\u003e { System.out.println(\"çº¿ç¨‹2å¼€å§‹è¿è¡Œï¼\"); for (int i = 0; i \u003c 50; i++) { System.out.println(\"2æ‰“å°ï¼š\"+i); } }); t1.start(); t2.start(); } è§‚å¯Ÿç»“æœï¼Œæˆ‘ä»¬å‘ç°ï¼Œåœ¨è®©ä½ä¹‹åï¼Œå°½å¯èƒ½å¤šçš„åœ¨æ‰§è¡Œçº¿ç¨‹2çš„å†…å®¹ã€‚ å½“æˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆåå†ç»§ç»­è¿›è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨join()æ–¹æ³•æ¥å®ç°çº¿ç¨‹çš„åŠ å…¥ï¼š public static void main(String[] args) { Thread t1 = new Thread(() -\u003e { System.out.println(\"çº¿ç¨‹1å¼€å§‹è¿è¡Œï¼\"); for (int i = 0; i \u003c 50; i++) { System.out.println(\"1æ‰“å°ï¼š\"+i); } System.out.println(\"çº¿ç¨‹1ç»“æŸï¼\"); }); Thread t2 = new Thread(() -\u003e { System.out.println(\"çº¿ç¨‹2å¼€å§‹è¿è¡Œï¼\"); for (int i = 0; i \u003c 50; i++) { System.out.println(\"2æ‰“å°ï¼š\"+i); if(i == 10){ try { System.out.println(\"çº¿ç¨‹1åŠ å…¥åˆ°æ­¤çº¿ç¨‹ï¼\"); t1.join(); //åœ¨i==10æ—¶ï¼Œè®©çº¿ç¨‹1åŠ å…¥ï¼Œå…ˆå®Œæˆçº¿ç¨‹1çš„å†…å®¹ï¼Œåœ¨ç»§ç»­å½“å‰å†…å®¹ } catch (InterruptedException e) { e.printStackTrace(); } } } }); t1.start(); t2.start(); } æˆ‘ä»¬å‘ç°ï¼Œçº¿ç¨‹1åŠ å…¥åï¼Œçº¿ç¨‹2ç­‰å¾…çº¿ç¨‹1å¾…æ‰§è¡Œçš„å†…å®¹å…¨éƒ¨æ‰§è¡Œå®Œæˆä¹‹åï¼Œå†ç»§ç»­æ‰§è¡Œçš„çº¿ç¨‹2å†…å®¹ã€‚æ³¨æ„ï¼Œçº¿ç¨‹çš„åŠ å…¥åªæ˜¯ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹çš„å®Œæˆï¼Œå¹¶ä¸æ˜¯å°†å¦ä¸€ä¸ªçº¿ç¨‹å’Œå½“å‰çº¿ç¨‹åˆå¹¶ï¼æˆ‘ä»¬æ¥çœ‹çœ‹ï¼š public static void main(String[] args) { Thread t1 = new Thread(() -\u003e { System.out.println(Thread.currentThread().getName()+\"å¼€å§‹è¿è¡Œï¼\"); for (int i = 0; i \u003c 50; i++) { System.out.println(Thread.currentThread().getName()+\"æ‰“å°ï¼š\"+i); } System.out.println(\"çº¿ç¨‹1ç»“æŸï¼\"); }); Thread t2 = new Thread(() -\u003e { System.out.println(\"çº¿ç¨‹2å¼€å§‹è¿è¡Œï¼\"); for (int i = 0; i \u003c 50; i++) { System.out.println(\"2æ‰“å°ï¼š\"+i); if(i == 10){ try { System.out.println(\"çº¿ç¨‹1åŠ å…¥åˆ°æ­¤çº¿ç¨‹ï¼\"); t1.join(); //åœ¨i==10æ—¶ï¼Œè®©çº¿ç¨‹1åŠ å…¥ï¼Œå…ˆå®Œæˆçº¿ç¨‹1çš„å†…å®¹ï¼Œåœ¨ç»§ç»­å½“å‰å†…å®¹ } catch (InterruptedException e) { e.printStackTrace(); } } } }); t1.start(); t2.start(); } å®é™…ä¸Šï¼Œt2çº¿ç¨‹åªæ˜¯æš‚æ—¶å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå½“t1æ‰§è¡Œç»“æŸæ—¶ï¼Œt2æ‰å¼€å§‹ç»§ç»­æ‰§è¡Œï¼Œåªæ˜¯åœ¨æ•ˆæœä¸Šçœ‹èµ·æ¥å¥½åƒæ˜¯ä¸¤ä¸ªçº¿ç¨‹åˆå¹¶ä¸ºä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œè€Œå·²ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:4:0","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"çº¿ç¨‹é”å’Œçº¿ç¨‹åŒæ­¥ åœ¨å¼€å§‹è®²è§£çº¿ç¨‹åŒæ­¥ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹å¤šçº¿ç¨‹æƒ…å†µä¸‹Javaçš„å†…å­˜ç®¡ç†ï¼š çº¿ç¨‹ä¹‹é—´çš„å…±äº«å˜é‡ï¼ˆæ¯”å¦‚ä¹‹å‰æ‚¬å¿µä¸­çš„valueå˜é‡ï¼‰å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼ˆmain memoryï¼‰ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„å·¥ä½œå†…å­˜ï¼ˆæœ¬åœ°å†…å­˜ï¼‰ï¼Œå·¥ä½œå†…å­˜ä¸­å­˜å‚¨äº†è¯¥çº¿ç¨‹ä»¥è¯»/å†™å…±äº«å˜é‡çš„å‰¯æœ¬ã€‚å®ƒç±»ä¼¼äºæˆ‘ä»¬åœ¨è®¡ç®—æœºç»„æˆåŸç†ä¸­å­¦ä¹ çš„å¤šå¤„ç†å™¨é«˜é€Ÿç¼“å­˜æœºåˆ¶ï¼š é«˜é€Ÿç¼“å­˜é€šè¿‡ä¿å­˜å†…å­˜ä¸­æ•°æ®çš„å‰¯æœ¬æ¥æä¾›æ›´åŠ å¿«é€Ÿçš„æ•°æ®è®¿é—®ï¼Œä½†æ˜¯å¦‚æœå¤šä¸ªå¤„ç†å™¨çš„è¿ç®—ä»»åŠ¡éƒ½æ¶‰åŠåŒä¸€å—å†…å­˜åŒºåŸŸï¼Œå°±å¯èƒ½å¯¼è‡´å„è‡ªçš„é«˜é€Ÿç¼“å­˜æ•°æ®ä¸ä¸€è‡´ï¼Œåœ¨å†™å›ä¸»å†…å­˜æ—¶å°±ä¼šå‘ç”Ÿå†²çªï¼Œè¿™å°±æ˜¯å¼•å…¥é«˜é€Ÿç¼“å­˜å¼•å‘çš„æ–°é—®é¢˜ï¼Œç§°ä¹‹ä¸ºï¼šç¼“å­˜ä¸€è‡´æ€§ã€‚ å®é™…ä¸Šï¼ŒJavaçš„å†…å­˜æ¨¡å‹ä¹Ÿæ˜¯è¿™æ ·ç±»ä¼¼è®¾è®¡çš„ï¼Œå½“æˆ‘ä»¬åŒæ—¶å»æ“ä½œä¸€ä¸ªå…±äº«å˜é‡æ—¶ï¼Œå¦‚æœä»…ä»…æ˜¯è¯»å–è¿˜å¥½ï¼Œä½†æ˜¯å¦‚æœåŒæ—¶å†™å…¥å†…å®¹ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼å¥½æ¯”è¯´ä¸€ä¸ªé“¶è¡Œï¼Œå¦‚æœæˆ‘å’Œæˆ‘çš„æœ‹å‹åŒæ—¶åœ¨é“¶è¡Œå–æˆ‘è´¦æˆ·é‡Œé¢çš„é’±ï¼Œéš¾é“å–1000è¿˜å¯èƒ½å2000å‡ºæ¥å—ï¼Ÿæˆ‘ä»¬éœ€è¦ä¸€ç§æ›´åŠ å®‰å…¨çš„æœºåˆ¶æ¥ç»´æŒç§©åºï¼Œä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:5:0","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"æ‚¬å¿µç ´æ¡ˆ æˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹ä¹‹å‰ç•™ç»™å¤§å®¶çš„æ‚¬å¿µï¼š private static int value = 0; public static void main(String[] args) throws InterruptedException { Thread t1 = new Thread(() -\u003e { for (int i = 0; i \u003c 10000; i++) value++; System.out.println(\"çº¿ç¨‹1å®Œæˆ\"); }); Thread t2 = new Thread(() -\u003e { for (int i = 0; i \u003c 10000; i++) value++; System.out.println(\"çº¿ç¨‹2å®Œæˆ\"); }); t1.start(); t2.start(); Thread.sleep(1000); //ä¸»çº¿ç¨‹åœæ­¢1ç§’ï¼Œä¿è¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆ System.out.println(value); } å®é™…ä¸Šï¼Œå½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¯»å–valueçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šåŒæ—¶æ‹¿åˆ°åŒæ ·çš„å€¼ï¼Œè€Œè¿›è¡Œè‡ªå¢æ“ä½œä¹‹åï¼Œä¹Ÿæ˜¯åŒæ ·çš„å€¼ï¼Œå†å†™å›ä¸»å†…å­˜åï¼Œæœ¬æ¥åº”è¯¥è¿›è¡Œ2æ¬¡è‡ªå¢æ“ä½œï¼Œå®é™…ä¸Šåªæ‰§è¡Œäº†ä¸€æ¬¡ï¼ é‚£ä¹ˆè¦å»è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±å¿…é¡»é‡‡å–æŸç§åŒæ­¥æœºåˆ¶ï¼Œæ¥é™åˆ¶ä¸åŒçº¿ç¨‹å¯¹äºå…±äº«å˜é‡çš„è®¿é—®ï¼æˆ‘ä»¬å¸Œæœ›çš„æ˜¯ä¿è¯å…±äº«å˜é‡valueè‡ªå¢æ“ä½œçš„åŸå­æ€§ï¼ˆåŸå­æ€§æ˜¯æŒ‡ä¸€ä¸ªæ“ä½œæˆ–å¤šä¸ªæ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œä¸”æ‰§è¡Œçš„è¿‡ç¨‹ä¸ä¼šè¢«ä»»ä½•å› ç´ æ‰“æ–­ï¼ŒåŒ…æ‹¬å…¶ä»–çº¿ç¨‹ï¼Œè¦ä¹ˆå°±éƒ½ä¸æ‰§è¡Œï¼‰ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:5:1","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"çº¿ç¨‹é” é€šè¿‡synchronizedå…³é”®å­—æ¥åˆ›é€ ä¸€ä¸ªçº¿ç¨‹é”ï¼Œé¦–å…ˆæˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸‹synchronizedä»£ç å—ï¼Œå®ƒéœ€è¦åœ¨æ‹¬å·ä¸­å¡«å…¥ä¸€ä¸ªå†…å®¹ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–æ˜¯ä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬åœ¨valueè‡ªå¢æ“ä½œå¤–å¥—ä¸ŠåŒæ­¥ä»£ç å—ï¼š private static int value = 0; public static void main(String[] args) throws InterruptedException { Thread t1 = new Thread(() -\u003e { for (int i = 0; i \u003c 10000; i++) { synchronized (Main.class){ value++; } } System.out.println(\"çº¿ç¨‹1å®Œæˆ\"); }); Thread t2 = new Thread(() -\u003e { for (int i = 0; i \u003c 10000; i++) { synchronized (Main.class){ value++; } } System.out.println(\"çº¿ç¨‹2å®Œæˆ\"); }); t1.start(); t2.start(); Thread.sleep(1000); //ä¸»çº¿ç¨‹åœæ­¢1ç§’ï¼Œä¿è¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆ System.out.println(value); } æˆ‘ä»¬å‘ç°ï¼Œç°åœ¨å¾—åˆ°çš„ç»“æœå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„å†…å®¹äº†ï¼Œå› ä¸ºåœ¨åŒæ­¥ä»£ç å—æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‹¿åˆ°äº†æˆ‘ä»¬ä¼ å…¥å¯¹è±¡æˆ–ç±»çš„é”ï¼ˆä¼ å…¥çš„å¦‚æœæ˜¯å¯¹è±¡ï¼Œå°±æ˜¯å¯¹è±¡é”ï¼Œä¸åŒçš„å¯¹è±¡ä»£è¡¨ä¸åŒçš„å¯¹è±¡é”ï¼Œå¦‚æœæ˜¯ç±»ï¼Œå°±æ˜¯ç±»é”ï¼Œç±»é”åªæœ‰ä¸€ä¸ªï¼Œå®é™…ä¸Šç±»é”ä¹Ÿæ˜¯å¯¹è±¡é”ï¼Œæ˜¯Classç±»å®ä¾‹ï¼Œä½†æ˜¯Classç±»å®ä¾‹åŒæ ·çš„ç±»æ— è®ºæ€ä¹ˆè·å–éƒ½æ˜¯åŒä¸€ä¸ªï¼‰ï¼Œä½†æ˜¯æ³¨æ„ä¸¤ä¸ªçº¿ç¨‹å¿…é¡»ä½¿ç”¨åŒä¸€æŠŠé”ï¼ å½“ä¸€ä¸ªçº¿ç¨‹è¿›å…¥åˆ°åŒæ­¥ä»£ç å—æ—¶ï¼Œä¼šè·å–åˆ°å½“å‰çš„é”ï¼Œè€Œè¿™æ—¶å¦‚æœå…¶ä»–ä½¿ç”¨åŒæ ·çš„é”çš„åŒæ­¥ä»£ç å—ä¹Ÿæƒ³æ‰§è¡Œå†…å®¹ï¼Œå°±å¿…é¡»ç­‰å¾…å½“å‰åŒæ­¥ä»£ç å—çš„å†…å®¹æ‰§è¡Œå®Œæ¯•ï¼Œåœ¨æ‰§è¡Œå®Œæ¯•åä¼šè‡ªåŠ¨é‡Šæ”¾è¿™æŠŠé”ï¼Œè€Œå…¶ä»–çš„çº¿ç¨‹æ‰èƒ½æ‹¿åˆ°è¿™æŠŠé”å¹¶å¼€å§‹æ‰§è¡ŒåŒæ­¥ä»£ç å—é‡Œé¢çš„å†…å®¹ã€‚ï¼ˆå®é™…ä¸Šsynchronizedæ˜¯ä¸€ç§æ‚²è§‚é”ï¼Œéšæ—¶éƒ½è®¤ä¸ºæœ‰å…¶ä»–çº¿ç¨‹åœ¨å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œåé¢æœ‰æœºä¼šæˆ‘ä»¬è¿˜ä¼šè®²åˆ°ä¹è§‚é”ï¼Œå¦‚CASç®—æ³•ï¼‰ é‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯ä¸åŒå¯¹è±¡çš„é”ï¼Œé‚£ä¹ˆè¿˜èƒ½é¡ºåˆ©è¿›è¡Œå—ï¼Ÿ private static int value = 0; public static void main(String[] args) throws InterruptedException { Main main1 = new Main(); Main main2 = new Main(); Thread t1 = new Thread(() -\u003e { for (int i = 0; i \u003c 10000; i++) { synchronized (main1){ value++; } } System.out.println(\"çº¿ç¨‹1å®Œæˆ\"); }); Thread t2 = new Thread(() -\u003e { for (int i = 0; i \u003c 10000; i++) { synchronized (main2){ value++; } } System.out.println(\"çº¿ç¨‹2å®Œæˆ\"); }); t1.start(); t2.start(); Thread.sleep(1000); //ä¸»çº¿ç¨‹åœæ­¢1ç§’ï¼Œä¿è¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆ System.out.println(value); } å½“å¯¹è±¡ä¸åŒæ—¶ï¼Œè·å–åˆ°çš„æ˜¯ä¸åŒçš„é”ï¼Œå› æ­¤å¹¶ä¸èƒ½ä¿è¯è‡ªå¢æ“ä½œçš„åŸå­æ€§ï¼Œæœ€åä¹Ÿå¾—ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚ synchronizedå…³é”®å­—ä¹Ÿå¯ä»¥ä½œç”¨äºæ–¹æ³•ä¸Šï¼Œè°ƒç”¨æ­¤æ–¹æ³•æ—¶ä¹Ÿä¼šè·å–é”ï¼š private static int value = 0; private static synchronized void add(){ value++; } public static void main(String[] args) throws InterruptedException { Thread t1 = new Thread(() -\u003e { for (int i = 0; i \u003c 10000; i++) add(); System.out.println(\"çº¿ç¨‹1å®Œæˆ\"); }); Thread t2 = new Thread(() -\u003e { for (int i = 0; i \u003c 10000; i++) add(); System.out.println(\"çº¿ç¨‹2å®Œæˆ\"); }); t1.start(); t2.start(); Thread.sleep(1000); //ä¸»çº¿ç¨‹åœæ­¢1ç§’ï¼Œä¿è¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆ System.out.println(value); } æˆ‘ä»¬å‘ç°å®é™…ä¸Šæ•ˆæœæ˜¯ç›¸åŒçš„ï¼Œåªä¸è¿‡è¿™ä¸ªé”ä¸ç”¨ä½ å»ç»™ï¼Œå¦‚æœæ˜¯é™æ€æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨çš„ç±»é”ï¼Œè€Œå¦‚æœæ˜¯æ™®é€šæˆå‘˜æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨çš„å¯¹è±¡é”ã€‚é€šè¿‡çµæ´»çš„ä½¿ç”¨synchronizedå°±èƒ½å¾ˆå¥½åœ°è§£å†³æˆ‘ä»¬ä¹‹å‰æåˆ°çš„é—®é¢˜äº†ï¼ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:5:2","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"æ­»é” å…¶å®æ­»é”çš„æ¦‚å¿µåœ¨æ“ä½œç³»ç»Ÿä¸­ä¹Ÿæœ‰æåŠï¼Œå®ƒæ˜¯æŒ‡ä¸¤ä¸ªçº¿ç¨‹ç›¸äº’æŒæœ‰å¯¹æ–¹éœ€è¦çš„é”ï¼Œä½†æ˜¯åˆè¿Ÿè¿Ÿä¸é‡Šæ”¾ï¼Œå¯¼è‡´ç¨‹åºå¡ä½ï¼š æˆ‘ä»¬å‘ç°ï¼Œçº¿ç¨‹Aå’Œçº¿ç¨‹Béƒ½éœ€è¦å¯¹æ–¹çš„é”ï¼Œä½†æ˜¯åˆè¢«å¯¹æ–¹ç‰¢ç‰¢æŠŠæ¡ï¼Œç”±äºçº¿ç¨‹è¢«æ— é™æœŸåœ°é˜»å¡ï¼Œå› æ­¤ç¨‹åºä¸å¯èƒ½æ­£å¸¸ç»ˆæ­¢ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ä»¥ä¸‹è¿™æ®µä»£ç ä¼šå¾—åˆ°ä»€ä¹ˆç»“æœï¼š public static void main(String[] args) throws InterruptedException { Object o1 = new Object(); Object o2 = new Object(); Thread t1 = new Thread(() -\u003e { synchronized (o1){ try { Thread.sleep(1000); synchronized (o2){ System.out.println(\"çº¿ç¨‹1\"); } } catch (InterruptedException e) { e.printStackTrace(); } } }); Thread t2 = new Thread(() -\u003e { synchronized (o2){ try { Thread.sleep(1000); synchronized (o1){ System.out.println(\"çº¿ç¨‹2\"); } } catch (InterruptedException e) { e.printStackTrace(); } } }); t1.start(); t2.start(); } é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å»æ£€æµ‹æ­»é”å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åˆ©ç”¨jstackå‘½ä»¤æ¥æ£€æµ‹æ­»é”ï¼Œé¦–å…ˆåˆ©ç”¨jpsæ‰¾åˆ°æˆ‘ä»¬çš„javaè¿›ç¨‹ï¼š nagocoler@NagodeMacBook-Pro ~ % jps 51592 Launcher 51690 Jps 14955 51693 Main nagocoler@NagodeMacBook-Pro ~ % jstack 51693 ... Java stack information for the threads listed above: =================================================== \"Thread-1\": at com.test.Main.lambda$main$1(Main.java:46) - waiting to lock \u003c0x000000076ad27fc0\u003e (a java.lang.Object) - locked \u003c0x000000076ad27fd0\u003e (a java.lang.Object) at com.test.Main$$Lambda$2/1867750575.run(Unknown Source) at java.lang.Thread.run(Thread.java:748) \"Thread-0\": at com.test.Main.lambda$main$0(Main.java:34) - waiting to lock \u003c0x000000076ad27fd0\u003e (a java.lang.Object) - locked \u003c0x000000076ad27fc0\u003e (a java.lang.Object) at com.test.Main$$Lambda$1/396873410.run(Unknown Source) at java.lang.Thread.run(Thread.java:748) Found 1 deadlock. jstackè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªæ­»é”ï¼Œå¹¶æ‰“å°å‡ºäº†ç›¸å…³çº¿ç¨‹çš„æ ˆè¿½è¸ªä¿¡æ¯ã€‚ ä¸æ¨èä½¿ç”¨ suspend() å»æŒ‚èµ·çº¿ç¨‹çš„åŸå› ï¼Œæ˜¯å› ä¸ºsuspend()åœ¨ä½¿çº¿ç¨‹æš‚åœçš„åŒæ—¶ï¼Œå¹¶ä¸ä¼šå»é‡Šæ”¾ä»»ä½•é”èµ„æºã€‚å…¶ä»–çº¿ç¨‹éƒ½æ— æ³•è®¿é—®è¢«å®ƒå ç”¨çš„é”ã€‚ç›´åˆ°å¯¹åº”çš„çº¿ç¨‹æ‰§è¡Œresume()æ–¹æ³•åï¼Œè¢«æŒ‚èµ·çš„çº¿ç¨‹æ‰èƒ½ç»§ç»­ï¼Œä»è€Œå…¶å®ƒè¢«é˜»å¡åœ¨è¿™ä¸ªé”çš„çº¿ç¨‹æ‰å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚ä½†æ˜¯ï¼Œå¦‚æœresume()æ“ä½œå‡ºç°åœ¨suspend()ä¹‹å‰æ‰§è¡Œï¼Œé‚£ä¹ˆçº¿ç¨‹å°†ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€ï¼ŒåŒæ—¶ä¸€ç›´å ç”¨é”ï¼Œè¿™å°±äº§ç”Ÿäº†æ­»é”ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:5:3","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"waitå’Œnotifyæ–¹æ³• å…¶å®æˆ‘ä»¬ä¹‹å‰å¯èƒ½å°±å‘ç°äº†ï¼ŒObjectç±»è¿˜æœ‰ä¸‰ä¸ªæ–¹æ³•æˆ‘ä»¬ä»æ¥æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œåˆ†åˆ«æ˜¯wait()ã€notify()ä»¥åŠnotifyAll()ï¼Œä»–ä»¬å…¶å®æ˜¯éœ€è¦é…åˆsynchronizedæ¥ä½¿ç”¨çš„ï¼Œåªæœ‰åœ¨åŒæ­¥ä»£ç å—ä¸­æ‰èƒ½ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä»–ä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼š public static void main(String[] args) throws InterruptedException { Object o1 = new Object(); Thread t1 = new Thread(() -\u003e { synchronized (o1){ try { System.out.println(\"å¼€å§‹ç­‰å¾…\"); o1.wait(); //è¿›å…¥ç­‰å¾…çŠ¶æ€å¹¶é‡Šæ”¾é” System.out.println(\"ç­‰å¾…ç»“æŸï¼\"); } catch (InterruptedException e) { e.printStackTrace(); } } }); Thread t2 = new Thread(() -\u003e { synchronized (o1){ System.out.println(\"å¼€å§‹å”¤é†’ï¼\"); o1.notify(); //å”¤é†’å¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ for (int i = 0; i \u003c 50; i++) { System.out.println(i); } //å”¤é†’åä¾ç„¶éœ€è¦ç­‰å¾…è¿™é‡Œçš„é”é‡Šæ”¾ä¹‹å‰ç­‰å¾…çš„çº¿ç¨‹æ‰èƒ½ç»§ç»­ } }); t1.start(); Thread.sleep(1000); t2.start(); } æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå¯¹è±¡çš„wait()æ–¹æ³•ä¼šæš‚æ—¶ä½¿å¾—æ­¤çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼ŒåŒæ—¶ä¼šé‡Šæ”¾å½“å‰ä»£ç å—æŒæœ‰çš„é”ï¼Œè¿™æ—¶å…¶ä»–çº¿ç¨‹å¯ä»¥è·å–åˆ°æ­¤å¯¹è±¡çš„é”ï¼Œå½“å…¶ä»–çº¿ç¨‹è°ƒç”¨å¯¹è±¡çš„notify()æ–¹æ³•åï¼Œä¼šå”¤é†’åˆšæ‰å˜æˆç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ï¼ˆè¿™æ—¶å¹¶æ²¡æœ‰ç«‹å³é‡Šæ”¾é”ï¼‰ã€‚æ³¨æ„ï¼Œå¿…é¡»æ˜¯åœ¨æŒæœ‰é”ï¼ˆåŒæ­¥ä»£ç å—å†…éƒ¨ï¼‰çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ notifyAllå…¶å®å’Œnotifyä¸€æ ·ï¼Œä¹Ÿæ˜¯ç”¨äºå”¤é†’ï¼Œä½†æ˜¯å‰è€…æ˜¯å”¤é†’æ‰€æœ‰è°ƒç”¨wait()åå¤„äºç­‰å¾…çš„çº¿ç¨‹ï¼Œè€Œåè€…æ˜¯çœ‹è¿æ°”éšæœºé€‰æ‹©ä¸€ä¸ªã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:5:4","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"ThreadLocalçš„ä½¿ç”¨ æ—¢ç„¶æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œé‚£ä¹ˆèƒ½å¦åªåœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­åˆ›å»ºå˜é‡ä»…ä¾›çº¿ç¨‹è‡ªå·±ä½¿ç”¨å‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥æ˜¯ThreadLocalç±»ï¼Œæ¥åˆ›å»ºå·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œå®ƒå°†æˆ‘ä»¬çš„å˜é‡å€¼å­˜å‚¨åœ¨å†…éƒ¨ï¼ˆåªèƒ½å­˜å‚¨ä¸€ä¸ªå˜é‡ï¼‰ï¼Œä¸åŒçš„å˜é‡è®¿é—®åˆ°ThreadLocalå¯¹è±¡æ—¶ï¼Œéƒ½åªèƒ½è·å–åˆ°è‡ªå·±çº¿ç¨‹æ‰€å±çš„å˜é‡ã€‚ public static void main(String[] args) throws InterruptedException { ThreadLocal\u003cString\u003e local = new ThreadLocal\u003c\u003e(); //æ³¨æ„è¿™æ˜¯ä¸€ä¸ªæ³›å‹ç±»ï¼Œå­˜å‚¨ç±»å‹ä¸ºæˆ‘ä»¬è¦å­˜æ”¾çš„å˜é‡ç±»å‹ Thread t1 = new Thread(() -\u003e { local.set(\"lbwnb\"); //å°†å˜é‡çš„å€¼ç»™äºˆThreadLocal System.out.println(\"å˜é‡å€¼å·²è®¾å®šï¼\"); System.out.println(local.get()); //å°è¯•è·å–ThreadLocalä¸­å­˜æ”¾çš„å˜é‡ }); Thread t2 = new Thread(() -\u003e { System.out.println(local.get()); //å°è¯•è·å–ThreadLocalä¸­å­˜æ”¾çš„å˜é‡ }); t1.start(); Thread.sleep(3000); //é—´éš”ä¸‰ç§’ t2.start(); } ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¼€å¯ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«å»è®¿é—®ThreadLocalå¯¹è±¡ï¼Œæˆ‘ä»¬å‘ç°ï¼Œç¬¬ä¸€ä¸ªçº¿ç¨‹å­˜æ”¾çš„å†…å®¹ï¼Œç¬¬ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è·å–ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹æ— æ³•è·å–ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ç¬¬ä¸€ä¸ªçº¿ç¨‹å­˜å…¥åï¼Œç¬¬äºŒä¸ªçº¿ç¨‹ä¹Ÿå­˜æ”¾ï¼Œæ˜¯å¦ä¼šè¦†ç›–ç¬¬ä¸€ä¸ªçº¿ç¨‹å­˜æ”¾çš„å†…å®¹ï¼š public static void main(String[] args) throws InterruptedException { ThreadLocal\u003cString\u003e local = new ThreadLocal\u003c\u003e(); //æ³¨æ„è¿™æ˜¯ä¸€ä¸ªæ³›å‹ç±»ï¼Œå­˜å‚¨ç±»å‹ä¸ºæˆ‘ä»¬è¦å­˜æ”¾çš„å˜é‡ç±»å‹ Thread t1 = new Thread(() -\u003e { local.set(\"lbwnb\"); //å°†å˜é‡çš„å€¼ç»™äºˆThreadLocal System.out.println(\"çº¿ç¨‹1å˜é‡å€¼å·²è®¾å®šï¼\"); try { Thread.sleep(2000); //é—´éš”2ç§’ } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(\"çº¿ç¨‹1è¯»å–å˜é‡å€¼ï¼š\"); System.out.println(local.get()); //å°è¯•è·å–ThreadLocalä¸­å­˜æ”¾çš„å˜é‡ }); Thread t2 = new Thread(() -\u003e { local.set(\"yyds\"); //å°†å˜é‡çš„å€¼ç»™äºˆThreadLocal System.out.println(\"çº¿ç¨‹2å˜é‡å€¼å·²è®¾å®šï¼\"); }); t1.start(); Thread.sleep(1000); //é—´éš”1ç§’ t2.start(); } æˆ‘ä»¬å‘ç°ï¼Œå³ä½¿çº¿ç¨‹2é‡æ–°è®¾å®šäº†å€¼ï¼Œä¹Ÿæ²¡æœ‰å½±å“åˆ°çº¿ç¨‹1å­˜æ”¾çš„å€¼ï¼Œæ‰€ä»¥è¯´ï¼Œä¸åŒçº¿ç¨‹å‘ThreadLocalå­˜æ”¾æ•°æ®ï¼Œåªä¼šå­˜æ”¾åœ¨çº¿ç¨‹è‡ªå·±çš„å·¥ä½œç©ºé—´ä¸­ï¼Œè€Œä¸ä¼šç›´æ¥å­˜æ”¾åˆ°ä¸»å†…å­˜ä¸­ï¼Œå› æ­¤å„ä¸ªçº¿ç¨‹ç›´æ¥å­˜æ”¾çš„å†…å®¹äº’ä¸å¹²æ‰°ã€‚ æˆ‘ä»¬å‘ç°åœ¨çº¿ç¨‹ä¸­åˆ›å»ºçš„å­çº¿ç¨‹ï¼Œæ— æ³•è·å¾—çˆ¶çº¿ç¨‹å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼š public static void main(String[] args) { ThreadLocal\u003cString\u003e local = new ThreadLocal\u003c\u003e(); Thread t = new Thread(() -\u003e { local.set(\"lbwnb\"); new Thread(() -\u003e { System.out.println(local.get()); }).start(); }); t.start(); } æˆ‘ä»¬å¯ä»¥ä½¿ç”¨InheritableThreadLocalæ¥è§£å†³ï¼š public static void main(String[] args) { ThreadLocal\u003cString\u003e local = new InheritableThreadLocal\u003c\u003e(); Thread t = new Thread(() -\u003e { local.set(\"lbwnb\"); new Thread(() -\u003e { System.out.println(local.get()); }).start(); }); t.start(); } åœ¨InheritableThreadLocalå­˜æ”¾çš„å†…å®¹ï¼Œä¼šè‡ªåŠ¨å‘å­çº¿ç¨‹ä¼ é€’ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:5:5","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"å®šæ—¶å™¨ æˆ‘ä»¬æœ‰æ—¶å€™ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œæˆ‘å¸Œæœ›å®šæ—¶æ‰§è¡Œä»»åŠ¡ï¼Œæ¯”å¦‚3ç§’åæ‰§è¡Œï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨Thread.sleep()æ¥å®ç°ï¼š public static void main(String[] args) { new TimerTask(() -\u003e System.out.println(\"æˆ‘æ˜¯å®šæ—¶ä»»åŠ¡ï¼\"), 3000).start(); //åˆ›å»ºå¹¶å¯åŠ¨æ­¤å®šæ—¶ä»»åŠ¡ } static class TimerTask{ Runnable task; long time; public TimerTask(Runnable runnable, long time){ this.task = runnable; this.time = time; } public void start(){ new Thread(() -\u003e { try { Thread.sleep(time); task.run(); //ä¼‘çœ åå†è¿è¡Œ } catch (InterruptedException e) { e.printStackTrace(); } }).start(); } } æˆ‘ä»¬é€šè¿‡è‡ªè¡Œå°è£…ä¸€ä¸ªTimerTaskç±»ï¼Œå¹¶åœ¨å¯åŠ¨æ—¶ï¼Œå…ˆä¼‘çœ 3ç§’é’Ÿï¼Œå†æ‰§è¡Œæˆ‘ä»¬ä¼ å…¥çš„å†…å®¹ã€‚é‚£ä¹ˆç°åœ¨æˆ‘ä»¬å¸Œæœ›ï¼Œèƒ½å¦å¾ªç¯æ‰§è¡Œä¸€ä¸ªä»»åŠ¡å‘¢ï¼Ÿæ¯”å¦‚æˆ‘å¸Œæœ›æ¯éš”1ç§’é’Ÿæ‰§è¡Œä¸€æ¬¡ä»£ç ï¼Œè¿™æ ·è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ public static void main(String[] args) { new TimerLoopTask(() -\u003e System.out.println(\"æˆ‘æ˜¯å®šæ—¶ä»»åŠ¡ï¼\"), 3000).start(); //åˆ›å»ºå¹¶å¯åŠ¨æ­¤å®šæ—¶ä»»åŠ¡ } static class TimerLoopTask{ Runnable task; long loopTime; public TimerLoopTask(Runnable runnable, long loopTime){ this.task = runnable; this.loopTime = loopTime; } public void start(){ new Thread(() -\u003e { try { while (true){ //æ— é™å¾ªç¯æ‰§è¡Œ Thread.sleep(loopTime); task.run(); //ä¼‘çœ åå†è¿è¡Œ } } catch (InterruptedException e) { e.printStackTrace(); } }).start(); } } ç°åœ¨æˆ‘ä»¬å°†å•æ¬¡æ‰§è¡Œæ”¾å…¥åˆ°ä¸€ä¸ªæ— é™å¾ªç¯ä¸­ï¼Œè¿™æ ·å°±èƒ½ä¸€ç›´æ‰§è¡Œäº†ï¼Œå¹¶ä¸”æŒ‰ç…§æˆ‘ä»¬çš„é—´éš”æ—¶é—´è¿›è¡Œã€‚ ä½†æ˜¯ç»ˆç©¶æ˜¯æˆ‘ä»¬è‡ªå·±å®ç°ï¼Œå¯èƒ½å¾ˆå¤šæ–¹é¢è¿˜æ²¡è€ƒè™‘åˆ°ï¼ŒJavaä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€å¥—è‡ªå·±çš„æ¡†æ¶ç”¨äºå¤„ç†å®šæ—¶ä»»åŠ¡ï¼š public static void main(String[] args) { Timer timer = new Timer(); //åˆ›å»ºå®šæ—¶å™¨å¯¹è±¡ timer.schedule(new TimerTask() { //æ³¨æ„è¿™ä¸ªæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸æ˜¯æ¥å£ï¼Œæ— æ³•ä½¿ç”¨lambdaè¡¨è¾¾å¼ç®€åŒ–ï¼Œåªèƒ½ä½¿ç”¨åŒ¿åå†…éƒ¨ç±» @Override public void run() { System.out.println(Thread.currentThread().getName()); //æ‰“å°å½“å‰çº¿ç¨‹åç§° } }, 1000); //æ‰§è¡Œä¸€ä¸ªå»¶æ—¶ä»»åŠ¡ } æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªTimerç±»æ¥è®©å®ƒè¿›è¡Œå®šæ—¶ä»»åŠ¡è°ƒåº¦ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤å¯¹è±¡æ¥åˆ›å»ºä»»æ„ç±»å‹çš„å®šæ—¶ä»»åŠ¡ï¼ŒåŒ…å»¶æ—¶ä»»åŠ¡ã€å¾ªç¯å®šæ—¶ä»»åŠ¡ç­‰ã€‚æˆ‘ä»¬å‘ç°ï¼Œè™½ç„¶ä»»åŠ¡æ‰§è¡Œå®Œæˆäº†ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç¨‹åºå¹¶æ²¡æœ‰åœæ­¢ï¼Œè¿™æ˜¯å› ä¸ºTimerå†…å­˜ç»´æŠ¤äº†ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—å’Œä¸€ä¸ªå·¥ä½œçº¿ç¨‹ï¼š public class Timer { /** * The timer task queue. This data structure is shared with the timer * thread. The timer produces tasks, via its various schedule calls, * and the timer thread consumes, executing timer tasks as appropriate, * and removing them from the queue when they're obsolete. */ private final TaskQueue queue = new TaskQueue(); /** * The timer thread. */ private final TimerThread thread = new TimerThread(queue); ... } TimerThreadç»§æ‰¿è‡ªThreadï¼Œæ˜¯ä¸€ä¸ªæ–°åˆ›å»ºçš„çº¿ç¨‹ï¼Œåœ¨æ„é€ æ—¶è‡ªåŠ¨å¯åŠ¨ï¼š public Timer(String name) { thread.setName(name); thread.start(); } è€Œå®ƒçš„runæ–¹æ³•ä¼šå¾ªç¯åœ°è¯»å–é˜Ÿåˆ—ä¸­æ˜¯å¦è¿˜æœ‰ä»»åŠ¡ï¼Œå¦‚æœæœ‰ä»»åŠ¡ä¾æ¬¡æ‰§è¡Œï¼Œæ²¡æœ‰çš„è¯å°±æš‚æ—¶å¤„äºä¼‘çœ çŠ¶æ€ï¼š public void run() { try { mainLoop(); } finally { // Someone killed this Thread, behave as if Timer cancelled synchronized(queue) { newTasksMayBeScheduled = false; queue.clear(); // Eliminate obsolete references } } } /** * The main timer loop. (See class comment.) */ private void mainLoop() { try { TimerTask task; boolean taskFired; synchronized(queue) { // Wait for queue to become non-empty while (queue.isEmpty() \u0026\u0026 newTasksMayBeScheduled) //å½“é˜Ÿåˆ—ä¸ºç©ºåŒæ—¶æ²¡æœ‰è¢«å…³é—­æ—¶ï¼Œä¼šè°ƒç”¨wait()æ–¹æ³•æš‚æ—¶å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå½“æœ‰æ–°çš„ä»»åŠ¡æ—¶ï¼Œä¼šè¢«å”¤é†’ã€‚ queue.wait(); if (queue.isEmpty()) break; //å½“è¢«å”¤é†’åéƒ½æ²¡æœ‰ä»»åŠ¡æ—¶ï¼Œå°±ä¼šç»“æŸå¾ªç¯ï¼Œä¹Ÿå°±æ˜¯ç»“æŸå·¥ä½œçº¿ç¨‹ ... } newTasksMayBeScheduledå®é™…ä¸Šå°±æ˜¯æ ‡è®°å½“å‰å®šæ—¶å™¨æ˜¯å¦å…³é—­ï¼Œå½“å®ƒä¸ºfalseæ—¶ï¼Œè¡¨ç¤ºå·²ç»ä¸ä¼šå†æœ‰æ–°çš„ä»»åŠ¡åˆ°æ¥ï¼Œä¹Ÿå°±æ˜¯å…³é—­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨cancel()æ–¹æ³•æ¥å…³é—­å®ƒçš„å·¥ä½œçº¿ç¨‹ï¼š public void cancel() { synchronized(queue) { thread.newTasksMayBeScheduled = false; queue.clear(); queue.notify(); //å”¤é†’waitä½¿å¾—å·¥ä½œçº¿ç¨‹ç»“æŸ } } å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä½¿ç”¨å®Œæˆåï¼Œè°ƒç”¨Timerçš„cancel()æ–¹æ³•ä»¥æ­£å¸¸é€€å‡ºæˆ‘ä»¬çš„ç¨‹åºï¼š public static void main(String[] args) { Timer timer = new Timer(); timer.schedule(new TimerTask() { @Override public void run() { System.out.println(Thread.currentThread().getName()); timer.cancel(); //ç»“æŸ } }, 1000); } ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:6:0","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"å®ˆæŠ¤çº¿ç¨‹ ä¸è¦æŠŠå®ˆæŠ¤è¿›ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹ç›¸æå¹¶è®ºï¼å®ˆæŠ¤è¿›ç¨‹åœ¨åå°è¿è¡Œè¿è¡Œï¼Œä¸éœ€è¦å’Œç”¨æˆ·äº¤äº’ï¼Œæœ¬è´¨å’Œæ™®é€šè¿›ç¨‹ç±»ä¼¼ã€‚è€Œå®ˆæŠ¤çº¿ç¨‹å°±ä¸ä¸€æ ·äº†ï¼Œå½“å…¶ä»–æ‰€æœ‰çš„éå®ˆæŠ¤çº¿ç¨‹ç»“æŸä¹‹åï¼Œå®ˆæŠ¤çº¿ç¨‹æ˜¯è‡ªåŠ¨ç»“æŸï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaä¸­æ‰€æœ‰çš„çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œå®ˆæŠ¤çº¿ç¨‹è‡ªåŠ¨ç»“æŸï¼Œå› æ­¤å®ˆæŠ¤çº¿ç¨‹ä¸é€‚åˆè¿›è¡ŒIOæ“ä½œï¼Œåªé€‚åˆæ‰“æ‰“æ‚ï¼š public static void main(String[] args) throws InterruptedException{ Thread t = new Thread(() -\u003e { while (true){ try { System.out.println(\"ç¨‹åºæ­£å¸¸è¿è¡Œä¸­...\"); Thread.sleep(1000); } catch (InterruptedException e) { e.printStackTrace(); } } }); t.setDaemon(true); //è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼ˆå¿…é¡»åœ¨å¼€å§‹ä¹‹å‰ï¼Œä¸­é€”æ˜¯ä¸å…è®¸è½¬æ¢çš„ï¼‰ t.start(); for (int i = 0; i \u003c 5; i++) { Thread.sleep(1000); } } åœ¨å®ˆæŠ¤çº¿ç¨‹ä¸­äº§ç”Ÿçš„æ–°çº¿ç¨‹ä¹Ÿæ˜¯å®ˆæŠ¤çš„ï¼š public static void main(String[] args) throws InterruptedException{ Thread t = new Thread(() -\u003e { Thread it = new Thread(() -\u003e { while (true){ try { System.out.println(\"ç¨‹åºæ­£å¸¸è¿è¡Œä¸­...\"); Thread.sleep(1000); } catch (InterruptedException e) { e.printStackTrace(); } } }); it.start(); }); t.setDaemon(true); //è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼ˆå¿…é¡»åœ¨å¼€å§‹ä¹‹å‰ï¼Œä¸­é€”æ˜¯ä¸å…è®¸è½¬æ¢çš„ï¼‰ t.start(); for (int i = 0; i \u003c 5; i++) { Thread.sleep(1000); } } ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:7:0","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"å†è°ˆé›†åˆç±»å¹¶è¡Œæ–¹æ³• å…¶å®æˆ‘ä»¬ä¹‹å‰åœ¨è®²è§£é›†åˆç±»çš„æ ¹æ¥å£æ—¶ï¼Œå°±å‘ç°æœ‰è¿™æ ·ä¸€ä¸ªæ–¹æ³•ï¼š default Stream\u003cE\u003e parallelStream() { return StreamSupport.stream(spliterator(), true); } å¹¶è¡Œæµï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå¤šçº¿ç¨‹æ‰§è¡Œçš„æµï¼Œå®ƒé€šè¿‡é»˜è®¤çš„ForkJoinPoolå®ç°ï¼ˆè¿™é‡Œä¸è®²è§£åŸç†ï¼‰ï¼Œå®ƒå¯ä»¥æé«˜ä½ çš„å¤šçº¿ç¨‹ä»»åŠ¡çš„é€Ÿåº¦ã€‚ public static void main(String[] args) { List\u003cInteger\u003e list = new ArrayList\u003c\u003e(Arrays.asList(1, 4, 5, 2, 9, 3, 6, 0)); list .parallelStream() //è·å¾—å¹¶è¡Œæµ .forEach(i -\u003e System.out.println(Thread.currentThread().getName()+\" -\u003e \"+i)); } æˆ‘ä»¬å‘ç°ï¼ŒforEachæ“ä½œçš„é¡ºåºï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬å®é™…Listä¸­çš„é¡ºåºï¼ŒåŒæ—¶æ¯æ¬¡æ‰“å°ä¹Ÿæ˜¯ä¸åŒçš„çº¿ç¨‹åœ¨æ‰§è¡Œï¼æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨forEachOrdered()æ–¹æ³•æ¥ä½¿ç”¨å•çº¿ç¨‹ç»´æŒåŸæœ¬çš„é¡ºåºï¼š public static void main(String[] args) { List\u003cInteger\u003e list = new ArrayList\u003c\u003e(Arrays.asList(1, 4, 5, 2, 9, 3, 6, 0)); list .parallelStream() //è·å¾—å¹¶è¡Œæµ .forEachOrdered(System.out::println); } æˆ‘ä»¬ä¹‹å‰è¿˜å‘ç°ï¼Œåœ¨Arraysæ•°ç»„å·¥å…·ç±»ä¸­ï¼Œä¹ŸåŒ…å«å¤§é‡çš„å¹¶è¡Œæ–¹æ³•ï¼š public static void main(String[] args) { int[] arr = new int[]{1, 4, 5, 2, 9, 3, 6, 0}; Arrays.parallelSort(arr); //ä½¿ç”¨å¤šçº¿ç¨‹è¿›è¡Œå¹¶è¡Œæ’åºï¼Œæ•ˆç‡æ›´é«˜ System.out.println(Arrays.toString(arr)); } æ›´å¤šåœ°ä½¿ç”¨å¹¶è¡Œæ–¹æ³•ï¼Œå¯ä»¥æ›´åŠ å……åˆ†åœ°å‘æŒ¥ç°ä»£è®¡ç®—æœºå¤šæ ¸å¿ƒçš„ä¼˜åŠ¿ï¼Œä½†æ˜¯åŒæ—¶éœ€è¦æ³¨æ„å¤šçº¿ç¨‹äº§ç”Ÿçš„å¼‚æ­¥é—®é¢˜ï¼ public static void main(String[] args) { int[] arr = new int[]{1, 4, 5, 2, 9, 3, 6, 0}; Arrays.parallelSetAll(arr, i -\u003e { System.out.println(Thread.currentThread().getName()); return arr[i]; }); System.out.println(Arrays.toString(arr)); } é€šè¿‡å¯¹Javaå¤šçº¿ç¨‹çš„äº†è§£ï¼Œæˆ‘ä»¬å°±å…·å¤‡äº†åˆ©ç”¨å¤šçº¿ç¨‹è§£å†³é—®é¢˜çš„æ€ç»´ï¼ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:8:0","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaå¤šçº¿ç¨‹ç¼–ç¨‹å®æˆ˜ è¿™æ˜¯æ•´ä¸ªæ•™ç¨‹æœ€åä¸€ä¸ªç¼–ç¨‹å®æˆ˜å†…å®¹äº†ï¼Œä¸‹ä¸€ç« èŠ‚ä¸ºåå°„ä¸€èˆ¬å¼€å‘è€…ä½¿ç”¨æ¯”è¾ƒå°‘ï¼Œå±äºé€‰å­¦å†…å®¹ï¼Œä¸ç¼–æ’ç¼–ç¨‹å®æˆ˜è¯¾ç¨‹ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:9:0","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€… æ‰€è°“çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼Œæ˜¯é€šè¿‡ä¸€ä¸ªå®¹å™¨æ¥è§£å†³ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å¼ºè€¦åˆé—®é¢˜ã€‚é€šä¿—çš„è®²ï¼Œå°±æ˜¯ç”Ÿäº§è€…åœ¨ä¸æ–­çš„ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…ä¹Ÿåœ¨ä¸æ–­çš„æ¶ˆè´¹ï¼Œå¯æ˜¯æ¶ˆè´¹è€…æ¶ˆè´¹çš„äº§å“æ˜¯ç”Ÿäº§è€…ç”Ÿäº§çš„ï¼Œè¿™å°±å¿…ç„¶å­˜åœ¨ä¸€ä¸ªä¸­é—´å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå®¹å™¨æƒ³è±¡æˆæ˜¯ä¸€ä¸ªè´§æ¶ï¼Œå½“è´§æ¶ç©ºçš„æ—¶å€™ï¼Œç”Ÿäº§è€…è¦ç”Ÿäº§äº§å“ï¼Œæ­¤æ—¶æ¶ˆè´¹è€…åœ¨ç­‰å¾…ç”Ÿäº§è€…å¾€è´§æ¶ä¸Šç”Ÿäº§äº§å“ï¼Œè€Œå½“è´§æ¶æœ‰è´§ç‰©çš„æ—¶å€™ï¼Œæ¶ˆè´¹è€…å¯ä»¥ä»è´§æ¶ä¸Šæ‹¿èµ°å•†å“ï¼Œç”Ÿäº§è€…æ­¤æ—¶ç­‰å¾…è´§æ¶å‡ºç°ç©ºä½ï¼Œè¿›è€Œè¡¥è´§ï¼Œè¿™æ ·ä¸æ–­çš„å¾ªç¯ã€‚ é€šè¿‡å¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œæ¥æ¨¡æ‹Ÿä¸€ä¸ªé¤å…çš„2ä¸ªå¨å¸ˆå’Œ3ä¸ªé¡¾å®¢ï¼Œå‡è®¾å¨å¸ˆç‚’å‡ºä¸€ä¸ªèœçš„æ—¶é—´ä¸º3ç§’ï¼Œé¡¾å®¢åƒæ‰èœå“çš„æ—¶é—´ä¸º4ç§’ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/:9:1","tags":["Javaå¤šçº¿ç¨‹"],"title":"Javaå¤šçº¿ç¨‹","uri":"/posts/java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"},{"categories":["JavaSEç¬”è®°"],"content":"javaé¢å‘å¯¹è±¡","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaå¯¹è±¡å’Œå¤šæ€ ï¼ˆé¢å‘å¯¹è±¡ï¼‰ é…å¥—è§†é¢‘ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:0:0","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"é¢å‘å¯¹è±¡åŸºç¡€ é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡(Object Oriented Programming) å¯¹è±¡åŸºäºç±»åˆ›å»ºï¼Œç±»ç›¸å½“äºä¸€ä¸ªæ¨¡æ¿ï¼Œå¯¹è±¡å°±æ˜¯æ ¹æ®æ¨¡æ¿åˆ›å»ºå‡ºæ¥çš„å®ä½“ï¼ˆå°±åƒåšæœˆé¥¼ï¼Œæˆ‘ä»¬è¦åšä¸€ä¸ªæœˆé¥¼é¦–å…ˆéœ€è¦ä¸€ä¸ªæ¨¡å…·ï¼Œæ¨¡å…·å°±æ˜¯æˆ‘ä»¬çš„ç±»ï¼Œè€Œåšå‡ºæ¥çš„æœˆé¥¼ï¼Œå°±æ˜¯ç±»çš„å®ç°ï¼Œä¹Ÿå«åšå¯¹è±¡ï¼‰ï¼Œç±»æ˜¯æŠ½è±¡çš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸èƒ½ä»£è¡¨æŸä¸€ä¸ªå…·ä½“çš„äº‹ç‰©ï¼Œç±»æ˜¯å¯¹è±¡çš„ä¸€ä¸ªæ¨¡æ¿ã€‚ç±»å…·æœ‰è‡ªå·±çš„å±æ€§ï¼ŒåŒ…æ‹¬æˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ç±»çš„æˆå‘˜æ–¹æ³•æ¥è®©ç±»è¿›è¡Œä¸€äº›æ“ä½œã€‚ Scanner sc = new Scanner(System.in); String str = sc.nextLine(); System.out.println(\"ä½ è¾“å…¥äº†ï¼š\"+str); sc.close(); æ‰€æœ‰çš„å¯¹è±¡ï¼Œéƒ½éœ€è¦é€šè¿‡newå…³é”®å­—åˆ›å»ºï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¸æ˜¯å¯¹è±¡ï¼Javaä¸æ˜¯çº¯é¢å¯¹å¯¹è±¡è¯­è¨€ï¼ ä¸æ˜¯åŸºæœ¬ç±»å‹çš„å˜é‡ï¼Œéƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œå¼•ç”¨ç±»å‹å˜é‡ä»£è¡¨ä¸€ä¸ªå¯¹è±¡ï¼Œè€ŒåŸºæœ¬æ•°æ®ç±»å‹å˜é‡ï¼Œä¿å­˜çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•ç”¨æ¥å¯¹å¯¹è±¡è¿›è¡Œæ“ä½œã€‚ï¼ˆæœ€å¥½ä¸è¦ç†è§£ä¸ºå¼•ç”¨æŒ‡å‘å¯¹è±¡çš„åœ°å€ï¼Œåˆå­¦è€…ä¸è¦è°ˆå†…å­˜ï¼Œå­¦åˆ°JVMæ—¶å†æ¥è®¨è®ºï¼‰ å¯¹è±¡å ç”¨çš„å†…å­˜ç”±JVMç»Ÿä¸€ç®¡ç†ï¼Œä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ä¸å†ä½¿ç”¨æ—¶ï¼ˆæ¯”å¦‚å¤±å»å¼•ç”¨æˆ–æ˜¯ç¦»å¼€äº†ä½œç”¨åŸŸï¼‰ä¼šè¢«JVMè‡ªåŠ¨æ¸…ç†ï¼Œå†…å­˜ç®¡ç†æ›´æ–¹ä¾¿ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:1:0","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"ç±»çš„åŸºæœ¬ç»“æ„ ä¸ºäº†å¿«é€ŸæŒæ¡ï¼Œæˆ‘ä»¬è‡ªå·±åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ç±»ï¼Œåˆ›å»ºçš„ç±»æ–‡ä»¶åç§°åº”è¯¥å’Œç±»åä¸€è‡´ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:2:0","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"æˆå‘˜å˜é‡ åœ¨ç±»ä¸­ï¼Œå¯ä»¥åŒ…å«è®¸å¤šçš„æˆå‘˜å˜é‡ï¼Œä¹Ÿå«æˆå‘˜å±æ€§ï¼Œæˆå‘˜å­—æ®µ(field)é€šè¿‡.æ¥è®¿é—®æˆ‘ä»¬ç±»ä¸­çš„æˆå‘˜å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»åˆ›å»ºçš„å¯¹è±¡æ¥è®¿é—®å’Œä¿®æ”¹è¿™äº›å˜é‡ã€‚æˆå‘˜å˜é‡æ˜¯å±äºå¯¹è±¡çš„ï¼ public class Test { int age; String name; } public static void main(String[] args) { Test test = new Test(); test.name = \"å¥¥åˆ©ç»™\"; System.out.println(test.name); } æˆå‘˜å˜é‡é»˜è®¤å¸¦æœ‰åˆå§‹å€¼ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰åˆå§‹å€¼ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:2:1","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"æˆå‘˜æ–¹æ³• æˆ‘ä»¬ä¹‹å‰çš„å­¦ä¹ ä¸­æ¥è§¦è¿‡æ–¹æ³•(Method)å—ï¼Ÿä¸»æ–¹æ³•ï¼ public static void main(String[] args) { //Body } æ–¹æ³•æ˜¯è¯­å¥çš„é›†åˆï¼Œæ˜¯ä¸ºäº†å®ŒæˆæŸä»¶äº‹æƒ…è€Œå­˜åœ¨çš„ã€‚å®ŒæˆæŸä»¶äº‹æƒ…ï¼Œå¯ä»¥æœ‰ç»“æœï¼Œä¹Ÿå¯ä»¥åšäº†å°±åšäº†ï¼Œä¸è¿”å›ç»“æœã€‚æ¯”å¦‚è®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œï¼Œæˆ‘ä»¬éœ€è¦å¾—åˆ°è®¡ç®—åçš„ç»“æœï¼Œæ‰€ä»¥è¯´æ–¹æ³•éœ€è¦æœ‰è¿”å›å€¼ï¼›åˆæ¯”å¦‚ï¼Œæˆ‘ä»¬åªæƒ³å§æ•°å­—æ‰“å°åœ¨æ§åˆ¶å°ï¼Œåªéœ€è¦æ‰“å°å°±è¡Œï¼Œä¸ç”¨ç»™æˆ‘ç»“æœï¼Œæ‰€ä»¥è¯´æ–¹æ³•ä¸éœ€è¦æœ‰è¿”å›å€¼ã€‚ æ–¹æ³•çš„å®šä¹‰å’Œä½¿ç”¨ åœ¨ç±»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰è‡ªå·±çš„æ–¹æ³•ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š [è¿”å›å€¼ç±»å‹] æ–¹æ³•åç§°([å‚æ•°]){ //æ–¹æ³•ä½“ return ç»“æœ; } è¿”å›å€¼ç±»å‹ï¼šå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹å’ŒåŸºæœ¬ç±»å‹ï¼Œè¿˜å¯ä»¥æ˜¯voidï¼Œè¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼ æ–¹æ³•åç§°ï¼šå’Œæ ‡è¯†ç¬¦çš„è§„åˆ™ä¸€è‡´ï¼Œå’Œå˜é‡ä¸€æ ·ï¼Œè§„èŒƒå°å†™å­—æ¯å¼€å¤´ï¼ å‚æ•°ï¼šä¾‹å¦‚æ–¹æ³•éœ€è¦è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦æŠŠä¸¤ä¸ªæ•°åˆ°åº•æ˜¯ä»€ä¹ˆå‘Šè¯‰æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒä»¬å°±å¯ä»¥ä½œä¸ºå‚æ•°ä¼ å…¥æ–¹æ³• æ–¹æ³•ä½“ï¼šæ–¹æ³•å…·ä½“è¦å¹²çš„äº‹æƒ… ç»“æœï¼šæ–¹æ³•æ‰§è¡Œçš„ç»“æœé€šè¿‡returnè¿”å›ï¼ˆå¦‚æœè¿”å›ç±»å‹ä¸ºvoidï¼Œå¯ä»¥çœç•¥returnï¼‰ évoidæ–¹æ³•ä¸­ï¼Œreturnå…³é”®å­—ä¸ä¸€å®šéœ€è¦æ”¾åœ¨æœ€åï¼Œä½†æ˜¯ä¸€å®šè¦ä¿è¯æ–¹æ³•åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½å…·æœ‰è¿”å›å€¼ï¼ int test(int a){ if(a \u003e 0){ //ç¼ºå°‘retrunè¯­å¥ï¼ }else{ return 0; } } returnä¹Ÿèƒ½ç”¨æ¥æå‰ç»“æŸæ•´ä¸ªæ–¹æ³•ï¼Œæ— è®ºæ­¤æ—¶ç¨‹åºæ‰§è¡Œåˆ°ä½•å¤„ï¼Œæ— è®ºreturnä½äºå“ªé‡Œï¼Œéƒ½ä¼šç«‹å³ç»“æŸä¸ªæ–¹æ³•ï¼ void main(String[] args) { for (int i = 0; i \u003c 10; i++) { if(i == 1) return; //åœ¨å¾ªç¯å†…è¿”å›äº†ï¼å’ŒbreakåŒºåˆ«ï¼Ÿ } System.out.println(\"æ·¦\"); //è¿˜ä¼šåˆ°è¿™é‡Œå—ï¼Ÿ } ä¼ å…¥æ–¹æ³•çš„å‚æ•°ï¼Œå¦‚æœæ˜¯åŸºæœ¬ç±»å‹ï¼Œä¼šåœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œå¯¹å‚æ•°çš„å€¼è¿›è¡Œå¤åˆ¶ï¼Œæ–¹æ³•ä¸­çš„å‚æ•°å˜é‡ï¼Œä¸æ˜¯æˆ‘ä»¬ä¼ å…¥çš„å˜é‡æœ¬èº«ï¼ public static void main(String[] args) { int a = 10, b = 20; new Test().swap(a, b); System.out.println(\"a=\"+a+\", b=\"+b); } public class Test{ void swap(int a, int b){ //ä¼ é€’çš„ä»…ä»…æ˜¯å€¼è€Œå·²ï¼ int temp = a; a = b; b = temp; } } ä¼ å…¥æ–¹æ³•çš„å‚æ•°ï¼Œå¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆä¼ å…¥çš„ä¾ç„¶æ˜¯è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼ï¼ˆç±»ä¼¼äºCè¯­è¨€çš„æŒ‡é’ˆï¼‰ public class B{ String name; } public class A{ void test(B b){ //ä¼ é€’çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å€¼ System.out.println(b.name); } } public static void main(String[] args) { int a = 10, b = 20; B b = new B(); b.name = \"lbw\"; new A().test(b); System.out.println(\"a=\"+a+\", b=\"+b); } æ–¹æ³•ä¹‹é—´å¯ä»¥ç›¸äº’è°ƒç”¨ void a(){ //xxxx } void b(){ a(); } å½“æ–¹æ³•åœ¨è‡ªå·±å†…éƒ¨è°ƒç”¨è‡ªå·±æ—¶ï¼Œç§°ä¸ºé€’å½’è°ƒç”¨ï¼ˆé€’å½’å¾ˆå±é™©ï¼Œæ…é‡ï¼ï¼‰ int a(){ return a(); } æˆå‘˜æ–¹æ³•å’Œæˆå‘˜å˜é‡ä¸€æ ·ï¼Œæ˜¯å±äºå¯¹è±¡çš„ï¼Œåªèƒ½é€šè¿‡å¯¹è±¡å»è°ƒç”¨ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:2:2","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å¯¹è±¡è®¾è®¡ç»ƒä¹  å­¦ç”Ÿåº”è¯¥å…·æœ‰ä»¥ä¸‹å±æ€§ï¼šåå­—ã€å¹´é¾„ å­¦ç”Ÿåº”è¯¥å…·æœ‰ä»¥ä¸‹è¡Œä¸ºï¼šå­¦ä¹ ã€è¿åŠ¨ã€è¯´è¯ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:2:3","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"æ–¹æ³•çš„é‡è½½ ä¸€ä¸ªç±»ä¸­å¯ä»¥åŒ…å«å¤šä¸ªåŒåçš„æ–¹æ³•ï¼Œä½†æ˜¯éœ€è¦çš„å½¢å¼å‚æ•°ä¸ä¸€æ ·ã€‚ï¼ˆè¡¥å……ï¼šå½¢å¼å‚æ•°å°±æ˜¯å®šä¹‰æ–¹æ³•éœ€è¦çš„å‚æ•°ï¼Œå®é™…å‚æ•°å°±ä¼ å…¥çš„å‚æ•°ï¼‰æ–¹æ³•çš„è¿”å›ç±»å‹ï¼Œå¯ä»¥ç›¸åŒï¼Œä¹Ÿå¯ä»¥ä¸åŒï¼Œä½†æ˜¯ä»…è¿”å›ç±»å‹ä¸åŒï¼Œæ˜¯ä¸å…è®¸çš„ï¼ public class Test { int a(){ //åŸæœ¬çš„æ–¹æ³• return 1; } int a(int i){ //okï¼Œå½¢å‚ä¸åŒ return i; } void a(byte i){ //okï¼Œè¿”å›ç±»å‹å’Œå½¢å‚éƒ½ä¸åŒ } void a(){ //é”™è¯¯ï¼Œä»…è¿”å›å€¼ç±»å‹åç§°ä¸åŒä¸èƒ½é‡è½½ } } ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸åŒçš„å‚æ•°ï¼Œä½†æ˜¯æ”¯æŒè°ƒç”¨åŒæ ·çš„æ–¹æ³•ï¼Œæ‰§è¡Œä¸€æ ·çš„é€»è¾‘ï¼š public class Test { int sum(int a, int b){ //åªæœ‰intæ”¯æŒï¼Œä¸çµæ´»ï¼ return a+b; } double sum(double a, double b){ //é‡å†™ä¸€ä¸ªdoubleç±»å‹çš„ï¼Œå°±æ”¯æŒå°æ•°è®¡ç®—äº† return a+b; } } ç°åœ¨æˆ‘ä»¬æœ‰å¾ˆå¤šç§é‡å†™çš„æ–¹æ³•ï¼Œé‚£ä¹ˆä¼ å…¥å®å‚åï¼Œåˆ°åº•è¿›äº†å“ªä¸ªæ–¹æ³•å‘¢ï¼Ÿ public class Test { void a(int i){ System.out.println(\"è°ƒç”¨äº†int\"); } void a(short i){ System.out.println(\"è°ƒç”¨äº†short\"); } void a(long i){ System.out.println(\"è°ƒç”¨äº†long\"); } void a(char i){ System.out.println(\"è°ƒç”¨äº†char\"); } void a(double i){ System.out.println(\"è°ƒç”¨äº†double\"); } void a(float i){ System.out.println(\"è°ƒç”¨äº†float\"); } public static void main(String[] args) { Test test = new Test(); test.a(1); //ç›´æ¥è¾“å…¥æ•´æ•° test.a(1.0); //ç›´æ¥è¾“å…¥å°æ•° short s = 2; test.a(s); //ä¼šå¯¹å·å…¥åº§å—ï¼Ÿ test.a(1.0F); } } ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:2:4","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"æ„é€ æ–¹æ³• æ„é€ æ–¹æ³•ï¼ˆæ„é€ å™¨ï¼‰æ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼Œè¿”å›çš„æ˜¯å½“å‰å¯¹è±¡çš„å¼•ç”¨ï¼æ¯ä¸€ä¸ªç±»éƒ½é»˜è®¤è‡ªå¸¦ä¸€ä¸ªæ— å‚æ„é€ æ–¹æ³•ã€‚ //åç¼–è¯‘ç»“æœ package com.test; public class Test { public Test() { //å³ä½¿ä½ ä»€ä¹ˆéƒ½ä¸ç¼–å†™ï¼Œä¹Ÿè‡ªå¸¦ä¸€ä¸ªæ— å‚æ„é€ æ–¹æ³•ï¼Œåªæ˜¯é»˜è®¤æ˜¯éšè—çš„ } } åç¼–è¯‘å…¶å®å°±æ˜¯æŠŠæˆ‘ä»¬ç¼–è¯‘å¥½çš„classæ–‡ä»¶å˜å›Javaæºä»£ç ã€‚ Test test = new Test(); //å®é™…ä¸Šå­˜åœ¨Test()è¿™ä¸ªçš„æ–¹æ³•ï¼Œnewå…³é”®å­—å°±æ˜¯ç”¨æ¥åˆ›å»ºå¹¶å¾—åˆ°å¼•ç”¨çš„ // new + ä½ æƒ³è¦ä½¿ç”¨çš„æ„é€ æ–¹æ³• è¿™ç§æ–¹æ³•æ²¡æœ‰å†™æ˜è¿”å›å€¼ï¼Œä½†æ˜¯æ¯ä¸ªç±»éƒ½å¿…é¡»å…·æœ‰è¿™ä¸ªæ–¹æ³•ï¼åªæœ‰è°ƒç”¨ç±»çš„æ„é€ æ–¹æ³•ï¼Œæ‰èƒ½åˆ›å»ºç±»çš„å¯¹è±¡ï¼ ç±»è¦åœ¨ä¸€å¼€å§‹å‡†å¤‡çš„æ‰€æœ‰ä¸œè¥¿ï¼Œéƒ½ä¼šåœ¨æ„é€ æ–¹æ³•é‡Œé¢æ‰§è¡Œï¼Œå®Œæˆæ„é€ æ–¹æ³•çš„å†…å®¹åï¼Œæ‰èƒ½åˆ›å»ºå‡ºå¯¹è±¡ï¼ ä¸€èˆ¬æœ€å¸¸ç”¨çš„å°±æ˜¯ç»™æˆå‘˜å±æ€§èµ‹åˆå§‹å€¼ï¼š public class Student { String name; Student(){ name = \"ä¼å…µä¸€å·\"; } } æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æŒ‡å®šæœ‰å‚æ„é€ ï¼Œå½“é‡åˆ°åç§°å†²çªæ—¶ï¼Œéœ€è¦ç”¨åˆ°thiså…³é”®å­— public class Student { String name; Student(String name){ //å½¢å‚å’Œç±»æˆå‘˜å˜é‡å†²çªäº†ï¼ŒJavaä¼šä¼˜å…ˆä½¿ç”¨å½¢å¼å‚æ•°å®šä¹‰çš„å˜é‡ï¼ this.name = name; //é€šè¿‡thisæŒ‡ä»£å½“å‰çš„å¯¹è±¡å±æ€§ï¼Œthiså°±ä»£è¡¨å½“å‰å¯¹è±¡ } } //idea å³é”®å¿«é€Ÿç”Ÿæˆï¼ æ³¨æ„ï¼Œthisåªèƒ½ç”¨äºæŒ‡ä»£å½“å‰å¯¹è±¡çš„å†…å®¹ï¼Œå› æ­¤ï¼Œåªæœ‰å±äºå¯¹è±¡æ‹¥æœ‰çš„éƒ¨åˆ†æ‰å¯ä»¥ä½¿ç”¨thisï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½åœ¨ç±»çš„æˆå‘˜æ–¹æ³•ä¸­ä½¿ç”¨thisï¼Œä¸èƒ½åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨thiså…³é”®å­—ã€‚ åœ¨æˆ‘ä»¬å®šä¹‰äº†æ–°çš„æœ‰å‚æ„é€ ä¹‹åï¼Œé»˜è®¤çš„æ— å‚æ„é€ ä¼šè¢«è¦†ç›–ï¼ //åç¼–è¯‘åä¾ç„¶åªæœ‰æˆ‘ä»¬å®šä¹‰çš„æœ‰å‚æ„é€ ï¼ å¦‚æœåŒæ—¶éœ€è¦æœ‰å‚å’Œæ— å‚æ„é€ ï¼Œé‚£ä¹ˆå°±éœ€è¦ç”¨åˆ°æ–¹æ³•çš„é‡è½½ï¼æ‰‹åŠ¨å†å»å®šä¹‰ä¸€ä¸ªæ— å‚æ„é€ ã€‚ public class Student { String name; Student(){ } Student(String name){ this.name = name; } } æˆå‘˜å˜é‡çš„åˆå§‹åŒ–å§‹ç»ˆåœ¨æ„é€ æ–¹æ³•æ‰§è¡Œä¹‹å‰ public class Student { String a = \"sadasa\"; Student(){ System.out.println(a); } public static void main(String[] args) { Student s = new Student(); } } ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:2:5","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"é™æ€å˜é‡å’Œé™æ€æ–¹æ³• é™æ€å˜é‡å’Œé™æ€æ–¹æ³•æ˜¯ç±»å…·æœ‰çš„å±æ€§ï¼ˆåé¢è¿˜ä¼šæåˆ°é™æ€ç±»ã€é™æ€ä»£ç å—ï¼‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ˜¯æ‰€æœ‰å¯¹è±¡å…±äº«çš„å†…å®¹ã€‚æˆ‘ä»¬é€šè¿‡ä½¿ç”¨staticå…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå˜é‡æˆ–ä¸€ä¸ªæ–¹æ³•ä¸ºé™æ€çš„ï¼Œä¸€æ—¦è¢«å£°æ˜ä¸ºé™æ€ï¼Œé‚£ä¹ˆé€šè¿‡è¿™ä¸ªç±»åˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡ï¼Œæ“ä½œçš„éƒ½æ˜¯åŒä¸€ä¸ªç›®æ ‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹è±¡å†å¤šï¼Œä¹Ÿåªæœ‰è¿™ä¸€ä¸ªé™æ€çš„å˜é‡æˆ–æ–¹æ³•ã€‚é‚£ä¹ˆï¼Œä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†é™æ€å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆå…¶ä»–çš„å¯¹è±¡è¯»å–çš„å°±æ˜¯è¢«æ”¹å˜çš„å€¼ã€‚ public class Student { static int a; } public static void main(String[] args) { Student s1 = new Student(); s1.a = 10; Student s2 = new Student(); System.out.println(s2.a); } ä¸æ¨èä½¿ç”¨å¯¹è±¡æ¥è°ƒç”¨ï¼Œè¢«æ ‡è®°ä¸ºé™æ€çš„å†…å®¹ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»å.xxxçš„å½¢å¼è®¿é—® public static void main(String[] args) { Student.a = 10; System.out.println(Student.a); } ç®€è¿°ç±»åŠ è½½æœºåˆ¶ ç±»å¹¶ä¸æ˜¯åœ¨ä¸€å¼€å§‹å°±å…¨éƒ¨åŠ è½½å¥½ï¼Œè€Œæ˜¯åœ¨éœ€è¦æ—¶æ‰ä¼šå»åŠ è½½ï¼ˆæå‡é€Ÿåº¦ï¼‰ä»¥ä¸‹æƒ…å†µä¼šåŠ è½½ç±»ï¼š è®¿é—®ç±»çš„é™æ€å˜é‡ï¼Œæˆ–è€…ä¸ºé™æ€å˜é‡èµ‹å€¼ new åˆ›å»ºç±»çš„å®ä¾‹ï¼ˆéšå¼åŠ è½½ï¼‰ è°ƒç”¨ç±»çš„é™æ€æ–¹æ³• å­ç±»åˆå§‹åŒ–æ—¶ å…¶ä»–çš„æƒ…å†µä¼šåœ¨è®²åˆ°åå°„æ—¶ä»‹ç» æ‰€æœ‰è¢«æ ‡è®°ä¸ºé™æ€çš„å†…å®¹ï¼Œä¼šåœ¨ç±»åˆšåŠ è½½çš„æ—¶å€™å°±åˆ†é…ï¼Œè€Œä¸æ˜¯åœ¨å¯¹è±¡åˆ›å»ºçš„æ—¶å€™åˆ†é…ï¼Œæ‰€ä»¥è¯´é™æ€å†…å®¹ä¸€å®šä¼šåœ¨ç¬¬ä¸€ä¸ªå¯¹è±¡åˆå§‹åŒ–ä¹‹å‰å®ŒæˆåŠ è½½ã€‚ public class Student { static int a = test(); //ç›´æ¥è°ƒç”¨é™æ€æ–¹æ³•ï¼Œåªèƒ½è°ƒç”¨é™æ€æ–¹æ³• Student(){ System.out.println(\"æ„é€ ç±»å¯¹è±¡\"); } static int test(){ //é™æ€æ–¹æ³•åˆšåŠ è½½æ—¶å°±æœ‰äº† System.out.println(\"åˆå§‹åŒ–å˜é‡a\"); return 1; } } æ€è€ƒï¼šä¸‹é¢è¿™ç§æƒ…å†µä¸‹ï¼Œç¨‹åºèƒ½æ­£å¸¸è¿è¡Œå—ï¼Ÿå¦‚æœèƒ½ï¼Œä¼šè¾“å‡ºä»€ä¹ˆå†…å®¹ï¼Ÿ public class Student { static int a = test(); static int test(){ return a; } public static void main(String[] args) { System.out.println(Student.a); } } å®šä¹‰å’Œèµ‹å€¼æ˜¯ä¸¤ä¸ªé˜¶æ®µï¼Œåœ¨å®šä¹‰æ—¶ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼ˆä¸Šé¢è®²çš„ï¼Œç±»çš„æˆå‘˜å˜é‡ä¼šæœ‰é»˜è®¤å€¼ï¼‰å®šä¹‰å‡ºæ¥ä¹‹åï¼Œå¦‚æœå‘ç°æœ‰èµ‹å€¼è¯­å¥ï¼Œå†è¿›è¡Œèµ‹å€¼ï¼Œè€Œè¿™æ—¶ï¼Œè°ƒç”¨äº†é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥è¯´ä¼šå…ˆå»åŠ è½½é™æ€æ–¹æ³•ï¼Œé™æ€æ–¹æ³•è°ƒç”¨æ—¶æ‹¿åˆ°aï¼Œè€Œaè¿™æ—¶ä»…ä»…æ˜¯åˆšå®šä¹‰ï¼Œæ‰€ä»¥è¯´è¿˜æ˜¯åˆå§‹å€¼ï¼Œæœ€åå¾—åˆ°0 ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:2:6","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"ä»£ç å—å’Œé™æ€ä»£ç å— ä»£ç å—åœ¨å¯¹è±¡åˆ›å»ºæ—¶æ‰§è¡Œï¼Œä¹Ÿæ˜¯å±äºç±»çš„å†…å®¹ï¼Œä½†æ˜¯å®ƒåœ¨æ„é€ æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼ˆå’Œæˆå‘˜å˜é‡åˆå§‹å€¼ä¸€æ ·ï¼‰ï¼Œä¸”æ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œåªæ‰§è¡Œä¸€æ¬¡ï¼ï¼ˆç›¸å½“äºæ„é€ ä¹‹å‰çš„å‡†å¤‡å·¥ä½œï¼‰ public class Student { { System.out.println(\"æˆ‘æ˜¯ä»£ç å—\"); } Student(){ System.out.println(\"æˆ‘æ˜¯æ„é€ æ–¹æ³•\"); } } é™æ€ä»£ç å—å’Œä¸Šé¢çš„é™æ€æ–¹æ³•å’Œé™æ€å˜é‡ä¸€æ ·ï¼Œåœ¨ç±»åˆšåŠ è½½æ—¶å°±ä¼šè°ƒç”¨ï¼› public class Student { static int a; static { a = 10; } public static void main(String[] args) { System.out.println(Student.a); } } ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:2:7","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"Stringå’ŒStringBuilderç±» å­—ç¬¦ä¸²ç±»æ˜¯ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç±»ï¼Œä»–æ˜¯Javaä¸­å”¯ä¸€é‡è½½è¿ç®—ç¬¦çš„ç±»ï¼(Javaä¸æ”¯æŒè¿ç®—ç¬¦é‡è½½ï¼ŒStringæ˜¯ç‰¹ä¾‹) Stringçš„å¯¹è±¡ç›´æ¥æ”¯æŒä½¿ç”¨+æˆ–+=è¿ç®—ç¬¦æ¥è¿›è¡Œæ‹¼æ¥ï¼Œå¹¶å½¢æˆæ–°çš„Stringå¯¹è±¡ï¼ï¼ˆStringçš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼ï¼‰ String a = \"dasdsa\", b = \"dasdasdsa\"; String l = a+b; System.out.println(l); å¤§é‡è¿›è¡Œå­—ç¬¦ä¸²çš„æ‹¼æ¥ä¼¼ä¹ä¸å¤ªå¥½ï¼Œç¼–è¯‘å™¨æ˜¯å¾ˆèªæ˜çš„ï¼ŒStringçš„æ‹¼æ¥æœ‰å¯èƒ½ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–ä¸ºStringBuilderæ¥å‡å°‘å¯¹è±¡åˆ›å»ºï¼ˆå¯¹è±¡é¢‘ç¹åˆ›å»ºæ—¶å¾ˆè´¹æ—¶é—´åŒæ—¶å å†…å­˜çš„ï¼ï¼‰ String result=\"String\"+\"and\"; //ä¼šè¢«ä¼˜åŒ–æˆä¸€å¥ï¼ String str1=\"String\"; String str2=\"and\"; String result=str1+str2; //å˜é‡éšæ—¶å¯å˜ï¼Œåœ¨ç¼–è¯‘æ—¶æ— æ³•ç¡®å®šresultçš„å€¼ï¼Œé‚£ä¹ˆåªèƒ½åœ¨è¿è¡Œæ—¶å†å»ç¡®å®š String str1=\"String\"; String str2=\"and\"; String result=(new StringBuilder(String.valueOf(str1))).append(str2).toString(); //ä½¿ç”¨StringBuilderï¼Œä¼šé‡‡ç”¨ç±»ä¼¼äºç¬¬ä¸€ç§å®ç°ï¼Œæ˜¾ç„¶ä¼šæ›´å¿«ï¼ StringBuilderä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œä½†æ˜¯å®ƒèƒ½å¤Ÿå­˜å‚¨å¯å˜é•¿åº¦çš„å­—ç¬¦ä¸²ï¼ StringBuilder builder = new StringBuilder(); builder .append(\"a\") .append(\"bc\") .append(\"d\"); //é“¾å¼è°ƒç”¨ String str = builder.toString(); System.out.println(str); ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:2:8","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"åŒ…å’Œè®¿é—®æ§åˆ¶ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:3:0","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"åŒ…å£°æ˜å’Œå¯¼å…¥ åŒ…å…¶å®å°±æ˜¯ç”¨æ¥åŒºåˆ†ç±»ä½ç½®çš„ä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å°†æˆ‘ä»¬çš„ç±»è¿›è¡Œåˆ†ç±»ï¼Œç±»ä¼¼äºC++ä¸­çš„namespaceï¼ package com.test; public class Test{ } åŒ…å…¶å®æ˜¯æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚com.testå°±æ˜¯ä¸€ä¸ªcomæ–‡ä»¶å¤¹ä¸­åŒ…å«ä¸€ä¸ªtestæ–‡ä»¶å¤¹ï¼Œå†åŒ…å«æˆ‘ä»¬Testç±»ã€‚ ä¸€èˆ¬åŒ…æŒ‰ç…§ä¸ªäººæˆ–æ˜¯å…¬å¸åŸŸåçš„è§„åˆ™å€’è¿‡æ¥å†™ é¡¶çº§åŸŸå.ä¸€çº§åŸŸå.äºŒçº§åŸŸå com.java.xxxx å¦‚æœéœ€è¦ä½¿ç”¨å…¶ä»–åŒ…é‡Œé¢çš„ç±»ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦importï¼ˆç±»ä¼¼äºC/C++ä¸­çš„includeï¼‰ import com.test.Student; ä¹Ÿå¯ä»¥å¯¼å…¥åŒ…ä¸‹çš„å…¨éƒ¨ï¼ˆä¸€èˆ¬å¯¼å…¥ä¼šç”±ç¼–è¯‘å™¨è‡ªå¸¦å¸®æˆ‘ä»¬è¡¥å…¨ï¼Œä½†æ˜¯ä¸€å®šè¦è®°å¾—æˆ‘ä»¬éœ€è¦å¯¼åŒ…ï¼ï¼‰ import com.test.* Javaé»˜è®¤ä¸ºæˆ‘ä»¬å¯¼å…¥äº†ä»¥ä¸‹çš„åŒ…ï¼Œä¸éœ€è¦å»å£°æ˜ import java.lang.* ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:3:1","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"é™æ€å¯¼å…¥ é™æ€å¯¼å…¥å¯ä»¥ç›´æ¥å¯¼å…¥æŸä¸ªç±»çš„é™æ€æ–¹æ³•æˆ–è€…æ˜¯é™æ€å˜é‡ï¼Œå¯¼å…¥åï¼Œç›¸å½“äºè¿™ä¸ªæ–¹æ³•æˆ–æ˜¯ç±»åœ¨å®šä¹‰åœ¨å½“å‰ç±»ä¸­ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•ã€‚ import static com.test.ui.Student.test; public class Main { public static void main(String[] args) { test(); } } é™æ€å¯¼å…¥ä¸ä¼šè¿›è¡Œç±»çš„åˆå§‹åŒ–ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:3:2","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"è®¿é—®æ§åˆ¶ Javaæ”¯æŒå¯¹ç±»å±æ€§è®¿é—®çš„ä¿æŠ¤ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¸Œæœ›å¤–éƒ¨ç±»è®¿é—®ç±»ä¸­çš„å±æ€§æˆ–æ˜¯æ–¹æ³•ï¼Œåªå…è®¸å†…éƒ¨è°ƒç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°æƒé™æ§åˆ¶ç¬¦ã€‚ ![image-20210819160939950](C:/Users/Alone/Users/nagocoler/Library/Application Support/typora-user-images/image-20210819160939950.png) æƒé™æ§åˆ¶ç¬¦å¯ä»¥å£°æ˜åœ¨æ–¹æ³•ã€æˆå‘˜å˜é‡ã€ç±»å‰é¢ï¼Œä¸€æ—¦å£°æ˜privateï¼Œåªèƒ½ç±»å†…éƒ¨è®¿é—®ï¼ public class Student { private int a = 10; //å…·æœ‰ç§æœ‰è®¿é—®æƒé™ï¼Œåªèƒ½ç±»å†…éƒ¨è®¿é—® } public static void main(String[] args) { Student s = new Student(); System.out.println(s.a); //è¿˜å¯ä»¥è®¿é—®å—ï¼Ÿ } å’Œæ–‡ä»¶åç§°ç›¸åŒçš„ç±»ï¼Œåªèƒ½æ˜¯publicï¼Œå¹¶ä¸”ä¸€ä¸ªjavaæ–‡ä»¶ä¸­åªèƒ½æœ‰ä¸€ä¸ªpublic classï¼ // Student.java public class Student { } class Test{ //ä¸èƒ½æ·»åŠ æƒé™ä¿®é¥°ç¬¦ï¼åªèƒ½æ˜¯default } ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:3:3","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"æ•°ç»„ç±»å‹ å‡è®¾å‡ºç°ä¸€ç§æƒ…å†µï¼Œæˆ‘æƒ³è®°å½•100ä¸ªæ•°å­—ï¼Œå®šä¹‰100ä¸ªå˜é‡è¿˜å¯è¡Œå—ï¼Ÿ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ°æ•°ç»„ï¼Œæ•°ç»„æ˜¯ç›¸åŒç±»å‹æ•°æ®çš„æœ‰åºé›†åˆã€‚æ•°ç»„å¯ä»¥ä»£è¡¨ä»»ä½•ç›¸åŒç±»å‹çš„ä¸€ç»„å†…å®¹ï¼ˆåŒ…æ‹¬å¼•ç”¨ç±»å‹å’ŒåŸºæœ¬ç±»å‹ï¼‰å…¶ä¸­å­˜æ”¾çš„æ¯ä¸€ä¸ªæ•°æ®ç§°ä¸ºæ•°ç»„çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ•°ç»„çš„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯0ï¼ int[] arr = new int[10]; //éœ€è¦newå…³é”®å­—æ¥åˆ›å»ºï¼ String[] arr2 = new String[10]; æ•°ç»„æœ¬èº«ä¹Ÿæ˜¯ç±»ï¼ˆç¼–ç¨‹ä¸å¯è§ï¼ŒC++å†™çš„ï¼‰ï¼Œä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼ int[] arr = new int[10]; System.out.println(arr.length); //æ•°ç»„æœ‰æˆå‘˜å˜é‡ï¼ System.out.println(arr.toString()); //æ•°ç»„æœ‰æˆå‘˜æ–¹æ³•ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:4:0","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"ä¸€ç»´æ•°ç»„ ä¸€ç»´æ•°ç»„ä¸­ï¼Œå…ƒç´ æ˜¯ä¾æ¬¡æ’åˆ—çš„ï¼ˆçº¿æ€§ï¼‰ï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ å¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®ï¼å£°æ˜æ ¼å¼å¦‚ä¸‹ï¼š ç±»å‹[] å˜é‡åç§° = new ç±»å‹[æ•°ç»„å¤§å°]; ç±»å‹ å˜é‡åç§°n = new ç±»å‹[æ•°ç»„å¤§å°]; //æ”¯æŒCè¯­è¨€æ ·å¼ï¼Œä½†ä¸æ¨èï¼ ç±»å‹[] å˜é‡åç§° = new ç±»å‹[]{...}; //é™æ€åˆå§‹åŒ–ï¼ˆç›´æ¥æŒ‡å®šå€¼å’Œå¤§å°ï¼‰ ç±»å‹[] å˜é‡åç§° = {...}; //åŒä¸Šï¼Œä½†æ˜¯åªèƒ½åœ¨å®šä¹‰æ—¶èµ‹å€¼ åˆ›å»ºå‡ºæ¥çš„æ•°ç»„æ¯ä¸ªå…ƒç´ éƒ½æœ‰é»˜è®¤å€¼ï¼ˆè§„åˆ™å’Œç±»çš„æˆå‘˜å˜é‡ä¸€æ ·ï¼ŒCè¯­è¨€åˆ›å»ºçš„æ•°ç»„éœ€è¦æ‰‹åŠ¨è®¾ç½®é»˜è®¤å€¼ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹æ ‡å»è®¿é—®ï¼š int[] arr = new int[10]; arr[0] = 626; System.out.println(arr[0]); System.out.println(arr[1]); æˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°ç»„å˜é‡åç§°.lengthæ¥è·å–å½“å‰æ•°ç»„é•¿åº¦ï¼š int[] arr = new int[]{1, 2, 3}; System.out.println(arr.length); //æ‰“å°lengthæˆå‘˜å˜é‡çš„å€¼ æ•°ç»„åœ¨åˆ›å»ºæ—¶ï¼Œå°±å›ºå®šé•¿åº¦ï¼Œä¸å¯æ›´æ”¹ï¼è®¿é—®è¶…å‡ºæ•°ç»„é•¿åº¦çš„å†…å®¹ï¼Œä¼šå‡ºç°é”™è¯¯ï¼ String[] arr = new String[10]; System.out.println(arr[10]); //å‡ºç°å¼‚å¸¸ï¼ //Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 11 // at com.test.Application.main(Application.java:7) æ€è€ƒï¼šèƒ½ä¸èƒ½ç›´æ¥ä¿®æ”¹lengthçš„å€¼æ¥å®ç°åŠ¨æ€æ‰©å®¹å‘¢ï¼Ÿ int[] arr = new int[]{1, 2, 3}; arr.length = 10; æ•°ç»„åšå®å‚ï¼Œå› ä¸ºæ•°ç»„ä¹Ÿæ˜¯ç±»ï¼Œæ‰€ä»¥å½¢å‚å¾—åˆ°çš„æ˜¯æ•°ç»„çš„å¼•ç”¨è€Œä¸æ˜¯å¤åˆ¶çš„æ•°ç»„ï¼Œæ“ä½œçš„ä¾ç„¶æ˜¯æ•°ç»„å¯¹è±¡æœ¬èº« public static void main(String[] args) { int[] arr = new int[]{1, 2, 3}; test(arr); System.out.println(arr[0]); } private static void test(int[] arr){ arr[0] = 2934; } ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:4:1","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"æ•°ç»„çš„éå† å¦‚æœæˆ‘ä»¬æƒ³è¦å¿«é€Ÿæ‰“å°æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œåˆæ€ä¹ˆåŠå‘¢ï¼Ÿ ä¼ ç»Ÿforå¾ªç¯ æˆ‘ä»¬å¾ˆå®¹æ˜“å°±è”æƒ³åˆ°forå¾ªç¯ int[] arr = new int[]{1, 2, 3}; for (int i = 0; i \u003c arr.length; i++) { System.out.println(arr[i]); } foreach ä¼ ç»Ÿforå¾ªç¯è™½ç„¶å¯æ§æ€§é«˜ï¼Œä½†æ˜¯ä¸å¤Ÿçœäº‹ï¼Œè¦å†™ä¸€å¤§å †ä¸œè¥¿ï¼Œæœ‰æ²¡æœ‰ä¸€ç§çœäº‹çš„å†™æ³•å‘¢ï¼Ÿ int[] arr = new int[]{1, 2, 3}; for (int i : arr) { System.out.println(i); } foreachå±äºå¢å¼ºå‹çš„forå¾ªç¯ï¼Œå®ƒä½¿å¾—ä»£ç æ›´ç®€æ´ï¼ŒåŒæ—¶æˆ‘ä»¬èƒ½ç›´æ¥æ‹¿åˆ°æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°å­—ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:4:2","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"äºŒç»´æ•°ç»„ äºŒç»´æ•°ç»„å…¶å®å°±æ˜¯å­˜æ”¾æ•°ç»„çš„æ•°ç»„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½å­˜æ”¾ä¸€ä¸ªæ•°ç»„çš„å¼•ç”¨ï¼Œä¹Ÿå°±ç›¸å½“äºå˜æˆäº†ä¸€ä¸ªå¹³é¢ã€‚ //ä¸‰è¡Œä¸¤åˆ— int[][] arr = { {1, 2}, {3, 4}, {5, 6}}; System.out.println(arr[2][1]); äºŒç»´æ•°ç»„çš„éå†åŒä¸€ç»´æ•°ç»„ä¸€æ ·ï¼Œåªä¸è¿‡éœ€è¦åµŒå¥—å¾ªç¯ï¼ int[][] arr = new int[][]{ {1, 2}, {3, 4}, {5, 6}}; for (int i = 0; i \u003c 3; i++) { for (int j = 0; j \u003c 2; j++) { System.out.println(arr[i][j]); } } ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:4:3","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å¤šç»´æ•°ç»„ ä¸æ­¢äºŒç»´æ•°ç»„ï¼Œè¿˜å­˜åœ¨ä¸‰ç»´æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯å­˜æ”¾æ•°ç»„çš„æ•°ç»„çš„æ•°ç»„ï¼ŒåŸç†åŒäºŒç»´æ•°ç»„ä¸€æ ·ï¼Œé€çº§è®¿é—®å³å¯ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:4:4","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å¯å˜é•¿å‚æ•° å¯å˜é•¿å‚æ•°å…¶å®å°±æ˜¯æ•°ç»„çš„ä¸€ç§åº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šæ–¹æ³•çš„å½¢å‚ä¸ºä¸€ä¸ªå¯å˜é•¿å‚æ•°ï¼Œè¦æ±‚å®å‚å¯ä»¥æ ¹æ®æƒ…å†µåŠ¨æ€å¡«å…¥0ä¸ªæˆ–å¤šä¸ªï¼Œè€Œä¸æ˜¯å›ºå®šçš„æ•°é‡ public static void main(String[] args) { test(\"AAA\", \"BBB\", \"CCC\"); //å¯å˜é•¿ï¼Œæœ€åéƒ½ä¼šè¢«è‡ªåŠ¨å°è£…æˆä¸€ä¸ªæ•°ç»„ } private static void test(String... test){ System.out.println(test[0]); //å…¶å®å‚æ•°å°±æ˜¯ä¸€ä¸ªæ•°ç»„ } ç”±äºæ˜¯æ•°ç»„ï¼Œæ‰€ä»¥è¯´åªèƒ½ä½¿ç”¨ä¸€ç§ç±»å‹çš„å¯å˜é•¿å‚æ•°ï¼Œå¹¶ä¸”å¯å˜é•¿å‚æ•°åªèƒ½æ”¾åœ¨æœ€åä¸€ä½ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:4:5","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å®æˆ˜ï¼šä¸‰å¤§åŸºæœ¬æ’åºç®—æ³• ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯æ•°ç»„é‡Œé¢çš„æ•°æ®æ˜¯ä¹±åºæ’åˆ—çš„ï¼Œå¦‚ä½•ä½¿å®ƒå˜å¾—æœ‰åºï¼Ÿ int[] arr = {8, 5, 0, 1, 4, 9, 2, 3, 6, 7}; æ’åºæ˜¯ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æŠ€èƒ½ï¼ŒæŒæ¡æ’åºç®—æ³•ï¼Œä½ çš„æŠ€æœ¯æ‰èƒ½æ›´ä¸Šä¸€å±‚æ¥¼ï¼Œå¾ˆå¤šçš„é¡¹ç›®éƒ½éœ€è¦ç”¨åˆ°æ’åºï¼ä¸‰å¤§æ’åºç®—æ³•ï¼š å†’æ³¡æ’åº å†’æ³¡æ’åºå°±æ˜¯å†’æ³¡ï¼Œå…¶å®å°±æ˜¯ä¸æ–­ä½¿å¾—æˆ‘ä»¬æ— åºæ•°ç»„ä¸­çš„æœ€å¤§æ•°å‘å‰ç§»åŠ¨ï¼Œç»å†nè½®å¾ªç¯é€æ¸å°†æ¯ä¸€ä¸ªæ•°æ¨å‘æœ€å‰ã€‚ æ’å…¥æ’åº æ’å…¥æ’åºå…¶å®å°±è·Ÿæˆ‘ä»¬æ‰“ç‰Œæ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬åœ¨æ‘¸ç‰Œçš„æ—¶å€™ï¼Œç‰Œå †æ˜¯ä¹±åºçš„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€å¼ ä¸€å¼ æ‘¸åˆ°æ‰‹ä¸­è¿›è¡Œæ’åºï¼Œä½¿å¾—å®ƒå˜æˆäº†æœ‰åºçš„ï¼ é€‰æ‹©æ’åº é€‰æ‹©æ’åºå…¶å®å°±æ˜¯æ¯æ¬¡éƒ½é€‰æ‹©å½“å‰æ•°ç»„ä¸­æœ€å¤§çš„æ•°æ’åˆ°æœ€å‰é¢ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:4:6","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å°è£…ã€ç»§æ‰¿å’Œå¤šæ€ å°è£…ã€ç»§æ‰¿å’Œå¤šæ€æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸‰å¤§ç‰¹æ€§ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:5:0","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å°è£… å°è£…çš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯å˜é‡çš„å®‰å…¨æ€§ï¼Œä½¿ç”¨è€…ä¸å¿…åœ¨æ„å…·ä½“å®ç°ç»†èŠ‚ï¼Œè€Œåªæ˜¯é€šè¿‡å¤–éƒ¨æ¥å£å³å¯è®¿é—®ç±»çš„æˆå‘˜ï¼Œå¦‚æœä¸è¿›è¡Œå°è£…ï¼Œç±»ä¸­çš„å®ä¾‹å˜é‡å¯ä»¥ç›´æ¥æŸ¥çœ‹å’Œä¿®æ”¹ï¼Œå¯èƒ½ç»™æ•´ä¸ªä»£ç å¸¦æ¥ä¸å¥½çš„å½±å“ï¼Œå› æ­¤åœ¨ç¼–å†™ç±»æ—¶ä¸€èˆ¬å°†æˆå‘˜å˜é‡ç§æœ‰åŒ–ï¼Œå¤–éƒ¨ç±»éœ€è¦åŒgetterå’Œsetteræ–¹æ³•æ¥æŸ¥çœ‹å’Œè®¾ç½®å˜é‡ã€‚ è®¾æƒ³ï¼šå­¦ç”Ÿå°æ˜å·²ç»åˆ›å»ºæˆåŠŸï¼Œæ­£å¸¸æƒ…å†µä¸‹èƒ½éšä¾¿æ”¹ä»–çš„åå­—å’Œå¹´é¾„å—ï¼Ÿ public class Student { private String name; private int age; public Student(String name, int age) { this.name = name; this.age = age; } public int getAge() { return age; } public String getName() { return name; } } ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤–éƒ¨ç°åœ¨åªèƒ½é€šè¿‡è°ƒç”¨æˆ‘å®šä¹‰çš„æ–¹æ³•æ¥è·å–æˆå‘˜å±æ€§ï¼Œè€Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿›è¡Œä¸€äº›é¢å¤–çš„æ“ä½œï¼Œæ¯”å¦‚å°æ˜å¯ä»¥ä¿®æ”¹åå­—ï¼Œä½†æ˜¯åå­—ä¸­ä¸èƒ½åŒ…å«\"å°\"è¿™ä¸ªå­—ã€‚ public void setName(String name) { if(name.contains(\"å°\")) return; this.name = name; } å•ç‹¬ç»™å¤–éƒ¨å¼€æ”¾è®¾ç½®åç§°çš„æ–¹æ³•ï¼Œå› ä¸ºæˆ‘è¿˜éœ€è¦åšä¸€äº›é¢å¤–çš„å¤„ç†ï¼Œæ‰€ä»¥è¯´ä¸èƒ½ç»™å¤–éƒ¨ç›´æ¥æ“ä½œæˆå‘˜å˜é‡çš„æƒé™ï¼ å°è£…æ€æƒ³å…¶å®å°±æ˜¯æŠŠå®ç°ç»†èŠ‚ç»™éšè—äº†ï¼Œå¤–éƒ¨åªéœ€çŸ¥é“è¿™ä¸ªæ–¹æ³•æ˜¯ä»€ä¹ˆä½œç”¨ï¼Œè€Œæ— éœ€å…³å¿ƒå®ç°ã€‚ å°è£…å°±æ˜¯é€šè¿‡è®¿é—®æƒé™æ§åˆ¶æ¥å®ç°çš„ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:5:1","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"ç»§æ‰¿ ç»§æ‰¿å±äºéå¸¸é‡è¦çš„å†…å®¹ï¼Œåœ¨å®šä¹‰ä¸åŒç±»çš„æ—¶å€™å­˜åœ¨ä¸€äº›ç›¸åŒå±æ€§ï¼Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨å¯ä»¥å°†è¿™äº›å…±åŒå±æ€§æŠ½è±¡æˆä¸€ä¸ªçˆ¶ç±»ï¼Œåœ¨å®šä¹‰å…¶ä»–å­ç±»æ—¶å¯ä»¥ç»§æ‰¿è‡ªè¯¥çˆ¶ç±»ï¼Œå‡å°‘ä»£ç çš„é‡å¤å®šä¹‰ï¼Œå­ç±»å¯ä»¥ä½¿ç”¨çˆ¶ç±»ä¸­éç§æœ‰çš„æˆå‘˜ã€‚ ç°åœ¨å­¦ç”Ÿåˆ†ä¸ºä¸¤ç§ï¼Œè‰ºæœ¯ç”Ÿå’Œä½“è‚²ç”Ÿï¼Œä»–ä»¬éƒ½æ˜¯å­¦ç”Ÿçš„åˆ†æ”¯ï¼Œä½†æ˜¯ä»–ä»¬éƒ½æœ‰è‡ªå·±çš„æ–¹æ³•ï¼š public class SportsStudent extends Student{ //é€šè¿‡extendså…³é”®å­—æ¥ç»§æ‰¿çˆ¶ç±» public SportsStudent(String name, int age) { super(name, age); //å¿…é¡»å…ˆé€šè¿‡superå…³é”®å­—ï¼ˆæŒ‡ä»£çˆ¶ç±»ï¼‰ï¼Œå®ç°çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼ } public void exercise(){ System.out.println(\"æˆ‘è¶…å‹‡çš„ï¼\"); } } public class ArtStudent extends Student{ public ArtStudent(String name, int age) { super(name, age); } public void art(){ System.out.println(\"éšæ‰‹ç”»ä¸ªæ¯•åŠ ç´¢ï¼\"); } } å­ç±»å…·æœ‰çˆ¶ç±»çš„å…¨éƒ¨å±æ€§ï¼Œprotectedå¯è§ä½†å¤–éƒ¨æ— æ³•ä½¿ç”¨ï¼ˆåŒ…æ‹¬privateå±æ€§ï¼Œä¸å¯è§ï¼Œæ— æ³•ä½¿ç”¨ï¼‰ï¼ŒåŒæ—¶å­ç±»è¿˜èƒ½æœ‰è‡ªå·±çš„æ–¹æ³•ã€‚ç»§æ‰¿åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œä¸æ”¯æŒå¤šç»§æ‰¿ï¼ æ¯ä¸€ä¸ªå­ç±»å¿…é¡»å®šä¹‰ä¸€ä¸ªå®ç°çˆ¶ç±»æ„é€ æ–¹æ³•çš„æ„é€ æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯éœ€è¦åœ¨æ„é€ æ–¹æ³•å¼€å§‹ä½¿ç”¨super()ï¼Œå¦‚æœçˆ¶ç±»ä½¿ç”¨çš„æ˜¯é»˜è®¤æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆå­ç±»ä¸ç”¨æ‰‹åŠ¨æŒ‡æ˜ã€‚ æ‰€æœ‰ç±»éƒ½é»˜è®¤ç»§æ‰¿è‡ªObjectç±»ï¼Œé™¤éæ‰‹åŠ¨æŒ‡å®šç±»å‹ï¼Œä½†æ˜¯ä¾ç„¶æ”¹å˜ä¸äº†æœ€é¡¶å±‚çš„çˆ¶ç±»æ˜¯Objectç±»ã€‚æ‰€æœ‰ç±»éƒ½åŒ…å«Objectç±»ä¸­çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š public static void main(String[] args) { Object obj = new Object; System.out.println(obj.hashCode()); //æ±‚å¯¹è±¡çš„hashcodeï¼Œé»˜è®¤æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ System.out.println(obj.equals(obj)); //æ¯”è¾ƒå¯¹è±¡æ˜¯å¦ç›¸åŒï¼Œé»˜è®¤æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œä¹Ÿå°±æ˜¯ç­‰åŒäº == System.out.println(obj.toString()); //å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œé»˜è®¤ç”Ÿæˆå¯¹è±¡çš„ç±»åç§°+hashcode } å…³äºObjectç±»çš„å…¶ä»–æ–¹æ³•ï¼Œæˆ‘ä»¬ä¼šåœ¨Javaå¤šçº¿ç¨‹ä¸­å†æ¥æåŠã€‚ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:5:2","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å¤šæ€ å¤šæ€æ˜¯åŒä¸€ä¸ªè¡Œä¸ºå…·æœ‰å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼æˆ–å½¢æ€çš„èƒ½åŠ›ã€‚ä¹Ÿå°±æ˜¯åŒæ ·çš„æ–¹æ³•ï¼Œç”±äºå®ç°ç±»ä¸åŒï¼Œæ‰§è¡Œçš„ç»“æœä¹Ÿä¸åŒï¼ æ–¹æ³•çš„é‡å†™ æˆ‘ä»¬ä¹‹å‰å­¦ä¹ äº†æ–¹æ³•çš„é‡è½½ï¼Œæ–¹æ³•çš„é‡å†™å’Œé‡è½½æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‡è½½æ˜¯åŸæœ‰çš„æ–¹æ³•é€»è¾‘ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ”¯æŒæ›´å¤šå‚æ•°çš„å®ç°ï¼Œè€Œé‡å†™æ˜¯ç›´æ¥è¦†ç›–åŸæœ‰æ–¹æ³•ï¼ //çˆ¶ç±»ä¸­çš„study public void study(){ System.out.println(\"å­¦ä¹ \"); } //å­ç±»ä¸­çš„study @Override //å£°æ˜è¿™ä¸ªæ–¹æ³•æ˜¯é‡å†™çš„ï¼Œä½†æ˜¯å¯ä»¥ä¸è¦ï¼Œæˆ‘ä»¬ç°é˜¶æ®µä¸æ¥è§¦ public void study(){ System.out.println(\"ç»™ä½ çœ‹ç‚¹å¥½åº·çš„\"); } å†æ¬¡å®šä¹‰åŒæ ·çš„æ–¹æ³•åï¼Œçˆ¶ç±»çš„æ–¹æ³•å°±è¢«è¦†ç›–ï¼å­ç±»è¿˜å¯ä»¥ç»™çˆ¶ç±»æ–¹æ³•æå‡è®¿é—®æƒé™ï¼ public static void main(String[] args) { SportsStudent student = new SportsStudent(\"lbw\", 20); student.study(); //è¾“å‡ºå­ç±»å®šä¹‰çš„å†…å®¹ } æ€è€ƒï¼šé™æ€æ–¹æ³•èƒ½è¢«é‡å†™å—ï¼Ÿ å½“æˆ‘ä»¬åœ¨é‡å†™æ–¹æ³•æ—¶ï¼Œä¸ä»…æƒ³ä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„é€»è¾‘ï¼ŒåŒæ—¶è¿˜å¸Œæœ›æ‰§è¡Œçˆ¶ç±»çš„é€»è¾‘ï¼ˆä¹Ÿå°±æ˜¯è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼‰æ€ä¹ˆåŠå‘¢ï¼Ÿ public void study(){ super.study(); System.out.println(\"ç»™ä½ çœ‹ç‚¹å¥½åº·çš„\"); } åŒç†ï¼Œå¦‚æœæƒ³è®¿é—®çˆ¶ç±»çš„æˆå‘˜å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨superå…³é”®å­—æ¥è®¿é—®ï¼Œæ³¨æ„ï¼Œå­ç±»å¯ä»¥å…·æœ‰å’Œçˆ¶ç±»ç›¸åŒçš„æˆå‘˜å˜é‡ï¼è€Œåœ¨æ–¹æ³•ä¸­è®¿é—®çš„é»˜è®¤æ˜¯ å½¢å‚åˆ—è¡¨ä¸­ \u003e å½“å‰ç±»çš„æˆå‘˜å˜é‡ \u003e çˆ¶ç±»æˆå‘˜å˜é‡ public void setTest(int test){ test = 1; this.test = 1; super.test = 1; } å†è°ˆç±»å‹è½¬æ¢ æˆ‘ä»¬æ›¾ç»å­¦ä¹ è¿‡åŸºæœ¬æ•°æ®ç±»å‹çš„ç±»å‹è½¬æ¢ï¼Œæ”¯æŒä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹ï¼Œè€Œæˆ‘ä»¬çš„ç±»ä¹Ÿæ˜¯æ”¯æŒç±»å‹è½¬æ¢çš„ï¼ˆä»…é™äºå­˜åœ¨äº²ç¼˜å…³ç³»çš„ç±»ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼‰æ¯”å¦‚å­ç±»å¯ä»¥ç›´æ¥å‘ä¸Šè½¬å‹ï¼š Student student = new SportsStudent(\"lbw\", 20); //çˆ¶ç±»å˜é‡å¼•ç”¨å­ç±»å®ä¾‹ student.study(); //å¾—åˆ°ä¾ç„¶æ˜¯å…·ä½“å®ç°çš„ç»“æœï¼Œè€Œä¸æ˜¯å½“å‰ç±»å‹çš„ç»“æœ æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå·²ç»æ˜ç¡®æ˜¯ç”±å“ªä¸ªç±»å®ç°çš„çˆ¶ç±»å¼•ç”¨ï¼Œå¼ºåˆ¶è½¬æ¢ä¸ºå¯¹åº”çš„ç±»å‹ï¼š Student student = new SportsStudent(\"lbw\", 20); //æ˜¯ç”±SportsStudentè¿›è¡Œå®ç°çš„ //... do something... SportsStudent ps = (SportsStudent)student; //è®©å®ƒå˜æˆä¸€ä¸ªå…·ä½“çš„å­ç±» ps.sport(); //è°ƒç”¨å…·ä½“å®ç°ç±»çš„æ–¹æ³• è¿™æ ·çš„ç±»å‹è½¬æ¢ç§°ä¸ºå‘ä¸‹è½¬å‹ã€‚ instanceofå…³é”®å­— é‚£ä¹ˆæˆ‘ä»¬å¦‚æœåªæ˜¯å¾—åˆ°ä¸€ä¸ªçˆ¶ç±»å¼•ç”¨ï¼Œä½†æ˜¯ä¸çŸ¥é“å®ƒåˆ°åº•æ˜¯å“ªä¸€ä¸ªå­ç±»çš„å®ç°æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨instanceofå…³é”®å­—æ¥å®ç°ï¼Œå®ƒèƒ½å¤Ÿè¿›è¡Œç±»å‹åˆ¤æ–­ï¼ private static void test(Student student){ if (student instanceof SportsStudent){ SportsStudent sportsStudent = (SportsStudent) student; sportsStudent.sport(); }else if (student instanceof ArtStudent){ ArtStudent artStudent = (ArtStudent) student; artStudent.art(); } } é€šè¿‡è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ˜ç¡®ç±»çš„å…·ä½“å®ç°åˆ°åº•æ˜¯å“ªä¸ªç±»ï¼ æ€è€ƒï¼šstudent instanceof Studentçš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ å†è°ˆfinalå…³é”®å­— æˆ‘ä»¬ç›®å‰åªçŸ¥é“finalå…³é”®å­—èƒ½å¤Ÿä½¿å¾—ä¸€ä¸ªå˜é‡çš„å€¼ä¸å¯æ›´æ”¹ï¼Œé‚£ä¹ˆå¦‚æœåœ¨ç±»å‰é¢å£°æ˜finalï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ public final class Student { //ç±»è¢«å£°æ˜ä¸ºç»ˆæ€ï¼Œé‚£ä¹ˆå®ƒè¿˜èƒ½è¢«ç»§æ‰¿å— } ç±»ä¸€æ—¦è¢«å£°æ˜ä¸ºç»ˆæ€ï¼Œå°†æ— æ³•å†è¢«ç»§æ‰¿ï¼Œä¸å…è®¸å­ç±»çš„å­˜åœ¨ï¼è€Œæ–¹æ³•è¢«å£°æ˜ä¸ºfinalå‘¢ï¼Ÿ public final void study(){ //è¿˜èƒ½é‡å†™å— System.out.println(\"å­¦ä¹ \"); } å¦‚æœç±»çš„æˆå‘˜å±æ€§è¢«å£°æ˜ä¸ºfinalï¼Œé‚£ä¹ˆå¿…é¡»åœ¨æ„é€ æ–¹æ³•ä¸­æˆ–æ˜¯åœ¨å®šä¹‰æ—¶èµ‹åˆå§‹å€¼ï¼ private final String name; //å¼•ç”¨ç±»å‹ä¸å…è®¸å†æŒ‡å‘å…¶ä»–å¯¹è±¡ private final int age; //åŸºæœ¬ç±»å‹å€¼ä¸å…è®¸å‘ç”Ÿæ”¹å˜ public Student(String name, int age) { this.name = name; this.age = age; } å­¦ä¹ å®Œå°è£…ç»§æ‰¿å’Œå¤šæ€ä¹‹åï¼Œæˆ‘ä»¬æ¨èåœ¨ä¸ä¼šå†å‘ç”Ÿæ”¹å˜çš„æˆå‘˜å±æ€§ä¸Šæ·»åŠ finalå…³é”®å­—ï¼ŒJVMä¼šå¯¹æ·»åŠ äº†finalå…³é”®å­—çš„å±æ€§è¿›è¡Œä¼˜åŒ–ï¼ æŠ½è±¡ç±» ç±»æœ¬èº«å°±æ˜¯ä¸€ç§æŠ½è±¡ï¼Œè€ŒæŠ½è±¡ç±»ï¼ŒæŠŠç±»è¿˜è¦æŠ½è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠ½è±¡ç±»å¯ä»¥åªä¿ç•™ç‰¹å¾ï¼Œè€Œä¸ä¿ç•™å…·ä½“å‘ˆç°å½¢æ€ï¼Œæ¯”å¦‚æ–¹æ³•å¯ä»¥å®šä¹‰å¥½ï¼Œä½†æ˜¯æˆ‘å¯ä»¥ä¸å»å®ç°å®ƒï¼Œè€Œæ˜¯äº¤ç”±å­ç±»æ¥è¿›è¡Œå®ç°ï¼ public abstract class Student { //æŠ½è±¡ç±» public abstract void test(); //æŠ½è±¡æ–¹æ³• } é€šè¿‡ä½¿ç”¨abstractå…³é”®å­—æ¥è¡¨æ˜ä¸€ä¸ªç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼ŒæŠ½è±¡ç±»å¯ä»¥ä½¿ç”¨abstractå…³é”®å­—æ¥è¡¨æ˜ä¸€ä¸ªæ–¹æ³•ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å®šä¹‰æ™®é€šæ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•ä¸éœ€è¦ç¼–å†™å…·ä½“å®ç°ï¼ˆæ— æ–¹æ³•ä½“ï¼‰ä½†æ˜¯å¿…é¡»ç”±å­ç±»å®ç°ï¼ˆé™¤éå­ç±»ä¹Ÿæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼‰ï¼ æŠ½è±¡ç±»ç”±äºä¸æ˜¯å…·ä½“çš„ç±»å®šä¹‰ï¼Œå› æ­¤æ— æ³•ç›´æ¥é€šè¿‡newå…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡ï¼ Student s = new Student(){ //åªèƒ½ç›´æ¥åˆ›å»ºå¸¦å®ç°çš„åŒ¿åå†…éƒ¨ç±»ï¼ public void test(){ } } å› æ­¤ï¼ŒæŠ½è±¡ç±»ä¸€èˆ¬åªç”¨ä½œç»§æ‰¿ä½¿ç”¨ï¼æŠ½è±¡ç±»ä½¿å¾—ç»§æ‰¿å…³ç³»ä¹‹é—´æ›´åŠ æ˜ç¡®ï¼š public void study(){ //ç°åœ¨åªèƒ½ç”±å­ç±»ç¼–å†™ï¼Œçˆ¶ç±»æ²¡æœ‰å®šä¹‰ï¼Œæ›´åŠ æ˜ç¡®äº†å¤šæ€çš„å®šä¹‰ï¼åŒä¸€ä¸ªæ–¹æ³•å¤šç§å®ç°ï¼ System.out.println(\"ç»™ä½ çœ‹ç‚¹å¥½åº·çš„\"); } æ¥å£ æ¥å£ç”šè‡³æ¯”æŠ½è±¡ç±»è¿˜æŠ½è±¡ï¼Œä»–åªä»£è¡¨æŸä¸ªç¡®åˆ‡çš„åŠŸèƒ½ï¼ä¹Ÿå°±æ˜¯åªåŒ…å«æ–¹æ³•çš„å®šä¹‰ï¼Œç”šè‡³éƒ½ä¸æ˜¯ä¸€ä¸ªç±»ï¼æ¥å£åŒ…å«äº†ä¸€äº›åˆ—æ–¹æ³•çš„å…·ä½“å®šä¹‰ï¼Œç±»å¯ä»¥å®ç°è¿™ä¸ªæ¥å£ï¼Œè¡¨ç¤ºç±»æ”¯æŒæ¥å£ä»£è¡¨çš„åŠŸèƒ½ï¼ˆç±»ä¼¼äºä¸€ä¸ªæ’ä»¶ï¼Œåªèƒ½ä½œä¸ºä¸€ä¸ªé™„å±åŠŸèƒ½åŠ åœ¨ä¸»ä½“ä¸Šï¼ŒåŒæ—¶å…·ä½“å®ç°è¿˜éœ€è¦ç”±ä¸»ä½“æ¥å®ç°ï¼‰ public interface Eat { void eat(); } é€šè¿‡ä½¿ç”¨interfaceå…³é”®å­—æ¥è¡¨æ˜æ˜¯ä¸€ä¸ªæ¥å£ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œclasså…³é”®å­—è¢«æ›¿æ¢ä¸ºäº†interfaceï¼‰æ¥å£åªèƒ½åŒ…å«publicæƒé™çš„æŠ½è±¡æ–¹æ³•ï¼ï¼ˆJava8ä»¥åå¯ä»¥æœ‰é»˜è®¤å®ç°ï¼‰æˆ‘ä»¬å¯ä»¥é€šè¿‡å£°æ˜defaultå…³é”®å­—æ¥ç»™æŠ½è±¡æ–¹æ³•ä¸€ä¸ªé»˜è®¤å®ç°ï¼š public interface Eat { default void eat(){ //do something... } } æ¥å£ä¸­å®šä¹‰çš„å˜é‡ï¼Œé»˜è®¤ä¸ºpublic static final public interface Eat { int a = 1; void eat(); } ä¸€ä¸ªç±»å¯ä»¥å®ç°å¾ˆå¤šä¸ªæ¥å£ï¼Œä½†æ˜¯ä¸èƒ½ç†è§£ä¸ºå¤šç»§æ‰¿ï¼ï¼ˆå®é™…ä¸Šå®ç°æ¥å£æ˜¯é™„åŠ åŠŸèƒ½ï¼Œå’Œç»§æ‰¿çš„æ¦‚å¿µæœ‰ä¸€å®šå‡ºå…¥ï¼Œé¡¶å¤šè¯´æ˜¯å¤šç»§æ‰¿çš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆï¼‰ä¸€ä¸ªç±»å¯ä»¥é™„åŠ å¾ˆå¤šä¸ªåŠŸèƒ½ï¼ public class SportsStudent extends Student implements Eat, ...{ @Override public void eat() { } } ç±»é€šè¿‡implementså…³é”®å­—æ¥å£°æ˜å®ç°çš„æ¥å£ï¼æ¯ä¸ªæ¥å£ä¹‹é—´ç”¨é€—å·éš”å¼€ï¼ å®ç°æ¥å£çš„ç±»ä¹Ÿèƒ½é€šè¿‡instanceofå…³é”®å­—åˆ¤æ–­ï¼Œä¹Ÿæ”¯æŒå‘ä¸Šå’Œå‘ä¸‹è½¬å‹ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:5:3","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å†…éƒ¨ç±» ç±»ä¸­å¯ä»¥å­˜åœ¨ä¸€ä¸ªç±»ï¼å„ç§å„æ ·çš„é•¿ç›¸æ€ªå¼‚çš„ä»£ç å°±æ˜¯ä»è¿™é‡Œå¼€å§‹å‡ºç°çš„ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:6:0","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"æˆå‘˜å†…éƒ¨ç±» æˆ‘ä»¬çš„ç±»ä¸­å¯ä»¥åœ¨åµŒå¥—ä¸€ä¸ªç±»ï¼š public class Test { class Inner{ //ç±»ä¸­å®šä¹‰çš„ä¸€ä¸ªå†…éƒ¨ç±» } } æˆå‘˜å†…éƒ¨ç±»å’Œæˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯å±äºå¯¹è±¡çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»å­˜åœ¨å¤–éƒ¨å¯¹è±¡ï¼Œæ‰èƒ½åˆ›å»ºå†…éƒ¨ç±»çš„å¯¹è±¡ï¼ public static void main(String[] args) { Test test = new Test(); Test.Inner inner = test.new Inner(); //å†™æ³•æœ‰é‚£ä¹ˆä¸€ä¸æ€ªå¼‚ï¼Œä½†æ˜¯æ²¡æ¯›ç—…ï¼ } ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:6:1","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"é™æ€å†…éƒ¨ç±» é™æ€å†…éƒ¨ç±»å…¶å®å°±å’Œç±»ä¸­çš„é™æ€å˜é‡å’Œé™æ€æ–¹æ³•ä¸€æ ·ï¼Œæ˜¯å±äºç±»æ‹¥æœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ç±»å.å»è®¿é—®: public class Test { static class Inner{ } } public static void main(String[] args) { Test.Inner inner = new Test.Inner(); //ä¸ç”¨å†åˆ›å»ºå¤–éƒ¨ç±»å¯¹è±¡äº†ï¼ } ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:6:2","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å±€éƒ¨å†…éƒ¨ç±» å¯¹ï¼Œä½ æ²¡çŒœé”™ï¼Œå°±æ˜¯å’Œå±€éƒ¨å˜é‡ä¸€æ ·å“’~ public class Test { public void test(){ class Inner{ } Inner inner = new Inner(); } } åæ­£æˆ‘æ˜¯æ²¡ç”¨è¿‡ï¼å†…éƒ¨ç±» -\u003e ç´¯ä¸ç´¯ -\u003e åæ­£æˆ‘ç´¯äº†ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:6:3","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"åŒ¿åå†…éƒ¨ç±» åŒ¿åå†…éƒ¨ç±»æ‰æ˜¯æˆ‘ä»¬çš„é‡ç‚¹ï¼Œä¹Ÿæ˜¯å®ç°lambdaè¡¨è¾¾å¼çš„åŸç†ï¼åŒ¿åå†…éƒ¨ç±»å…¶å®å°±æ˜¯åœ¨newçš„æ—¶å€™ï¼Œç›´æ¥å¯¹æ¥å£æˆ–æ˜¯æŠ½è±¡ç±»çš„å®ç°ï¼š public static void main(String[] args) { Eat eat = new Eat() { @Override public void eat() { //DO something... } }; } æˆ‘ä»¬ä¸ç”¨å•ç‹¬å»åˆ›å»ºä¸€ä¸ªç±»æ¥å®ç°ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥åœ¨newçš„æ—¶å€™å†™å¯¹åº”çš„å®ç°ï¼ä½†æ˜¯ï¼Œè¿™æ ·å†™ï¼Œæ— æ³•å®ç°å¤ç”¨ï¼Œåªèƒ½åœ¨è¿™é‡Œä½¿ç”¨ï¼ lambdaè¡¨è¾¾å¼ è¯»ä½œÎ»è¡¨è¾¾å¼ï¼Œå®ƒå…¶å®å°±æ˜¯æˆ‘ä»¬æ¥å£åŒ¿åå®ç°çš„ç®€åŒ–ï¼Œæ¯”å¦‚è¯´ï¼š public static void main(String[] args) { Eat eat = new Eat() { @Override public void eat() { //DO something... } }; } public static void main(String[] args) { Eat eat = () -\u003e {}; //ç­‰ä»·äºä¸Šè¿°å†…å®¹ } lambdaè¡¨è¾¾å¼ï¼ˆåŒ¿åå†…éƒ¨ç±»ï¼‰åªèƒ½è®¿é—®å¤–éƒ¨çš„finalç±»å‹æˆ–æ˜¯éšå¼finalç±»å‹çš„å±€éƒ¨å˜é‡ï¼ ä¸ºäº†æ–¹ä¾¿ï¼ŒJDKé»˜è®¤å°±ä¸ºæˆ‘ä»¬æä¾›äº†ä¸“é—¨å†™å‡½æ•°å¼çš„æ¥å£ï¼Œè¿™é‡Œåªä»‹ç»Consumer ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:6:4","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"æšä¸¾ç±» å‡è®¾ç°åœ¨æˆ‘ä»¬æƒ³ç»™å°æ˜æ·»åŠ ä¸€ä¸ªçŠ¶æ€ï¼ˆè·‘æ­¥ã€å­¦ä¹ ã€ç¡è§‰ï¼‰ï¼Œå¤–éƒ¨å¯ä»¥å®æ—¶è·å–å°æ˜çš„çŠ¶æ€ï¼š public class Student { private final String name; private final int age; private String status; //... public void setStatus(String status) { this.status = status; } public String getStatus() { return status; } } ä½†æ˜¯è¿™æ ·ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬ä»…ä»…æ˜¯å­˜å‚¨å­—ç¬¦ä¸²ï¼Œä¼¼ä¹å¤–éƒ¨å¯ä»¥ä¸æŒ‰ç…§æˆ‘ä»¬è§„åˆ™ï¼Œä¼ å…¥ä¸€äº›å…¶ä»–çš„å­—ç¬¦ä¸²ã€‚è¿™æ˜¾ç„¶æ˜¯ä¸å¤Ÿä¸¥è°¨çš„ï¼ æœ‰æ²¡æœ‰ä¸€ç§åŠæ³•ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°å»å®ç°è¿™æ ·çš„çŠ¶æ€æ ‡è®°å‘¢ï¼Ÿæˆ‘ä»¬å¸Œæœ›å¼€å‘è€…æ‹¿åˆ°ä½¿ç”¨çš„å°±æ˜¯æˆ‘ä»¬å®šä¹‰å¥½çš„çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æšä¸¾ç±»ï¼ public enum Status { RUNNING, STUDY, SLEEP //ç›´æ¥å†™æ¯ä¸ªçŠ¶æ€çš„åå­—å³å¯ï¼Œåˆ†å·å¯ä»¥ä¸æ‰“ï¼Œä½†æ˜¯æ¨èæ‰“ä¸Š } ä½¿ç”¨æšä¸¾ç±»ä¹Ÿéå¸¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬åªéœ€è¦ç›´æ¥è®¿é—®å³å¯ public class Student { private final String name; private final int age; private Status status; //... public void setStatus(Status status) { //ä¸å†æ˜¯Stringï¼Œè€Œæ˜¯æˆ‘ä»¬æŒ‡å®šçš„æšä¸¾ç±»å‹ this.status = status; } public Status getStatus() { return status; } } public static void main(String[] args) { Student student = new Student(\"å°æ˜\", 18); student.setStatus(Status.RUNNING); System.out.println(student.getStatus()); } æšä¸¾ç±»å‹ä½¿ç”¨èµ·æ¥å°±éå¸¸æ–¹ä¾¿äº†ï¼Œå…¶å®æšä¸¾ç±»å‹çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»ï¼Œä½†æ˜¯å®ƒç»§æ‰¿è‡ªEnumç±»ï¼Œæˆ‘ä»¬å®šä¹‰çš„æ¯ä¸€ä¸ªçŠ¶æ€å…¶å®å°±æ˜¯ä¸€ä¸ªpublic static finalçš„Statusç±»å‹æˆå‘˜å˜é‡ï¼ // Compiled from \"Status.java\" public final class com.test.Status extends java.lang.Enum\u003ccom.test.Status\u003e { public static final com.test.Status RUNNING; public static final com.test.Status STUDY; public static final com.test.Status SLEEP; public static com.test.Status[] values(); public static com.test.Status valueOf(java.lang.String); static {}; } æ—¢ç„¶æšä¸¾ç±»å‹æ˜¯æ™®é€šçš„ç±»ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™æšä¸¾ç±»å‹æ·»åŠ ç‹¬æœ‰çš„æˆå‘˜æ–¹æ³• public enum Status { RUNNING(\"ç¡è§‰\"), STUDY(\"å­¦ä¹ \"), SLEEP(\"ç¡è§‰\"); //æ— å‚æ„é€ æ–¹æ³•è¢«è¦†ç›–ï¼Œåˆ›å»ºæšä¸¾éœ€è¦æ·»åŠ å‚æ•°ï¼ˆæœ¬è´¨å°±æ˜¯è°ƒç”¨çš„æ„é€ æ–¹æ³•ï¼ï¼‰ private final String name; //æšä¸¾çš„æˆå‘˜å˜é‡ Status(String name){ //è¦†ç›–åŸæœ‰æ„é€ æ–¹æ³•ï¼ˆé»˜è®¤privateï¼Œåªèƒ½å†…éƒ¨ä½¿ç”¨ï¼ï¼‰ this.name = name; } public String getName() { //è·å–å°è£…çš„æˆå‘˜å˜é‡ return name; } } public static void main(String[] args) { Student student = new Student(\"å°æ˜\", 18); student.setStatus(Status.RUNNING); System.out.println(student.getStatus().getName()); } æšä¸¾ç±»è¿˜è‡ªå¸¦ä¸€äº›ç»§æ‰¿ä¸‹æ¥çš„å®ç”¨æ–¹æ³• Status.valueOf(\"\") //å°†åç§°ç›¸åŒçš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæšä¸¾ Status.values() //å¿«é€Ÿè·å–æ‰€æœ‰çš„æšä¸¾ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:7:0","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"åŸºæœ¬ç±»å‹åŒ…è£…ç±» Javaå¹¶ä¸æ˜¯çº¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œè™½ç„¶Javaè¯­è¨€æ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä½†æ˜¯Javaä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹å´ä¸æ˜¯é¢å‘å¯¹è±¡çš„ã€‚åœ¨å­¦ä¹ æ³›å‹å’Œé›†åˆä¹‹å‰ï¼ŒåŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»æ˜¯ä¸€å®šè¦è®²è§£çš„å†…å®¹ï¼ æˆ‘ä»¬çš„åŸºæœ¬ç±»å‹ï¼Œå¦‚æœæƒ³é€šè¿‡å¯¹è±¡çš„å½¢å¼å»ä½¿ç”¨ä»–ä»¬ï¼ŒJavaæä¾›çš„åŸºæœ¬ç±»å‹åŒ…è£…ç±»ï¼Œä½¿å¾—Javaèƒ½å¤Ÿæ›´å¥½çš„ä½“ç°é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼ŒåŒæ—¶ä¹Ÿä½¿å¾—åŸºæœ¬ç±»å‹èƒ½å¤Ÿæ”¯æŒå¯¹è±¡æ“ä½œï¼ byte -\u003e Byte boolean -\u003e Boolean short -\u003e Short char -\u003e Character int -\u003e Integer long -\u003e Long float -\u003e Float double -\u003e Double åŒ…è£…ç±»å®é™…ä¸Šå°±è¡Œå°†æˆ‘ä»¬çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå°è£…æˆä¸€ä¸ªç±»ï¼ˆè¿ç”¨äº†å°è£…çš„æ€æƒ³ï¼‰ private final int value; //Integerå†…éƒ¨å…¶å®æœ¬è´¨è¿˜æ˜¯å­˜äº†ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½ç›´æ¥æ“ä½œ public Integer(int value) { this.value = value; } ç°åœ¨æˆ‘ä»¬æ“ä½œçš„å°±æ˜¯Integerå¯¹è±¡è€Œä¸æ˜¯ä¸€ä¸ªintåŸºæœ¬ç±»å‹äº†ï¼ public static void main(String[] args) { Integer i = 1; //åŒ…è£…ç±»å‹å¯ä»¥ç›´æ¥æ¥æ”¶å¯¹åº”ç±»å‹çš„æ•°æ®ï¼Œå¹¶å˜ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ System.out.println(i + i); //åŒ…è£…ç±»å‹å¯ä»¥ç›´æ¥è¢«å½“åšä¸€ä¸ªåŸºæœ¬ç±»å‹è¿›è¡Œæ“ä½œï¼ } è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®± é‚£ä¹ˆä¸ºä»€ä¹ˆåŒ…è£…ç±»å‹èƒ½ç›´æ¥ä½¿ç”¨ä¸€ä¸ªå…·ä½“å€¼æ¥èµ‹å€¼å‘¢ï¼Ÿå…¶å®ä¾é çš„æ˜¯è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±æœºåˆ¶ Integer i = 1; //å…¶å®è¿™é‡Œåªæ˜¯ç®€å†™äº†è€Œå·² Integer i = Integer.valueOf(1); //ç¼–è¯‘åçœŸæ­£çš„æ ·å­ è°ƒç”¨valueOfæ¥ç”Ÿæˆä¸€ä¸ªIntegerå¯¹è±¡ï¼ public static Integer valueOf(int i) { if (i \u003e= IntegerCache.low \u0026\u0026 i \u003c= IntegerCache.high) //æ³¨æ„ï¼ŒJavaä¸ºäº†ä¼˜åŒ–ï¼Œæœ‰ä¸€ä¸ªç¼“å­˜æœºåˆ¶ï¼Œå¦‚æœæ˜¯åœ¨-128~127ä¹‹é—´çš„æ•°ï¼Œä¼šç›´æ¥ä½¿ç”¨å·²ç»ç¼“å­˜å¥½çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å†å»åˆ›å»ºæ–°çš„ï¼ï¼ˆé¢è¯•å¸¸è€ƒï¼‰ return IntegerCache.cache[i + (-IntegerCache.low)]; return new Integer(i); //è¿”å›ä¸€ä¸ªæ–°åˆ›å»ºå¥½çš„å¯¹è±¡ } è€Œå¦‚æœä½¿ç”¨åŒ…è£…ç±»æ¥è¿›è¡Œè¿ç®—ï¼Œæˆ–æ˜¯èµ‹å€¼ç»™ä¸€ä¸ªåŸºæœ¬ç±»å‹å˜é‡ï¼Œä¼šè¿›è¡Œè‡ªåŠ¨æ‹†ç®±ï¼š public static void main(String[] args) { Integer i = Integer.valueOf(1); int a = i; //ç®€å†™ int a = i.intValue(); //ç¼–è¯‘åå®é™…çš„ä»£ç  long c = i.longValue(); //å…¶ä»–ç±»å‹ä¹Ÿæœ‰ï¼ } æ—¢ç„¶ç°åœ¨æ˜¯åŒ…è£…ç±»å‹äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜èƒ½ä½¿ç”¨==æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰å—ï¼Ÿ public static void main(String[] args) { Integer i1 = 28914; Integer i2 = 28914; System.out.println(i1 == i2); //å®é™…ä¸Šåˆ¤æ–­æ˜¯ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡ï¼ˆå†…å­˜åœ°å€æ˜¯å¦ç›¸åŒï¼‰ System.out.println(i1.equals(i2)); //è¿™ä¸ªæ‰æ˜¯çœŸæ­£çš„å€¼åˆ¤æ–­ï¼ } æ³¨æ„IntegerCacheå¸¦æ¥çš„å½±å“ï¼ æ€è€ƒï¼šä¸‹é¢è¿™ç§æƒ…å†µç»“æœä¼šæ˜¯ä»€ä¹ˆï¼Ÿ public static void main(String[] args) { Integer i1 = 28914; Integer i2 = 28914; System.out.println(i1+1 == i2+1); } åœ¨é›†åˆç±»çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬è¿˜ä¼šç»§ç»­ç”¨åˆ°æˆ‘ä»¬çš„åŒ…è£…ç±»å‹ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:8:0","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"é¢å‘å¯¹è±¡ç¼–ç¨‹å®æˆ˜ è™½ç„¶æˆ‘ä»¬å­¦ä¹ äº†ç¼–ç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½ä¸€è‚¡è„‘çš„æ‰€æœ‰é—®é¢˜éƒ½ç…§ç€ç¼–ç¨‹çš„æ€ç»´å»è§£å†³ï¼Œç¼–ç¨‹åªæ˜¯è§£å†³é—®é¢˜çš„ä¸€ç§æ‰‹æ®µï¼Œçµæ´»çš„è¿ç”¨æˆ‘ä»¬æ‰€å­¦çš„çŸ¥è¯†ï¼Œæ‰æ˜¯è§£å†³é—®é¢˜çš„æœ€å¥½åŠæ³•ï¼æ¯”å¦‚ï¼Œæ±‚1åˆ°100æ‰€æœ‰æ•°çš„å’Œï¼š public static void main(String[] args) { int sum = 0; for (int i = 1; i \u003c= 100; i++) { //forå¾ªç¯æš´åŠ›æ±‚è§£ï¼Œç®€å•ï¼Œä½†æ˜¯æ•ˆç‡ä¼¼ä¹ä½äº†ä¸€äº› sum += i; } System.out.println(sum); } public static void main(String[] args) { System.out.println((1 + 100) * 50); //é«˜æ–¯æ±‚å’Œå…¬å¼ï¼Œåˆ©ç”¨æ•°å­¦ï¼Œç¬é—´è®¡ç®—ç»“æœï¼ } è¯´åˆ°æœ€åï¼Œå…¶å®æ•°å­¦å’Œé€»è¾‘æ€ç»´æ‰æ˜¯è§£å†³é—®é¢˜çš„æœ€ç»ˆåŠæ³•ï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:9:0","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å¯¹è±¡è®¾è®¡ï¼ˆé¢å‘å¯¹è±¡ã€å¤šæ€è¿ç”¨ï¼‰ è®¾è®¡ä¸€ä¸ªPersonæŠ½è±¡ç±»ï¼ŒåŒ…å«åƒé¥­è¿åŠ¨å­¦ä¹ ä¸‰ç§è¡Œä¸ºï¼Œåˆ†ä¸ºå·¥äººã€å­¦ç”Ÿã€è€å¸ˆä¸‰ç§èŒä¸šã€‚ è®¾è®¡è®¾è®¡ä¸€ä¸ªæ¥å£è€ƒè¯•ï¼Œåªæœ‰è€å¸ˆå’Œå­¦ç”Ÿä¼šè€ƒè¯•ã€‚ è®¾è®¡ä¸€ä¸ªæ–¹æ³•ï¼Œæ¨¡æ‹Ÿè®©äººç±»è¿›å…¥è€ƒåœºï¼Œè¦æ±‚åªæœ‰ä¼šè€ƒè¯•çš„äººæ‰èƒ½è¿›å…¥ï¼Œå¹¶ä¸”è€ƒè¯•ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:9:1","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"äºŒåˆ†æœç´¢ï¼ˆæœç´¢ç®—æ³•ï¼‰ ç°åœ¨æœ‰ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼ˆä»å°åˆ°å¤§ï¼Œæ•°ç»„é•¿åº¦ 0 \u003c n \u003c 1000000ï¼‰å¦‚ä½•å¿«é€Ÿå¯»æ‰¾æˆ‘ä»¬æƒ³è¦çš„æ•°åœ¨å“ªä¸ªä½ç½®ï¼Œå¦‚æœå­˜åœ¨è¯·è¿”å›ä¸‹æ ‡ï¼Œä¸å­˜åœ¨è¿”å›-1å³å¯ã€‚ int[] arr = new int[]{1, 4, 5, 6, 7, 10, 12, 14, 20, 22, 26}; //æµ‹è¯•ç”¨ä¾‹ private static int test(int[] arr, int target){ //è¯·åœ¨è¿™é‡Œå®ç°æœç´¢ç®—æ³• } ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:9:2","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"å¿«é€Ÿæ’åºï¼ˆæ’åºç®—æ³•ã€é€’å½’åˆ†æ²»ï¼‰ ï¼ˆå¼€å§‹ä¹‹å‰å…ˆä»‹ç»ä¸€ä¸‹é€’å½’ï¼ï¼‰å¿«é€Ÿæ’åºå…¶å®æ˜¯ä¸€ç§æ’åºæ‰§è¡Œæ•ˆç‡å¾ˆé«˜çš„æ’åºç®—æ³•ï¼Œå®ƒåˆ©ç”¨åˆ†æ²»æ³•æ¥å¯¹å¾…æ’åºåºåˆ—è¿›è¡Œåˆ†æ²»æ’åºï¼Œå®ƒçš„æ€æƒ³ä¸»è¦æ˜¯é€šè¿‡ä¸€è¶Ÿæ’åºå°†å¾…æ’è®°å½•åˆ†éš”æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­çš„ä¸€éƒ¨åˆ†æ¯”å…³é”®å­—å°ï¼Œåé¢ä¸€éƒ¨åˆ†æ¯”å…³é”®å­—å¤§ï¼Œç„¶åå†å¯¹è¿™å‰åçš„ä¸¤éƒ¨åˆ†åˆ†åˆ«é‡‡ç”¨è¿™ç§æ–¹å¼è¿›è¡Œæ’åºï¼Œé€šè¿‡é€’å½’çš„è¿ç®—æœ€ç»ˆè¾¾åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚ å¿«é€Ÿæ’åºå°±åƒå®ƒçš„åå­—ä¸€æ ·ï¼Œå¿«é€Ÿï¼åœ¨æç«¯æƒ…å†µä¸‹ï¼Œä¼šé€€åŒ–æˆå†’æ³¡æ’åºï¼ ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:9:3","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"0/1èƒŒåŒ…é—®é¢˜ï¼ˆå›æº¯æ³•ã€å‰ªæ/åŠ¨æ€è§„åˆ’ä¼˜åŒ–ï¼‰ ç»™å®š n ä»¶ç‰©å“ï¼Œæ¯ä¸€ä¸ªç‰©å“çš„é‡é‡ä¸º w[n]ï¼Œæ¯ä¸ªç‰©å“çš„ä»·å€¼ä¸º v[n]ã€‚ç°æŒ‘é€‰ç‰©å“æ”¾å…¥èƒŒåŒ…ä¸­ï¼Œå‡å®šèƒŒåŒ…èƒ½æ‰¿å—çš„æœ€å¤§é‡é‡ä¸º capacityï¼Œæ±‚è£…å…¥ç‰©å“çš„æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘? int[] w = {2, 3, 4, 5}; int[] v = {3, 4, 5, 6}; int capacity = 8; ","date":"2022-01-23","objectID":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/:9:4","tags":["Javaå¯¹è±¡å’Œå¤šæ€"],"title":"Javaå¯¹è±¡å’Œå¤šæ€","uri":"/posts/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","date":"2022-01-23","objectID":"/posts/java%E5%BC%82%E5%B8%B8/","tags":["Javaå¼‚å¸¸å¤„ç†"],"title":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","uri":"/posts/java%E5%BC%82%E5%B8%B8/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaå¼‚å¸¸æœºåˆ¶ é…å¥—è§†é¢‘ åœ¨ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ç¨‹åºä¼šæŒ‰ç…§æˆ‘ä»¬çš„æ€è·¯å»è¿è¡Œï¼ŒæŒ‰ç†è¯´æ˜¯ä¸ä¼šå‡ºç°é—®é¢˜çš„ï¼Œä½†æ˜¯ï¼Œä»£ç å®é™…ç¼–å†™åå¹¶ä¸ä¸€å®šæ˜¯å®Œç¾çš„ï¼Œå¯èƒ½ä¼šæœ‰æˆ‘ä»¬æ²¡æœ‰è€ƒè™‘åˆ°çš„æƒ…å†µï¼Œå¦‚æœè¿™äº›æƒ…å†µèƒ½å¤Ÿæ­£å¸¸å¾—åˆ°ä¸€ä¸ªé”™è¯¯çš„ç»“æœè¿˜å¥½ï¼Œä½†æ˜¯å¦‚æœç›´æ¥å¯¼è‡´ç¨‹åºè¿è¡Œå‡ºç°é—®é¢˜äº†å‘¢ï¼Ÿ public static void main(String[] args) { test(1, 0); //å½“bä¸º0çš„æ—¶å€™ï¼Œè¿˜èƒ½æ­£å¸¸è¿è¡Œå—ï¼Ÿ } private static int test(int a, int b){ return a/b; //æ²¡æœ‰ä»»ä½•çš„åˆ¤æ–­è€Œæ˜¯ç›´æ¥åšè®¡ç®— } Exception in thread \"main\" java.lang.ArithmeticException: / by zero at com.test.Application.test(Application.java:9) at com.test.Application.main(Application.java:5) å½“ç¨‹åºè¿è¡Œå‡ºç°æˆ‘ä»¬æ²¡æœ‰è€ƒè™‘åˆ°çš„æƒ…å†µæ—¶ï¼Œå°±æœ‰å¯èƒ½å‡ºç°å¼‚å¸¸æˆ–æ˜¯é”™è¯¯ï¼ ","date":"2022-01-23","objectID":"/posts/java%E5%BC%82%E5%B8%B8/:0:0","tags":["Javaå¼‚å¸¸å¤„ç†"],"title":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","uri":"/posts/java%E5%BC%82%E5%B8%B8/"},{"categories":["JavaSEç¬”è®°"],"content":"å¼‚å¸¸ æˆ‘ä»¬åœ¨ä¹‹å‰å…¶å®å·²ç»æ¥è§¦è¿‡ä¸€äº›å¼‚å¸¸äº†ï¼Œæ¯”å¦‚æ•°ç»„è¶Šç•Œå¼‚å¸¸ï¼Œç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œç®—æœ¯å¼‚å¸¸ç­‰ï¼Œä»–ä»¬å…¶å®éƒ½æ˜¯å¼‚å¸¸ç±»å‹ï¼Œæˆ‘ä»¬çš„æ¯ä¸€ä¸ªå¼‚å¸¸ä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œä»–ä»¬éƒ½ç»§æ‰¿è‡ªExceptionç±»ï¼å¼‚å¸¸ç±»å‹æœ¬è´¨ä¾ç„¶ç±»çš„å¯¹è±¡ï¼Œä½†æ˜¯å¼‚å¸¸ç±»å‹æ”¯æŒåœ¨ç¨‹åºè¿è¡Œå‡ºç°é—®é¢˜æ—¶æŠ›å‡ºï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢å‡ºç°çš„çº¢è‰²æŠ¥é”™ï¼‰ä¹Ÿå¯ä»¥æå‰å£°æ˜ï¼Œå‘ŠçŸ¥ä½¿ç”¨è€…éœ€è¦å¤„ç†å¯èƒ½ä¼šå‡ºç°çš„å¼‚å¸¸ï¼ ","date":"2022-01-23","objectID":"/posts/java%E5%BC%82%E5%B8%B8/:1:0","tags":["Javaå¼‚å¸¸å¤„ç†"],"title":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","uri":"/posts/java%E5%BC%82%E5%B8%B8/"},{"categories":["JavaSEç¬”è®°"],"content":"è¿è¡Œæ—¶å¼‚å¸¸ å¼‚å¸¸çš„ç¬¬ä¸€ç§ç±»å‹æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ï¼Œå¦‚ä¸Šè¿°çš„åˆ—å­ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µæ— æ³•æ„ŸçŸ¥ä»£ç æ˜¯å¦ä¼šå‡ºç°é—®é¢˜ï¼Œåªæœ‰åœ¨è¿è¡Œçš„æ—¶å€™æ‰çŸ¥é“ä¼šä¸ä¼šå‡ºé”™ï¼ˆæ­£å¸¸æƒ…å†µä¸‹æ˜¯ä¸ä¼šå‡ºé”™çš„ï¼‰ï¼Œè¿™æ ·çš„å¼‚å¸¸ç§°ä¸ºè¿è¡Œæ—¶å¼‚å¸¸ã€‚æ‰€æœ‰çš„è¿è¡Œæ—¶å¼‚å¸¸éƒ½ç»§æ‰¿è‡ªRuntimeExceptionã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%BC%82%E5%B8%B8/:1:1","tags":["Javaå¼‚å¸¸å¤„ç†"],"title":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","uri":"/posts/java%E5%BC%82%E5%B8%B8/"},{"categories":["JavaSEç¬”è®°"],"content":"ç¼–è¯‘æ—¶å¼‚å¸¸ å¼‚å¸¸çš„å¦ä¸€ç§ç±»å‹æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œç¼–è¯‘æ—¶å¼‚å¸¸æ˜¯æ˜ç¡®ä¼šå‡ºç°çš„å¼‚å¸¸ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå°±éœ€è¦è¿›è¡Œå¤„ç†çš„å¼‚å¸¸ï¼ˆæ•è·å¼‚å¸¸ï¼‰å¦‚æœä¸è¿›è¡Œå¤„ç†ï¼Œå°†æ— æ³•é€šè¿‡ç¼–è¯‘ï¼é»˜è®¤ç»§æ‰¿è‡ªExceptionç±»çš„å¼‚å¸¸éƒ½æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ã€‚ File file = new File(\"my.txt\"); file.createNewFile(); //è¦è°ƒç”¨æ­¤æ–¹æ³•ï¼Œé¦–å…ˆéœ€è¦å¤„ç†å¼‚å¸¸ ","date":"2022-01-23","objectID":"/posts/java%E5%BC%82%E5%B8%B8/:1:2","tags":["Javaå¼‚å¸¸å¤„ç†"],"title":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","uri":"/posts/java%E5%BC%82%E5%B8%B8/"},{"categories":["JavaSEç¬”è®°"],"content":"é”™è¯¯ é”™è¯¯æ¯”å¼‚å¸¸æ›´ä¸¥é‡ï¼Œå¼‚å¸¸å°±æ˜¯ä¸åŒå¯»å¸¸ï¼Œä½†ä¸ä¸€å®šä¼šå¯¼è‡´è‡´å‘½çš„é—®é¢˜ï¼Œè€Œé”™è¯¯æ˜¯è‡´å‘½é—®é¢˜ï¼Œä¸€èˆ¬å‡ºç°é”™è¯¯å¯èƒ½JVMå°±æ— æ³•ç»§ç»­æ­£å¸¸è¿è¡Œäº†ï¼Œæ¯”å¦‚OutOfMemoryErrorå°±æ˜¯å†…å­˜æº¢å‡ºé”™è¯¯ï¼ˆå†…å­˜å ç”¨å·²ç»è¶…å‡ºé™åˆ¶ï¼Œæ— æ³•ç»§ç»­ç”³è¯·å†…å­˜äº†ï¼‰ int[] arr = new int[Integer.MAX_VALUE]; //èƒ½åˆ›å»ºå¦‚æ­¤ä¹‹å¤§çš„æ•°ç»„å—ï¼Ÿ è¿è¡Œåå¾—åˆ°ä»¥ä¸‹å†…å®¹ï¼š Exception in thread \"main\" java.lang.OutOfMemoryError: Requested array size exceeds VM limit at com.test.Main.main(Main.java:14) é”™è¯¯éƒ½ç»§æ‰¿è‡ªErrorç±»ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç¨‹åºä¸­åªèƒ½å¤„ç†å¼‚å¸¸ï¼Œé”™è¯¯æ˜¯å¾ˆéš¾è¿›è¡Œå¤„ç†çš„ï¼ŒErrorå’ŒExecptionéƒ½ç»§æ‰¿è‡ªThrowableç±»ã€‚å½“ç¨‹åºä¸­å‡ºç°é”™è¯¯æˆ–å¼‚å¸¸æ—¶åˆæ²¡æœ‰è¿›è¡Œå¤„ç†æ—¶ï¼Œç¨‹åºï¼ˆå½“å‰çº¿ç¨‹ï¼‰å°†ç»ˆæ­¢è¿è¡Œï¼š int[] arr = new int[Integer.MAX_VALUE]; System.out.println(\"lbwnb\"); //è¿˜èƒ½æ­£å¸¸æ‰“å°å—ï¼Ÿ ","date":"2022-01-23","objectID":"/posts/java%E5%BC%82%E5%B8%B8/:2:0","tags":["Javaå¼‚å¸¸å¤„ç†"],"title":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","uri":"/posts/java%E5%BC%82%E5%B8%B8/"},{"categories":["JavaSEç¬”è®°"],"content":"å¼‚å¸¸çš„å¤„ç† å½“ç¨‹åºæ²¡æœ‰æŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ ·å­è¿è¡Œè€Œå‡ºç°å¼‚å¸¸æ—¶ï¼ˆé»˜è®¤ä¼šäº¤ç»™JVMæ¥å¤„ç†ï¼ŒJVMå‘ç°ä»»ä½•å¼‚å¸¸éƒ½ä¼šç«‹å³ç»ˆæ­¢ç¨‹åºè¿è¡Œï¼Œå¹¶åœ¨æ§åˆ¶å°æ‰“å°æ ˆè¿½è¸ªä¿¡æ¯ï¼‰ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿè‡ªå·±å¤„ç†å‡ºç°çš„é—®é¢˜ï¼Œè®©ç¨‹åºç»§ç»­è¿è¡Œä¸‹å»ï¼Œå°±éœ€è¦å¯¹å¼‚å¸¸è¿›è¡Œæ•è·ï¼Œæ¯”å¦‚ï¼š int[] arr = new int[5]; arr[5] = 1; //æˆ‘ä»¬éœ€è¦å¤„ç†è¿™ç§æƒ…å†µï¼Œä¿è¯åé¢çš„ä»£ç æ­£å¸¸è¿è¡Œï¼ System.out.println(\"lbwnb\"); æˆ‘ä»¬å¯ä»¥ä½¿ç”¨tryå’Œcatchè¯­å¥å—æ¥å¤„ç†ï¼š int[] arr = new int[5]; try{ //åœ¨tryå—ä¸­è¿è¡Œä»£ç  arr[5] = 1; //å½“ä»£ç å‡ºç°å¼‚å¸¸æ—¶ï¼Œå¼‚å¸¸ä¼šè¢«æ•è·ï¼Œå¹¶åœ¨catchå—ä¸­å¾—åˆ°å¼‚å¸¸ç±»å‹çš„å¯¹è±¡ }catch (ArrayIndexOutOfBoundsException e){ //æ•è·çš„å¼‚å¸¸ç±»å‹ System.out.println(\"ç¨‹åºè¿è¡Œå‡ºç°å¼‚å¸¸ï¼\"); //å‡ºç°å¼‚å¸¸æ—¶æ‰§è¡Œ } //åé¢çš„ä»£ç ä¼šæ­£å¸¸è¿è¡Œ System.out.println(\"lbwnb\"); å½“å¼‚å¸¸è¢«æ•è·åï¼Œå°±ç”±æˆ‘ä»¬è‡ªå·±è¿›è¡Œå¤„ç†ï¼ˆä¸å†äº¤ç»™JVMå¤„ç†ï¼‰ï¼Œå› æ­¤å°±ä¸ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢è¿è¡Œã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨e.printStackTrace()æ¥æ‰“å°æ ˆè¿½è¸ªä¿¡æ¯ï¼Œå®šä½æˆ‘ä»¬çš„å¼‚å¸¸å‡ºç°ä½ç½®ï¼š java.lang.ArrayIndexOutOfBoundsException: 5 at com.test.Main.main(Main.java:7) //Mainç±»çš„ç¬¬7è¡Œå‡ºç°é—®é¢˜ ç¨‹åºè¿è¡Œå‡ºç°å¼‚å¸¸ï¼ lbwnb è¿è¡Œæ—¶å¼‚å¸¸åœ¨ç¼–è¯‘æ—¶å¯ä»¥ä¸ç”¨æ•è·ï¼Œä½†æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸å¿…é¡»è¿›è¡Œå¤„ç†ï¼š File file = new File(\"my.txt\"); try { file.createNewFile(); } catch (IOException e) { //æ•è·å£°æ˜çš„å¼‚å¸¸ç±»å‹ e.printStackTrace(); } å¯ä»¥æ•è·åˆ°ç±»å‹ä¸æ­¢æ˜¯Exceptionçš„å­ç±»ï¼Œåªè¦æ˜¯ç»§æ‰¿è‡ªThrowalbeçš„ç±»ï¼Œéƒ½èƒ½è¢«æ•è·ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒErrorä¹Ÿèƒ½è¢«æ•è·ï¼Œä½†æ˜¯ä¸å»ºè®®è¿™æ ·åšï¼Œå› ä¸ºé”™è¯¯ä¸€èˆ¬æ˜¯è™šæ‹Ÿæœºç›¸å…³çš„é—®é¢˜ï¼Œå‡ºç°Erroråº”è¯¥ä»é—®é¢˜çš„æ ¹æºå»è§£å†³ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E5%BC%82%E5%B8%B8/:3:0","tags":["Javaå¼‚å¸¸å¤„ç†"],"title":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","uri":"/posts/java%E5%BC%82%E5%B8%B8/"},{"categories":["JavaSEç¬”è®°"],"content":"å¼‚å¸¸çš„æŠ›å‡º å½“åˆ«äººè°ƒç”¨æˆ‘ä»¬çš„æ–¹æ³•æ—¶ï¼Œå¦‚æœä¼ å…¥äº†é”™è¯¯çš„å‚æ•°å¯¼è‡´ç¨‹åºæ— æ³•æ­£å¸¸è¿è¡Œï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦æ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸æ¥ç»ˆæ­¢ç¨‹åºç»§ç»­è¿è¡Œä¸‹å»ï¼ŒåŒæ—¶å‘ŠçŸ¥ä¸Šä¸€çº§æ–¹æ³•æ‰§è¡Œå‡ºç°äº†é—®é¢˜ï¼š public static void main(String[] args) { try { test(1, 0); } catch (Exception e) { //æ•è·æ–¹æ³•ä¸­ä¼šå‡ºç°çš„å¼‚å¸¸ e.printStackTrace(); } } private static int test(int a, int b) throws Exception { //å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ if(b == 0) throw new Exception(\"0ä¸èƒ½åšé™¤æ•°ï¼\"); //åˆ›å»ºå¼‚å¸¸å¯¹è±¡å¹¶æŠ›å‡ºå¼‚å¸¸ return a/b; //æŠ›å‡ºå¼‚å¸¸ä¼šç»ˆæ­¢ä»£ç è¿è¡Œ } é€šè¿‡throwå…³é”®å­—æŠ›å‡ºå¼‚å¸¸ï¼ˆæŠ›å‡ºå¼‚å¸¸åï¼Œåé¢çš„ä»£ç ä¸å†æ‰§è¡Œï¼‰å½“ç¨‹åºè¿è¡Œåˆ°è¿™ä¸€è¡Œæ—¶ï¼Œå°±ä¼šç»ˆæ­¢æ‰§è¡Œï¼Œå¹¶å‡ºç°ä¸€ä¸ªå¼‚å¸¸ã€‚ å¦‚æœæ–¹æ³•ä¸­æŠ›å‡ºäº†éè¿è¡Œæ—¶å¼‚å¸¸ï¼Œä½†æ˜¯ä¸å¸Œæœ›åœ¨æ­¤æ–¹æ³•å†…å¤„ç†ï¼Œè€Œæ˜¯äº¤ç»™è°ƒç”¨è€…æ¥å¤„ç†å¼‚å¸¸ï¼Œå°±éœ€è¦åœ¨æ–¹æ³•å®šä¹‰åé¢æ˜¾å¼å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ï¼å¦‚æœæŠ›å‡ºçš„æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ï¼Œåˆ™ä¸éœ€è¦åœ¨æ–¹æ³•åé¢å£°æ˜å¼‚å¸¸ç±»å‹ï¼Œè°ƒç”¨æ—¶ä¹Ÿæ— éœ€æ•è·ï¼Œä½†æ˜¯å‡ºç°å¼‚å¸¸æ—¶åŒæ ·ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ï¼ˆå‡ºç°è¿è¡Œæ—¶å¼‚å¸¸åŒæ—¶æœªè¢«æ•è·ä¼šé»˜è®¤äº¤ç»™JVMå¤„ç†ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥ä¸­æ­¢ç¨‹åºå¹¶åœ¨æ§åˆ¶å°æ‰“å°æ ˆè¿½è¸ªä¿¡æ¯ï¼‰ å¦‚æœæƒ³è¦è°ƒç”¨å£°æ˜ç¼–è¯‘æ—¶å¼‚å¸¸çš„æ–¹æ³•ï¼Œä½†æ˜¯ä¾ç„¶ä¸æƒ³å»å¤„ç†ï¼Œå¯ä»¥åŒæ ·çš„åœ¨æ–¹æ³•ä¸Šå£°æ˜throwsæ¥ç»§ç»­äº¤ç»™ä¸Šä¸€çº§å¤„ç†ã€‚ public static void main(String[] args) throws Exception { //å‡ºç°å¼‚å¸¸å°±å†å¾€ä¸ŠæŠ›ï¼Œè€Œä¸æ˜¯åœ¨æ­¤æ–¹æ³•å†…å¤„ç† test(1, 0); } private static int test(int a, int b) throws Exception { //å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ if(b == 0) throw new Exception(\"0ä¸èƒ½åšé™¤æ•°ï¼\"); //åˆ›å»ºå¼‚å¸¸å¯¹è±¡å¹¶æŠ›å‡ºå¼‚å¸¸ return a/b; } å½“mainæ–¹æ³•éƒ½å£°æ˜æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œå‡ºç°å¼‚å¸¸å°±ç”±JVMè¿›è¡Œå¤„ç†ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤çš„å¤„ç†æ–¹å¼ï¼ˆç›´æ¥ä¸­æ­¢ç¨‹åºå¹¶åœ¨æ§åˆ¶å°æ‰“å°æ ˆè¿½è¸ªä¿¡æ¯ï¼‰ å¼‚å¸¸åªèƒ½è¢«æ•è·ä¸€æ¬¡ï¼Œå½“å¼‚å¸¸æ•è·å‡ºç°åµŒå¥—æ—¶ï¼Œåªä¼šåœ¨æœ€å†…å±‚è¢«æ•è·ï¼š public static void main(String[] args) throws Exception { try{ test(1, 0); }catch (Exception e){ System.out.println(\"å¤–å±‚\"); } } private static int test(int a, int b){ try{ if(b == 0) throw new Exception(\"0ä¸èƒ½åšé™¤æ•°ï¼\"); }catch (Exception e){ System.out.println(\"å†…å±‚\"); return 0; } return a/b; } ","date":"2022-01-23","objectID":"/posts/java%E5%BC%82%E5%B8%B8/:4:0","tags":["Javaå¼‚å¸¸å¤„ç†"],"title":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","uri":"/posts/java%E5%BC%82%E5%B8%B8/"},{"categories":["JavaSEç¬”è®°"],"content":"è‡ªå®šä¹‰å¼‚å¸¸ JDKä¸ºæˆ‘ä»¬å·²ç»æå‰å®šä¹‰äº†ä¸€äº›å¼‚å¸¸äº†ï¼Œä½†æ˜¯å¯èƒ½å¯¹æˆ‘ä»¬æ¥è¯´ä¸å¤Ÿï¼Œé‚£ä¹ˆå°±éœ€è¦è‡ªå®šä¹‰å¼‚å¸¸ï¼š public class MyException extends Exception { //ç›´æ¥ç»§æ‰¿å³å¯ } public static void main(String[] args) throws MyException { throw new MyException(); //ç›´æ¥ä½¿ç”¨ } ä¹Ÿå¯ä»¥ä½¿ç”¨çˆ¶ç±»çš„å¸¦æè¿°çš„æ„é€ æ–¹æ³•ï¼š public class MyException extends Exception { public MyException(String message){ super(message); } } public static void main(String[] args) throws MyException { throw new MyException(\"å‡ºç°äº†è‡ªå®šä¹‰çš„é”™è¯¯\"); } æ•è·å¼‚å¸¸æŒ‡å®šçš„ç±»å‹ï¼Œä¼šæ•è·å…¶æ‰€æœ‰å­å¼‚å¸¸ç±»å‹ï¼š try { throw new MyException(\"å‡ºç°äº†è‡ªå®šä¹‰çš„é”™è¯¯\"); } catch (Exception e) { //æ•è·çˆ¶å¼‚å¸¸ç±»å‹ System.out.println(\"æ•è·åˆ°å¼‚å¸¸\"); } ","date":"2022-01-23","objectID":"/posts/java%E5%BC%82%E5%B8%B8/:5:0","tags":["Javaå¼‚å¸¸å¤„ç†"],"title":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","uri":"/posts/java%E5%BC%82%E5%B8%B8/"},{"categories":["JavaSEç¬”è®°"],"content":"å¤šé‡å¼‚å¸¸æ•è·å’Œfinallyå…³é”®å­— å½“ä»£ç å¯èƒ½å‡ºç°å¤šç§ç±»å‹çš„å¼‚å¸¸æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿåˆ†ä¸åŒæƒ…å†µå¤„ç†ä¸åŒç±»å‹çš„å¼‚å¸¸ï¼Œå°±å¯ä»¥ä½¿ç”¨å¤šé‡å¼‚å¸¸æ•è·ï¼š try { //.... } catch (NullPointerException e) { } catch (IndexOutOfBoundsException e){ } catch (RuntimeException e){ } æ³¨æ„ï¼Œç±»ä¼¼äºif-else ifçš„ç»“æ„ï¼Œçˆ¶å¼‚å¸¸ç±»å‹åªèƒ½æ”¾åœ¨æœ€åï¼ try { //.... } catch (RuntimeException e){ //çˆ¶ç±»å‹åœ¨å‰ï¼Œä¼šå°†å­ç±»çš„ä¹Ÿæ•è· } catch (NullPointerException e) { //æ°¸è¿œéƒ½ä¸ä¼šè¢«æ•è· } catch (IndexOutOfBoundsException e){ //æ°¸è¿œéƒ½ä¸ä¼šè¢«æ•è· } å¦‚æœå¸Œæœ›æŠŠè¿™äº›å¼‚å¸¸æ”¾åœ¨ä¸€èµ·è¿›è¡Œå¤„ç†ï¼š try { //.... } catch (NullPointerException | IndexOutOfBoundsException e) { //ç”¨|éš”å¼€æ¯ç§ç±»å‹å³å¯ } å½“æˆ‘ä»¬å¸Œæœ›ï¼Œç¨‹åºè¿è¡Œæ—¶ï¼Œæ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œéƒ½ä¼šåœ¨æœ€åæ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¯ä»¥äº¤ç»™finallyè¯­å¥å—æ¥å¤„ç†ï¼š try { //.... }catch (Exception e){ }finally { System.out.println(\"lbwnb\"); //æ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œéƒ½ä¼šåœ¨æœ€åæ‰§è¡Œ } tryè¯­å¥å—è‡³å°‘è¦é…åˆcatchæˆ–finallyä¸­çš„ä¸€ä¸ªï¼š try { int a = 10; a /= 0; }finally { //ä¸æ•è·å¼‚å¸¸ï¼Œç¨‹åºä¼šç»ˆæ­¢ï¼Œä½†åœ¨æœ€åä¾ç„¶ä¼šæ‰§è¡Œä¸‹é¢çš„å†…å®¹ System.out.println(\"lbwnb\"); } æ€è€ƒï¼štryã€catchå’Œfinallyæ‰§è¡Œé¡ºåºï¼š private static int test(int a){ try{ return a; }catch (Exception e){ return 0; }finally { a = a + 1; } } ","date":"2022-01-23","objectID":"/posts/java%E5%BC%82%E5%B8%B8/:6:0","tags":["Javaå¼‚å¸¸å¤„ç†"],"title":"Javaå¼‚å¸¸å¤„ç†æœºåˆ¶","uri":"/posts/java%E5%BC%82%E5%B8%B8/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaæ³›å‹ä¸é›†åˆç±»","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"Javaæ³›å‹ä¸é›†åˆç±» é…å¥—è§†é¢‘ åœ¨å‰é¢æˆ‘ä»¬å­¦ä¹ äº†æœ€é‡è¦çš„ç±»å’Œå¯¹è±¡ï¼Œäº†è§£äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ€æƒ³ï¼Œæ³¨æ„ï¼Œéå¸¸é‡è¦ï¼Œé¢å‘å¯¹è±¡æ˜¯å¿…é¡»è¦æ·±å…¥ç†è§£å’ŒæŒæ¡çš„å†…å®¹ï¼Œä¸èƒ½è‰è‰ç»“æŸã€‚åœ¨æœ¬ç« èŠ‚ï¼Œæˆ‘ä»¬ä¼šç»§ç»­æ·±å…¥äº†è§£ï¼Œä»æˆ‘ä»¬çš„æ³›å‹å¼€å§‹ï¼Œå†åˆ°æˆ‘ä»¬çš„æ•°æ®ç»“æ„ï¼Œæœ€åå†å¼€å§‹æˆ‘ä»¬çš„é›†åˆç±»å­¦ä¹ ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:0:0","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"èµ°è¿›æ³›å‹ ä¸ºäº†ç»Ÿè®¡å­¦ç”Ÿæˆç»©ï¼Œè¦æ±‚è®¾è®¡ä¸€ä¸ªScoreå¯¹è±¡ï¼ŒåŒ…æ‹¬è¯¾ç¨‹åç§°ã€è¯¾ç¨‹å·ã€è¯¾ç¨‹æˆç»©ï¼Œä½†æ˜¯æˆç»©åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯ä»¥ä¼˜ç§€ã€è‰¯å¥½ã€åˆæ ¼ æ¥ä½œä¸ºç»“æœï¼Œè¿˜æœ‰ä¸€ç§å°±æ˜¯ 60.0ã€75.5ã€92.5 è¿™æ ·çš„æ•°å­—åˆ†æ•°ï¼Œé‚£ä¹ˆç°åœ¨è¯¥å¦‚ä½•å»è®¾è®¡è¿™æ ·çš„ä¸€ä¸ªScoreç±»å‘¢ï¼Ÿç°åœ¨çš„é—®é¢˜å°±æ˜¯ï¼Œæˆç»©å¯èƒ½æ˜¯Stringç±»å‹ï¼Œä¹Ÿå¯èƒ½æ˜¯Integerç±»å‹ï¼Œå¦‚ä½•æ‰èƒ½å¾ˆå¥½çš„å»å­˜å¯èƒ½å‡ºç°çš„ä¸¤ç§ç±»å‹å‘¢ï¼Ÿ public class Score { String name; String id; Object score; //å› ä¸ºObjectæ˜¯æ‰€æœ‰ç±»å‹çš„çˆ¶ç±»ï¼Œå› æ­¤æ—¢å¯ä»¥å­˜æ”¾Integerä¹Ÿèƒ½å­˜æ”¾String public Score(String name, String id, Object score) { this.name = name; this.id = id; this.score = score; } } ä»¥ä¸Šçš„æ–¹æ³•è™½ç„¶å¾ˆå¥½åœ°è§£å†³äº†å¤šç§ç±»å‹å­˜å‚¨é—®é¢˜ï¼Œä½†æ˜¯Objectç±»å‹åœ¨ç¼–è¯‘é˜¶æ®µå¹¶ä¸å…·æœ‰è‰¯å¥½çš„ç±»å‹åˆ¤æ–­èƒ½åŠ›ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä»¥ä¸‹çš„æƒ…å†µï¼š public static void main(String[] args) { Score score = new Score(\"æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€\", \"EP074512\", \"ä¼˜ç§€\"); //æ˜¯Stringç±»å‹çš„ //.... Integer number = (Integer) score.score; //è·å–æˆç»©éœ€è¦è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè™½ç„¶å¹¶ä¸æ˜¯ä¸€å¼€å§‹çš„ç±»å‹ï¼Œä½†æ˜¯ç¼–è¯‘ä¸ä¼šæŠ¥é”™ } //è¿è¡Œæ—¶å‡ºç°å¼‚å¸¸ï¼ Exception in thread \"main\" java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer at com.test.Main.main(Main.java:14) ä½¿ç”¨Objectç±»å‹ä½œä¸ºå¼•ç”¨ï¼Œå–å€¼åªèƒ½è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæ˜¾ç„¶æ— æ³•åœ¨ç¼–è¯‘æœŸç¡®å®šç±»å‹æ˜¯å¦å®‰å…¨ï¼Œé¡¹ç›®ä¸­ä»£ç é‡éå¸¸ä¹‹å¤§ï¼Œè¿›è¡Œç±»å‹æ¯”è¾ƒåˆä¼šå¯¼è‡´é¢å¤–çš„å¼€é”€å’Œå¢åŠ ä»£ç é‡ï¼Œå¦‚æœä¸ç»æ¯”è¾ƒå°±å¾ˆå®¹æ˜“å‡ºç°ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œä»£ç çš„å¥å£®æ€§æœ‰æ‰€æ¬ ç¼ºï¼ï¼ˆæ­¤æ–¹æ³•è™½ç„¶å¯è¡Œï¼Œä½†å¹¶ä¸æ˜¯æœ€å¥½çš„æ–¹æ³•ï¼‰ ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒJDK1.5æ–°å¢äº†æ³›å‹ï¼Œå®ƒèƒ½å¤Ÿåœ¨ç¼–è¯‘é˜¶æ®µå°±æ£€æŸ¥ç±»å‹å®‰å…¨ï¼Œå¤§å¤§æå‡å¼€å‘æ•ˆç‡ã€‚ public class Score\u003cT\u003e { //å°†Scoreè½¬å˜ä¸ºæ³›å‹ç±»\u003cT\u003e String name; String id; T score; //Tä¸ºæ³›å‹ï¼Œæ ¹æ®ç”¨æˆ·æä¾›çš„ç±»å‹è‡ªåŠ¨å˜æˆå¯¹åº”ç±»å‹ public Score(String name, String id, T score) { //æä¾›çš„scoreç±»å‹å³ä¸ºTä»£è¡¨çš„ç±»å‹ this.name = name; this.id = id; this.score = score; } } public static void main(String[] args) { //ç›´æ¥ç¡®å®šScoreçš„ç±»å‹æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„æˆç»© Score\u003cString\u003e score = new Score\u003cString\u003e(\"æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€\", \"EP074512\", \"ä¼˜ç§€\"); Integer i = score.score; //ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºæˆå‘˜å˜é‡scoreç±»å‹è¢«å®šä¸ºStringï¼ } æ³›å‹å°†æ•°æ®ç±»å‹çš„ç¡®å®šæ§åˆ¶åœ¨äº†ç¼–è¯‘é˜¶æ®µï¼Œåœ¨ç¼–å†™ä»£ç çš„æ—¶å€™å°±èƒ½æ˜ç¡®æ³›å‹çš„ç±»å‹ï¼å¦‚æœç±»å‹ä¸ç¬¦åˆï¼Œå°†æ— æ³•é€šè¿‡ç¼–è¯‘ï¼ æ³›å‹æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼ˆå¹¶ä¸æ˜¯JVMæ‰€æ”¯æŒçš„è¯­æ³•ï¼Œç¼–è¯‘åä¼šè½¬æˆç¼–è¯‘å™¨æ”¯æŒçš„è¯­æ³•ï¼Œæ¯”å¦‚ä¹‹å‰çš„foreachå°±æ˜¯ï¼‰ï¼Œåœ¨ç¼–è¯‘åä¼šè¢«æ“¦é™¤ï¼Œå˜å›ä¸Šé¢çš„Objectç±»å‹è°ƒç”¨ï¼Œä½†æ˜¯ç±»å‹è½¬æ¢ç”±ç¼–è¯‘å™¨å¸®æˆ‘ä»¬å®Œæˆï¼Œè€Œä¸æ˜¯æˆ‘ä»¬è‡ªå·±è¿›è¡Œè½¬æ¢ï¼ˆå®‰å…¨ï¼‰ //åç¼–è¯‘åçš„ä»£ç  public static void main(String[] args) { Score score = new Score(\"æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€\", \"EP074512\", \"ä¼˜ç§€\"); String i = (String)score.score; //å…¶å®ä¾ç„¶ä¼šå˜ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯è¿™æ˜¯ç”±ç¼–è¯‘å™¨å¸®æˆ‘ä»¬å®Œæˆçš„ } åƒè¿™æ ·åœ¨ç¼–è¯‘åæ³›å‹çš„å†…å®¹æ¶ˆå¤±è½¬å˜ä¸ºObjectçš„æƒ…å†µç§°ä¸ºç±»å‹æ“¦é™¤ï¼ˆé‡è¦ï¼Œéœ€è¦å®Œå…¨ç†è§£ï¼‰ï¼Œæ‰€ä»¥æ³›å‹åªæ˜¯ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬åœ¨ç¼–è¯‘é˜¶æ®µç¡®å®šç±»å‹çš„ä¸€ç§è¯­æ³•è€Œå·²ï¼Œå¹¶ä¸æ˜¯JVMæ‰€æ”¯æŒçš„ã€‚ ç»¼ä¸Šï¼Œæ³›å‹å…¶å®å°±æ˜¯ä¸€ç§ç±»å‹å‚æ•°ï¼Œç”¨äºæŒ‡å®šç±»å‹ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:1:0","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"æ³›å‹çš„ä½¿ç”¨ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:2:0","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"æ³›å‹ç±» ä¸Šä¸€èŠ‚æˆ‘ä»¬å·²ç»æåˆ°æ³›å‹ç±»çš„å®šä¹‰ï¼Œå®é™…ä¸Šå°±æ˜¯æ™®é€šçš„ç±»å¤šäº†ä¸€ä¸ªç±»å‹å‚æ•°ï¼Œä¹Ÿå°±æ˜¯åœ¨ä½¿ç”¨æ—¶éœ€è¦æŒ‡å®šå…·ä½“çš„æ³›å‹ç±»å‹ã€‚æ³›å‹çš„åç§°ä¸€èˆ¬å–å•ä¸ªå¤§å†™å­—æ¯ï¼Œæ¯”å¦‚Tä»£è¡¨Typeï¼Œä¹Ÿå°±æ˜¯ç±»å‹çš„è‹±æ–‡å•è¯é¦–å­—æ¯ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ·»åŠ æ•°å­—å’Œå…¶ä»–çš„å­—ç¬¦ã€‚ public class Score\u003cT\u003e { //å°†Scoreè½¬å˜ä¸ºæ³›å‹ç±»\u003cT\u003e String name; String id; T score; //Tä¸ºæ³›å‹ï¼Œæ ¹æ®ç”¨æˆ·æä¾›çš„ç±»å‹è‡ªåŠ¨å˜æˆå¯¹åº”ç±»å‹ public Score(String name, String id, T score) { //æä¾›çš„scoreç±»å‹å³ä¸ºTä»£è¡¨çš„ç±»å‹ this.name = name; this.id = id; this.score = score; } } åœ¨ä¸€ä¸ªæ™®é€šç±»å‹ä¸­å®šä¹‰æ³›å‹ï¼Œæ³›å‹Tç§°ä¸ºå‚æ•°åŒ–ç±»å‹ï¼Œåœ¨å®šä¹‰æ³›å‹ç±»çš„å¼•ç”¨æ—¶ï¼Œéœ€è¦æ˜ç¡®æŒ‡å‡ºç±»å‹ï¼š Score\u003cString\u003e score = new Score\u003cString\u003e(\"æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€\", \"EP074512\", \"ä¼˜ç§€\"); æ­¤æ—¶ç±»ä¸­çš„æ³›å‹Tå·²ç»è¢«æ›¿æ¢ä¸ºStringäº†ï¼Œåœ¨æˆ‘ä»¬è·å–æ­¤å¯¹è±¡çš„æ³›å‹å±æ€§æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥å‘Šè¯‰æˆ‘ä»¬ç±»å‹ï¼š Integer i = score.score; //ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºæˆå‘˜å˜é‡scoreæ˜ç¡®ä¸ºStringç±»å‹ æ³¨æ„ï¼Œæ³›å‹åªèƒ½ç”¨äºå¯¹è±¡å±æ€§ï¼Œä¹Ÿå°±æ˜¯éé™æ€çš„æˆå‘˜å˜é‡æ‰èƒ½ä½¿ç”¨ï¼š static T score; //é”™è¯¯ï¼Œä¸èƒ½åœ¨é™æ€æˆå‘˜ä¸Šå®šä¹‰ ç”±æ­¤å¯è§ï¼Œæ³›å‹æ˜¯åªæœ‰åœ¨åˆ›å»ºå¯¹è±¡åç¼–è¯‘å™¨æ‰èƒ½æ˜ç¡®æ³›å‹ç±»å‹ï¼Œè€Œé™æ€ç±»å‹æ˜¯ç±»æ‰€å…·æœ‰çš„å±æ€§ï¼Œä¸è¶³ä»¥ä½¿å¾—ç¼–è¯‘å™¨å®Œæˆç±»å‹æ¨æ–­ã€‚ æ³›å‹æ— æ³•ä½¿ç”¨åŸºæœ¬ç±»å‹ï¼Œå¦‚æœéœ€è¦åŸºæœ¬ç±»å‹ï¼Œåªèƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»è¿›è¡Œæ›¿æ¢ï¼ Score\u003cdouble\u003e score = new Score\u003cdouble\u003e(\"æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€\", \"EP074512\", 90.5); //ç¼–è¯‘ä¸é€šè¿‡ é‚£ä¹ˆä¸ºä»€ä¹ˆæ³›å‹æ— æ³•ä½¿ç”¨åŸºæœ¬ç±»å‹å‘¢ï¼Ÿå›æƒ³ä¸Šä¸€èŠ‚æåˆ°çš„ç±»å‹æ“¦é™¤ï¼Œå…¶å®å°±å¾ˆå¥½ç†è§£äº†ã€‚ç”±äºJVMæ²¡æœ‰æ³›å‹æ¦‚å¿µï¼Œå› æ­¤æ³›å‹æœ€åè¿˜æ˜¯ä¼šè¢«ç¼–è¯‘å™¨ç¼–è¯‘ä¸ºObjectï¼Œå¹¶é‡‡ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢çš„å½¢å¼è¿›è¡Œç±»å‹åŒ¹é…ï¼Œè€Œæˆ‘ä»¬çš„åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨ç±»å‹ä¹‹é—´æ— æ³•è¿›è¡Œç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»æ¥å¤„ç†ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:2:1","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"ç±»çš„æ³›å‹æ–¹æ³• æ³›å‹æ–¹æ³•çš„ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠå®ƒå½“åšä¸€ä¸ªæœªçŸ¥çš„ç±»å‹æ¥ä½¿ç”¨å³å¯ï¼š public T getScore() { //è‹¥æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ä¸ºæ³›å‹ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿›è¡Œæ¨æ–­ return score; } public void setScore(T score) { //è‹¥æ–¹æ³•çš„å½¢å¼å‚æ•°ä¸ºæ³›å‹ï¼Œé‚£ä¹ˆå®å‚åªèƒ½æ˜¯å®šä¹‰æ—¶çš„ç±»å‹ this.score = score; } Score\u003cString\u003e score = new Score\u003cString\u003e(\"æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€\", \"EP074512\", \"ä¼˜ç§€\"); score.setScore(10); //ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºåªæ¥å—Stringç±»å‹ åŒæ ·åœ°ï¼Œé™æ€æ–¹æ³•æ— æ³•ç›´æ¥ä½¿ç”¨ç±»å®šä¹‰çš„æ³›å‹ï¼ˆæ³¨æ„æ˜¯æ— æ³•ç›´æ¥ä½¿ç”¨ï¼Œé™æ€æ–¹æ³•å¯ä»¥ä½¿ç”¨æ³›å‹ï¼‰ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:2:2","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"è‡ªå®šä¹‰æ³›å‹æ–¹æ³• é‚£ä¹ˆå¦‚æœæˆ‘æƒ³åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨æ³›å‹å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ä¹‹å‰ä¸ºä»€ä¹ˆæ— æ³•ä½¿ç”¨æ³›å‹ï¼Œå› ä¸ºä¹‹å‰æˆ‘ä»¬çš„æ³›å‹å®šä¹‰æ˜¯åœ¨ç±»ä¸Šçš„ï¼Œåªæœ‰æ˜ç¡®å…·ä½“çš„ç±»å‹æ‰èƒ½å¼€å§‹ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºå¯¹è±¡æ—¶å®Œæˆç±»å‹ç¡®å®šï¼Œä½†æ˜¯é™æ€æ–¹æ³•ä¸éœ€è¦ä¾é™„äºå¯¹è±¡ï¼Œé‚£ä¹ˆåªèƒ½åœ¨ä½¿ç”¨æ—¶å†æ¥ç¡®å®šäº†ï¼Œæ‰€ä»¥é™æ€æ–¹æ³•å¯ä»¥ä½¿ç”¨æ³›å‹ï¼Œä½†æ˜¯éœ€è¦å•ç‹¬å®šä¹‰ï¼š public static \u003cE\u003e void test(E e){ //åœ¨æ–¹æ³•å®šä¹‰å‰å£°æ˜æ³›å‹ System.out.println(e); } åŒç†ï¼Œæˆå‘˜æ–¹æ³•ä¹Ÿèƒ½è‡ªè¡Œå®šä¹‰æ³›å‹ï¼Œåœ¨å®é™…ä½¿ç”¨æ—¶å†è¿›è¡Œç±»å‹ç¡®å®šï¼š public \u003cE\u003e void test(E e){ System.out.println(e); } å…¶å®ï¼Œæ— è®ºæ˜¯æ³›å‹ç±»è¿˜æ˜¯æ³›å‹æ–¹æ³•ï¼Œå†ä½¿ç”¨æ—¶ä¸€å®šè¦èƒ½å¤Ÿè¿›è¡Œç±»å‹æ¨æ–­ï¼Œæ˜ç¡®ç±»å‹æ‰è¡Œã€‚ æ³¨æ„ä¸€å®šè¦åŒºåˆ†ç±»å®šä¹‰çš„æ³›å‹å’Œæ–¹æ³•å‰å®šä¹‰çš„æ³›å‹ï¼ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:2:3","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"æ³›å‹å¼•ç”¨ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»çš„å¼•ç”¨æ—¶ï¼Œéœ€è¦åœ¨åé¢æŒ‡å‡ºæ­¤ç±»å‹ï¼š Score\u003cInteger\u003e score; //å£°æ˜æ³›å‹ä¸ºIntegerç±»å‹ å¦‚æœä¸å¸Œæœ›æŒ‡å®šç±»å‹ï¼Œæˆ–æ˜¯å¸Œæœ›æ­¤å¼•ç”¨ç±»å‹å¯ä»¥å¼•ç”¨ä»»æ„æ³›å‹çš„Scoreç±»å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨?é€šé…ç¬¦ï¼Œæ¥è¡¨ç¤ºè‡ªåŠ¨åŒ¹é…ä»»æ„çš„å¯ç”¨ç±»å‹ï¼š Score\u003c?\u003e score; //scoreå¯ä»¥å¼•ç”¨ä»»æ„çš„Scoreç±»å‹å¯¹è±¡äº†ï¼ é‚£ä¹ˆä½¿ç”¨é€šé…ç¬¦ä¹‹åï¼Œå¾—åˆ°çš„æ³›å‹æˆå‘˜å˜é‡ä¼šæ˜¯ä»€ä¹ˆç±»å‹å‘¢ï¼Ÿ Object o = score.getScore(); //åªèƒ½å˜ä¸ºObject å› ä¸ºä½¿ç”¨äº†é€šé…ç¬¦ï¼Œç¼–è¯‘å™¨å°±æ— æ³•è¿›è¡Œç±»å‹æ¨æ–­ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨åŸå§‹ç±»å‹ã€‚ åœ¨å­¦ä¹ äº†æ³›å‹çš„ç•Œé™åï¼Œæˆ‘ä»¬è¿˜ä¼šç»§ç»­äº†è§£é€šé…ç¬¦çš„ä½¿ç”¨ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:2:4","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"æ³›å‹çš„ç•Œé™ ç°åœ¨æœ‰ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œç°åœ¨æ²¡æœ‰Stringç±»å‹çš„æˆç»©äº†ï¼Œä½†æ˜¯æˆç»©ä¾ç„¶å¯èƒ½æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯å°æ•°ï¼Œè¿™æ—¶æˆ‘ä»¬ä¸å¸Œæœ›ç”¨æˆ·å°†æ³›å‹æŒ‡å®šä¸ºé™¤æ•°å­—ç±»å‹å¤–çš„å…¶ä»–ç±»å‹ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åˆ°æ³›å‹çš„ä¸Šç•Œå®šä¹‰ï¼š public class Score\u003cT extends Number\u003e { //è®¾å®šæ³›å‹ä¸Šç•Œï¼Œå¿…é¡»æ˜¯Numberçš„å­ç±» private final String name; private final String id; private T score; public Score(String name, String id, T score) { this.name = name; this.id = id; this.score = score; } public T getScore() { return score; } } é€šè¿‡extendså…³é”®å­—è¿›è¡Œä¸Šç•Œé™å®šï¼Œåªæœ‰æŒ‡å®šç±»å‹æˆ–æŒ‡å®šç±»å‹çš„å­ç±»æ‰èƒ½ä½œä¸ºç±»å‹å‚æ•°ã€‚ åŒæ ·çš„ï¼Œæ³›å‹é€šé…ç¬¦ä¹Ÿæ”¯æŒæ³›å‹çš„ç•Œé™ï¼š Score\u003c? extends Number\u003e score; //é™å®šä¸ºåŒ¹é…NumberåŠå…¶å­ç±»çš„ç±»å‹ åŒç†ï¼Œæ—¢ç„¶æ³›å‹æœ‰ä¸Šé™ï¼Œé‚£ä¹ˆä¹Ÿæœ‰ä¸‹é™ï¼š Score\u003c? super Integer\u003e score; //é™å®šä¸ºåŒ¹é…IntegeråŠå…¶çˆ¶ç±» é€šè¿‡superå…³é”®å­—è¿›è¡Œä¸‹ç•Œé™å®šï¼Œåªæœ‰æŒ‡å®šç±»å‹æˆ–æŒ‡å®šç±»å‹çš„çˆ¶ç±»æ‰èƒ½ä½œä¸ºç±»å‹å‚æ•°ã€‚ å›¾è§£å¦‚ä¸‹ï¼š é‚£ä¹ˆé™å®šäº†ä¸Šç•Œåï¼Œæˆ‘ä»¬å†æ¥ä½¿ç”¨è¿™ä¸ªå¯¹è±¡çš„æ³›å‹æˆå‘˜ï¼Œä¼šå˜æˆä»€ä¹ˆç±»å‹å‘¢ï¼Ÿ Score\u003c? extends Number\u003e score = new Score\u003c\u003e(\"æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€\", \"EP074512\", 10); Number o = score.getScore(); //å¾—åˆ°çš„ç»“æœä¸ºä¸Šç•Œç±»å‹ ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦æˆ‘ä»¬æŒ‡å®šäº†ä¸Šç•Œåï¼Œç¼–è¯‘å™¨å°±å°†èŒƒå›´ä»åŸå§‹ç±»å‹Objectæå‡åˆ°æˆ‘ä»¬æŒ‡å®šçš„ä¸Šç•ŒNumberï¼Œä½†æ˜¯ä¾ç„¶æ— æ³•æ˜ç¡®å…·ä½“ç±»å‹ã€‚æ€è€ƒï¼šé‚£å¦‚æœå®šä¹‰ä¸‹é™å‘¢ï¼Ÿ é‚£ä¹ˆæ—¢ç„¶æˆ‘ä»¬å¯ä»¥ç»™æ³›å‹ç±»é™å®šä¸Šç•Œï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ç¼–è¯‘åç»“æœå‘¢ï¼š //ä½¿ç”¨javap -l è¿›è¡Œåç¼–è¯‘ public class com.test.Score\u003cT extends java.lang.Number\u003e { public com.test.Score(java.lang.String, java.lang.String, T); LineNumberTable: line 8: 0 line 9: 4 line 10: 9 line 11: 14 line 12: 19 LocalVariableTable: Start Length Slot Name Signature 0 20 0 this Lcom/test/Score; 0 20 1 name Ljava/lang/String; 0 20 2 id Ljava/lang/String; 0 20 3 score Ljava/lang/Number; //å¯ä»¥çœ‹åˆ°scoreçš„ç±»å‹ç›´æ¥è¢«ç¼–è¯‘ä¸ºNumberç±» public T getScore(); LineNumberTable: line 15: 0 LocalVariableTable: Start Length Slot Name Signature 0 5 0 this Lcom/test/Score; } å› æ­¤ï¼Œä¸€æ—¦ç¡®ç«‹ä¸Šé™åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†ç±»å‹æå‡åˆ°ä¸Šé™ç±»å‹ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:2:5","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"é’»çŸ³è¿ç®—ç¬¦ æˆ‘ä»¬å‘ç°ï¼Œæ¯æ¬¡åˆ›å»ºæ³›å‹å¯¹è±¡éƒ½éœ€è¦åœ¨å‰åéƒ½æ ‡æ˜ç±»å‹ï¼Œä½†æ˜¯å®é™…ä¸Šåé¢çš„ç±»å‹å£°æ˜æ˜¯å¯ä»¥å»æ‰çš„ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä¼ å…¥å‚æ•°æ—¶æˆ–å®šä¹‰æ³›å‹ç±»çš„å¼•ç”¨æ—¶ï¼Œå°±å·²ç»æ˜ç¡®äº†ç±»å‹ï¼Œå› æ­¤JDK1.7æä¾›äº†é’»çŸ³è¿ç®—ç¬¦æ¥ç®€åŒ–ä»£ç ï¼š Score\u003cInteger\u003e score = new Score\u003cInteger\u003e(\"æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€\", \"EP074512\", 10); //1.7ä¹‹å‰ Score\u003cInteger\u003e score = new Score\u003c\u003e(\"æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€\", \"EP074512\", 10); //1.7ä¹‹å ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:2:6","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"æ³›å‹ä¸å¤šæ€ æ³›å‹ä¸ä»…ä»…å¯ä»¥å¯ä»¥å®šä¹‰åœ¨ç±»ä¸Šï¼ŒåŒæ—¶ä¹Ÿèƒ½å®šä¹‰åœ¨æ¥å£ä¸Šï¼š public interface ScoreInterface\u003cT\u003e { T getScore(); void setScore(T t); } å½“å®ç°æ­¤æ¥å£æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨å®ç°ç±»æ˜ç¡®æ³›å‹ç±»å‹æˆ–æ˜¯ç»§ç»­ä½¿ç”¨æ­¤æ³›å‹ï¼Œè®©å…·ä½“åˆ›å»ºçš„å¯¹è±¡æ¥ç¡®å®šç±»å‹ã€‚ public class Score\u003cT\u003e implements ScoreInterface\u003cT\u003e{ //å°†Scoreè½¬å˜ä¸ºæ³›å‹ç±»\u003cT\u003e private final String name; private final String id; private T score; public Score(String name, String id, T score) { this.name = name; this.id = id; this.score = score; } public T getScore() { return score; } @Override public void setScore(T score) { this.score = score; } } public class StringScore implements ScoreInterface\u003cString\u003e{ //åœ¨å®ç°æ—¶æ˜ç¡®ç±»å‹ @Override public String getScore() { return null; } @Override public void setScore(String s) { } } æŠ½è±¡ç±»åŒç†ï¼Œè¿™é‡Œå°±ä¸å¤šåšæ¼”ç¤ºäº†ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:2:7","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"å¤šæ€ç±»å‹æ“¦é™¤ æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œæ—¢ç„¶ç»§æ‰¿åæ˜ç¡®äº†æ³›å‹ç±»å‹ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆ@Overrideä¸ä¼šå‡ºç°é”™è¯¯å‘¢ï¼Œé‡å†™çš„æ¡ä»¶æ˜¯éœ€è¦å’Œçˆ¶ç±»çš„è¿”å›å€¼ç±»å‹ã€å½¢å¼å‚æ•°ä¸€è‡´ï¼Œè€Œæ³›å‹é»˜è®¤çš„åŸå§‹ç±»å‹æ˜¯Objectç±»å‹ï¼Œå­ç±»æ˜ç¡®åå˜ä¸ºNumberç±»å‹ï¼Œè¿™æ˜¾ç„¶ä¸æ»¡è¶³é‡å†™çš„æ¡ä»¶ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¾ç„¶èƒ½ç¼–è¯‘é€šè¿‡å‘¢ï¼Ÿ class A\u003cT\u003e{ private T t; public T get(){ return t; } public void set(T t){ this.t=t; } } class B extends A\u003cNumber\u003e{ private Number n; @Override public Number get(){ //è¿™å¹¶ä¸æ»¡è¶³é‡å†™çš„è¦æ±‚ï¼Œå› ä¸ºåªèƒ½é‡å†™çˆ¶ç±»åŒæ ·è¿”å›å€¼å’Œå‚æ•°çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™æ ·å´èƒ½å¤Ÿé€šè¿‡ç¼–è¯‘ï¼ return t; } @Override public void set(Number t){ this.t=t; } } é€šè¿‡åç¼–è¯‘è¿›è¡Œè§‚å¯Ÿï¼Œå®é™…ä¸Šæ˜¯ç¼–è¯‘å™¨å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆäº†ä¸¤ä¸ªæ¡¥æ¥æ–¹æ³•ç”¨äºæ”¯æŒé‡å†™ï¼š @Override public Object get(){ return this.get();//è°ƒç”¨è¿”å›Numberçš„é‚£ä¸ªæ–¹æ³• } @Override public void set(Object t ){ this.set((Number)t ); //è°ƒç”¨å‚æ•°æ˜¯Numberçš„é‚£ä¸ªæ–¹æ³• } ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:2:8","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"æ•°æ®ç»“æ„åŸºç¡€ è­¦å‘Šï¼æœ¬ç« æœ€éš¾çš„éƒ¨åˆ†ï¼ å­¦ä¹ é›†åˆç±»ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æœ‰æœ€å…³é”®çš„å†…å®¹éœ€è¦å­¦ä¹ ï¼ŒåŒç¬¬ä¸€ç« ä¸€æ ·ï¼Œè‡ªåº•å‘ä¸Šæ‰æ˜¯æœ€ä½³çš„å­¦ä¹ æ–¹å‘ï¼Œæ¯”èµ·ç›´æ¥å¸¦å¤§å®¶è®¤è¯†é›†åˆç±»ï¼Œä¸å¦‚å…ˆäº†è§£ä¸€ä¸‹æ•°æ®ç»“æ„ï¼Œåªæœ‰äº†è§£äº†æ•°æ®ç»“æ„åŸºç¡€ï¼Œæ‰èƒ½æ›´å¥½åœ°å­¦ä¹ é›†åˆç±»ï¼ŒåŒæ—¶ï¼Œæ•°æ®ç»“æ„ä¹Ÿæ˜¯ä½ ä»¥åæ·±å…¥å­¦ä¹ JDKæºç çš„å¿…å¤‡æ¡ä»¶ï¼ï¼ˆå­¦ä¹ ä¸è¦å¿«é¤å¼ï¼ï¼‰å½“ç„¶ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯è®²è§£Javaï¼Œæ•°æ®ç»“æ„ä½œä¸ºé“ºå«ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬åªä¼šè®²è§£å…³é”®çš„éƒ¨åˆ†ï¼Œå…¶ä»–éƒ¨åˆ†å¯ä»¥ä¸‹å»è‡ªè¡Œäº†è§£ã€‚ åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ•°æ®ç»“æ„æ˜¯ä¸€ç§æ•°æ®ç»„ç»‡ã€ç®¡ç†å’Œå­˜å‚¨çš„æ ¼å¼,å®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°å¯¹æ•°æ®é«˜æ•ˆçš„è®¿é—®å’Œä¿®æ”¹ã€‚æ›´å‡†ç¡®åœ°è¯´,æ•°æ®ç»“æ„æ˜¯æ•°æ®å€¼çš„é›†åˆï¼Œå¯ä»¥ä½“ç°æ•°æ®å€¼ä¹‹é—´çš„å…³ç³»ï¼Œä»¥åŠå¯ä»¥å¯¹æ•°æ®è¿›è¡Œåº”ç”¨çš„å‡½æ•°æˆ–æ“ä½œã€‚ é€šä¿—åœ°è¯´ï¼Œæˆ‘ä»¬éœ€è¦å»å­¦ä¹ åœ¨è®¡ç®—æœºä¸­å¦‚ä½•å»æ›´å¥½åœ°ç®¡ç†æˆ‘ä»¬çš„æ•°æ®ï¼Œæ‰èƒ½è®©æˆ‘ä»¬å¯¹æˆ‘ä»¬çš„æ•°æ®æ§åˆ¶æ›´åŠ çµæ´»ï¼ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:3:0","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"çº¿æ€§è¡¨ çº¿æ€§è¡¨æ˜¯æœ€åŸºæœ¬çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯è¡¨ç¤ºä¸€ç»„ç›¸åŒç±»å‹æ•°æ®çš„æœ‰é™åºåˆ—ï¼Œä½ å¯ä»¥æŠŠå®ƒä¸æ•°ç»„è¿›è¡Œå‚è€ƒï¼Œä½†æ˜¯å®ƒå¹¶ä¸æ˜¯æ•°ç»„ï¼Œçº¿æ€§è¡¨æ˜¯ä¸€ç§è¡¨ç»“æ„ï¼Œå®ƒèƒ½å¤Ÿæ”¯æŒæ•°æ®çš„æ’å…¥ã€åˆ é™¤ã€æ›´æ–°ã€æŸ¥è¯¢ç­‰ï¼ŒåŒæ—¶æ•°ç»„å¯ä»¥éšæ„å­˜æ”¾åœ¨æ•°ç»„ä¸­ä»»æ„ä½ç½®ï¼Œè€Œçº¿æ€§è¡¨åªèƒ½ä¾æ¬¡æœ‰åºæ’åˆ—ï¼Œä¸èƒ½å‡ºç°ç©ºéš™ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥çš„è®¾è®¡ã€‚ é¡ºåºè¡¨ å°†æ•°æ®ä¾æ¬¡å­˜å‚¨åœ¨è¿ç»­çš„æ•´å—ç‰©ç†ç©ºé—´ä¸­ï¼Œè¿™ç§å­˜å‚¨ç»“æ„ç§°ä¸ºé¡ºåºå­˜å‚¨ç»“æ„ï¼Œè€Œä»¥è¿™ç§æ–¹å¼å®ç°çš„çº¿æ€§è¡¨ï¼Œæˆ‘ä»¬ç§°ä¸ºé¡ºåºè¡¨ã€‚ åŒæ ·çš„ï¼Œè¡¨ä¸­çš„æ¯ä¸€ä¸ªä¸ªä½“éƒ½è¢«ç§°ä¸ºå…ƒç´ ï¼Œå…ƒç´ å·¦è¾¹çš„å…ƒç´ ï¼ˆä¸Šä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œç§°ä¸ºå‰é©±ï¼ŒåŒç†ï¼Œå³è¾¹çš„å…ƒç´ ï¼ˆåä¸€ä¸ªå…ƒç´ ï¼‰ç§°ä¸ºåé©±ã€‚ æˆ‘ä»¬è®¾è®¡çº¿æ€§è¡¨çš„ç›®æ ‡å°±æ˜¯ä¸ºäº†å»æ›´å¥½åœ°ç®¡ç†æˆ‘ä»¬çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºæ•°ç»„ï¼Œæ¥è¿›è¡Œå°è£…ï¼Œå®ç°å¢åˆ æ”¹æŸ¥ï¼æ—¢ç„¶è¦å­˜å‚¨ä¸€ç»„æ•°æ®ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“è”æƒ³åˆ°æˆ‘ä»¬ä¹‹å‰å­¦è¿‡çš„æ•°ç»„ï¼Œæ•°ç»„å°±èƒ½å¤Ÿå®¹çº³ä¸€ç»„åŒç±»å‹çš„æ•°æ®ã€‚ ç›®æ ‡ï¼šä»¥æ•°ç»„ä¸ºåº•å±‚ï¼Œç¼–å†™ä»¥ä¸‹æŠ½è±¡ç±»çš„å…·ä½“å®ç° /** * çº¿æ€§è¡¨æŠ½è±¡ç±» * @param \u003cE\u003e å­˜å‚¨çš„å…ƒç´ (Element)ç±»å‹ */ public abstract class AbstractList\u003cE\u003e { /** * è·å–è¡¨çš„é•¿åº¦ * @return é¡ºåºè¡¨çš„é•¿åº¦ */ public abstract int size(); /** * æ·»åŠ ä¸€ä¸ªå…ƒç´  * @param e å…ƒç´  * @param index è¦æ·»åŠ çš„ä½ç½®(ç´¢å¼•) */ public abstract void add(E e, int index); /** * ç§»é™¤æŒ‡å®šä½ç½®çš„å…ƒç´  * @param index ä½ç½® * @return ç§»é™¤çš„å…ƒç´  */ public abstract E remove(int index); /** * è·å–æŒ‡å®šä½ç½®çš„å…ƒç´  * @param index ä½ç½® * @return å…ƒç´  */ public abstract E get(int index); } é“¾è¡¨ æ•°æ®åˆ†æ•£çš„å­˜å‚¨åœ¨ç‰©ç†ç©ºé—´ä¸­ï¼Œé€šè¿‡ä¸€æ ¹çº¿ä¿å­˜ç€å®ƒä»¬ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œè¿™ç§å­˜å‚¨ç»“æ„ç§°ä¸ºé“¾å¼å­˜å‚¨ç»“æ„ å®é™…ä¸Šï¼Œå°±æ˜¯æ¯ä¸€ä¸ªç»“ç‚¹å­˜æ”¾ä¸€ä¸ªå…ƒç´ å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ï¼ˆCè¯­è¨€é‡Œé¢æ˜¯æŒ‡é’ˆï¼ŒJavaä¸­å°±æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œä»£è¡¨ä¸‹ä¸€ä¸ªç»“ç‚¹å¯¹è±¡ï¼‰ åˆ©ç”¨è¿™ç§æ€æƒ³ï¼Œæˆ‘ä»¬å†æ¥å°è¯•å®ç°ä¸Šé¢çš„æŠ½è±¡ç±»ï¼Œä»å®é™…çš„ä»£ç ä¸­æ„Ÿå—ï¼ æ¯”è¾ƒï¼šé¡ºåºè¡¨å’Œé“¾è¡¨çš„ä¼˜å¼‚ï¼Ÿ é¡ºåºè¡¨ä¼˜ç¼ºç‚¹ï¼š è®¿é—®é€Ÿåº¦å¿«ï¼Œéšæœºè®¿é—®æ€§èƒ½é«˜ æ’å…¥å’Œåˆ é™¤çš„æ•ˆç‡ä½ä¸‹ï¼Œæç«¯æƒ…å†µä¸‹éœ€è¦å˜æ›´æ•´ä¸ªè¡¨ ä¸æ˜“æ‰©å……ï¼Œéœ€è¦å¤åˆ¶å¹¶é‡æ–°åˆ›å»ºæ•°ç»„ é“¾è¡¨ä¼˜ç¼ºç‚¹ï¼š æ’å…¥å’Œåˆ é™¤æ•ˆç‡é«˜ï¼Œåªéœ€è¦æ”¹å˜è¿æ¥ç‚¹çš„æŒ‡å‘å³å¯ åŠ¨æ€æ‰©å……å®¹é‡ï¼Œæ— éœ€æ‹…å¿ƒå®¹é‡é—®é¢˜ è®¿é—®å…ƒç´ éœ€è¦ä¾æ¬¡å¯»æ‰¾ï¼Œéšæœºè®¿é—®å…ƒç´ æ•ˆç‡ä½ä¸‹ é“¾è¡¨åªèƒ½æŒ‡å‘åé¢ï¼Œèƒ½ä¸èƒ½æŒ‡å‘å‰é¢å‘¢ï¼ŸåŒå‘é“¾è¡¨ï¼ æ ˆå’Œé˜Ÿåˆ—å®é™…ä¸Šå°±æ˜¯å¯¹çº¿æ€§è¡¨åŠ ä»¥çº¦æŸçš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¦‚æœå‰é¢çš„çº¿æ€§è¡¨çš„æŒæ¡å·²ç»okï¼Œé‚£ä¹ˆæ ˆå’Œé˜Ÿåˆ—å°±éå¸¸è½»æ¾äº†ï¼ æ ˆ æ ˆéµå¾ªå…ˆå…¥åå‡ºåŸåˆ™ï¼Œåªèƒ½åœ¨çº¿æ€§è¡¨çš„ä¸€ç«¯æ·»åŠ å’Œåˆ é™¤å…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ ˆçœ‹åšä¸€ä¸ªæ¯å­ï¼Œæ¯å­åªæœ‰ä¸€ä¸ªå£è¿›å‡ºï¼Œæœ€ä½å¤„çš„å…ƒç´ åªèƒ½ç­‰åˆ°ä¸Šé¢çš„å…ƒç´ ç¦»å¼€æ¯å­åï¼Œæ‰èƒ½ç¦»å¼€ã€‚ å‘æ ˆä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œç§°ä¸ºå…¥æ ˆï¼ˆå‹æ ˆï¼‰ï¼Œç§»é™¤æ ˆé¡¶å…ƒç´ ç§°ä¸ºå‡ºæ ˆï¼Œæˆ‘ä»¬éœ€è¦å°è¯•å®ç°ä»¥ä¸‹æŠ½è±¡ç±»å‹ï¼š /** * æŠ½è±¡ç±»å‹æ ˆï¼Œå¾…å®ç° * @param \u003cE\u003e å…ƒç´ ç±»å‹ */ public abstract class AbstractStack\u003cE\u003e { /** * å‡ºæ ˆæ“ä½œ * @return æ ˆé¡¶å…ƒç´  */ public abstract E pop(); /** * å…¥æ ˆæ“ä½œ * @param e å…ƒç´  */ public abstract void push(E e); } å…¶å®ï¼Œæˆ‘ä»¬çš„JVMåœ¨å¤„ç†æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ ˆæ“ä½œï¼š æ‰€ä»¥è¯´ï¼Œå¦‚æœç©ä¸å¥½é€’å½’ï¼Œå°±ä¼šåƒè¿™æ ·ï¼š public class Main { public static void main(String[] args) { go(); } private static void go(){ go(); } } Exception in thread \"main\" java.lang.StackOverflowError at com.test.Main.go(Main.java:13) at com.test.Main.go(Main.java:13) at com.test.Main.go(Main.java:13) at com.test.Main.go(Main.java:13) at com.test.Main.go(Main.java:13) at com.test.Main.go(Main.java:13) at com.test.Main.go(Main.java:13) at com.test.Main.go(Main.java:13) ... æ ˆçš„æ·±åº¦æ˜¯æœ‰é™åˆ¶çš„ï¼Œå¦‚æœè¾¾åˆ°é™åˆ¶ï¼Œå°†ä¼šå‡ºç°StackOverflowErroré”™è¯¯ï¼ˆæ³¨æ„æ˜¯é”™è¯¯ï¼è¯´æ˜æ˜¯JVMå‡ºç°äº†é—®é¢˜ï¼‰ é˜Ÿåˆ— é˜Ÿåˆ—åŒæ ·ä¹Ÿæ˜¯å—é™åˆ¶çš„çº¿æ€§è¡¨ï¼Œä¸è¿‡é˜Ÿåˆ—å°±åƒæˆ‘ä»¬æ’é˜Ÿä¸€æ ·ï¼Œåªèƒ½ä»é˜Ÿå°¾å¼€å§‹æ’ï¼Œä»é˜Ÿé¦–å‡ºã€‚ æ‰€ä»¥æˆ‘ä»¬è¦å®ç°ä»¥ä¸‹å†…å®¹ï¼š /** * * @param \u003cE\u003e */ public abstract class AbstractQueue\u003cE\u003e { /** * è¿›é˜Ÿæ“ä½œ * @param e å…ƒç´  */ public abstract void offer(E e); /** * å‡ºé˜Ÿæ“ä½œ * @return å…ƒç´  */ public abstract E poll(); } ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:3:1","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"äºŒå‰æ ‘ æœ¬ç‰ˆå—ä¸»è¦å­¦ä¹ çš„æ˜¯äºŒå‰æ ‘ï¼Œæ ‘ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œä½†æ˜¯å®ƒä½¿ç”¨èµ·æ¥æ›´åŠ çš„å¤æ‚ã€‚ æ ‘ æˆ‘ä»¬å‰é¢å·²ç»å­¦ä¹ è¿‡é“¾è¡¨äº†ï¼Œæˆ‘ä»¬çŸ¥é“é“¾è¡¨æ˜¯å•ä¸ªç»“ç‚¹ä¹‹é—´ç›¸è¿ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œè€Œæ ‘åˆ™æ˜¯ä¸€ä¸ªç»“ç‚¹è¿æ¥å¤šä¸ªç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚ ä¸€ä¸ªç»“ç‚¹å¯ä»¥æœ‰Nä¸ªå­ç»“ç‚¹ï¼Œå°±åƒä¸Šå›¾ä¸€æ ·ï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯ä¸€æ£µæ ‘ã€‚è€Œä½äºæœ€é¡¶ç«¯çš„ç»“ç‚¹ï¼ˆæ²¡æœ‰çˆ¶ç»“ç‚¹ï¼‰æˆ‘ä»¬ç§°ä¸ºæ ¹ç»“ç‚¹ï¼Œè€Œç»“ç‚¹æ‹¥æœ‰çš„å­èŠ‚ç‚¹æ•°é‡ç§°ä¸ºåº¦ï¼Œæ¯å‘ä¸‹ä¸€çº§ç§°ä¸ºä¸€ä¸ªå±‚æ¬¡ï¼Œæ ‘ä¸­å‡ºç°çš„æœ€å¤§å±‚æ¬¡ç§°ä¸ºæ ‘çš„æ·±åº¦(é«˜åº¦)ã€‚ äºŒå‰æ ‘ äºŒå‰æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘ï¼Œæ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸¤é¢—å­æ ‘ï¼Œæ‰€ä»¥äºŒå‰æ ‘ä¸­ä¸å­˜åœ¨åº¦å¤§äº2çš„ç»“ç‚¹ï¼Œä½äºä¸¤è¾¹çš„å­ç»“ç‚¹ç§°ä¸ºå·¦å³å­æ ‘ï¼ˆæ³¨æ„ï¼Œå·¦å³å­æ ‘æ˜¯æ˜ç¡®åŒºåˆ†çš„ï¼Œæ˜¯å·¦å°±æ˜¯å·¦ï¼Œæ˜¯å³å°±æ˜¯å³ï¼‰ æ•°å­¦æ€§è´¨ï¼š åœ¨äºŒå‰æ ‘çš„ç¬¬iå±‚ä¸Šæœ€å¤šæœ‰2^(i-1) ä¸ªèŠ‚ç‚¹ã€‚ äºŒå‰æ ‘ä¸­å¦‚æœæ·±åº¦ä¸ºkï¼Œé‚£ä¹ˆæœ€å¤šæœ‰2^k-1ä¸ªèŠ‚ç‚¹ã€‚ è®¾è®¡ä¸€ä¸ªäºŒå‰æ ‘ç»“ç‚¹ç±»ï¼š public class TreeNode\u003cE\u003e { public E e; //å½“å‰ç»“ç‚¹æ•°æ® public TreeNode\u003cE\u003e left; //å·¦å­æ ‘ public TreeNode\u003cE\u003e right; //å³å­æ ‘ } äºŒå‰æ ‘çš„éå† é¡ºåºè¡¨çš„éå†å…¶å®å°±æ˜¯ä¾æ¬¡æœ‰åºå»è®¿é—®è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè€ŒåƒäºŒå‰æ ‘è¿™æ ·çš„å¤æ‚ç»“æ„ï¼Œæˆ‘ä»¬æœ‰å››ç§éå†æ–¹å¼ï¼Œä»–ä»¬æ˜¯ï¼šå‰åºéå†ã€ä¸­åºéå†ã€ååºéå†ä»¥åŠå±‚åºéå†ï¼Œæœ¬ç‰ˆå—æˆ‘ä»¬ä¸»è¦è®¨è®ºå‰ä¸‰ç§éå†æ–¹å¼ï¼š å‰åºéå†ï¼šä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ°è¾¾ç»“ç‚¹æ—¶å°±ç›´æ¥è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ABCDEF ä¸­åºéå†ï¼šä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œä¼˜å…ˆè¾“å‡ºå·¦å­æ ‘çš„èŠ‚ç‚¹çš„æ•°æ®ï¼Œå†è¾“å‡ºå½“å‰èŠ‚ç‚¹æœ¬èº«ï¼Œæœ€åæ‰æ˜¯å³å­æ ‘ã€‚CBDAEF ååºéå†ï¼šä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œä¼˜å…ˆéå†å…¶å·¦å­æ ‘ï¼Œå†éå†å³å­æ ‘ï¼Œæœ€ååœ¨è¾“å‡ºå½“å‰èŠ‚ç‚¹æœ¬èº«ã€‚CDBFEA æ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘ æ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘å…¶å®å°±æ˜¯ç‰¹æ®Šæƒ…å†µä¸‹çš„äºŒå‰æ ‘ï¼Œæ»¡äºŒå‰æ ‘å·¦å³çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®Œå…¨æŠŠæ¯ä¸€ä¸ªå±‚çº§éƒ½ç»™åŠ æ»¡äº†ç»“ç‚¹ã€‚å®Œå…¨äºŒå‰æ ‘ä¸æ»¡äºŒå‰æ ‘ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œå®ƒçš„æœ€ä¸‹å±‚å¶å­èŠ‚ç‚¹å¯ä»¥ä¸æ»¡ï¼Œä½†æ˜¯æœ€ä¸‹å±‚çš„å¶å­èŠ‚ç‚¹å¿…é¡»é å·¦æ’å¸ƒã€‚ å…¶å®æ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘å°±æ˜¯æœ‰ä¸€å®šè§„å¾‹çš„äºŒå‰æ ‘ï¼Œå¾ˆå®¹æ˜“ç†è§£ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:3:2","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"å¿«é€ŸæŸ¥æ‰¾ æˆ‘ä»¬ä¹‹å‰æåˆ°çš„è¿™äº›æ•°æ®ç»“æ„ï¼Œå¾ˆå¥½åœ°å¸®æˆ‘ä»¬ç®¡ç†äº†æ•°æ®ï¼Œä½†æ˜¯ï¼Œå¦‚æœéœ€è¦æŸ¥æ‰¾æŸä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨äºæ•°æ®ç»“æ„ä¸­ï¼Œå¦‚ä½•æ‰èƒ½æ›´åŠ é«˜æ•ˆçš„å»å®Œæˆå‘¢ï¼Ÿ å“ˆå¸Œè¡¨ é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å‘ç°ï¼Œé¡ºåºè¡¨è™½ç„¶æŸ¥è¯¢æ•ˆç‡é«˜ï¼Œä½†æ˜¯æ’å…¥åˆ é™¤æœ‰ä¸¥é‡è¡¨æ›´æ–°çš„é—®é¢˜ï¼Œè€Œé“¾è¡¨è™½ç„¶å¼¥è¡¥äº†æ›´æ–°é—®é¢˜ï¼Œä½†æ˜¯æŸ¥è¯¢æ•ˆç‡å®åœ¨æ˜¯å¤ªä½äº†ï¼Œèƒ½å¦æœ‰ä¸€ç§æŠ˜ä¸­æ–¹æ¡ˆï¼Ÿå“ˆå¸Œè¡¨ï¼ ä¸çŸ¥å¤§å®¶åœ¨ä¹‹å‰çš„å­¦ä¹ ä¸­æ˜¯å¦å‘ç°ï¼Œæˆ‘ä»¬çš„Objectç±»ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªå«åšhashcode()çš„æ–¹æ³•ï¼Ÿè€Œè¿™ä¸ªæ–¹æ³•å‘¢ï¼Œå°±æ˜¯ä¸ºäº†æ›´å¥½åœ°æ”¯æŒå“ˆå¸Œè¡¨çš„å®ç°ã€‚hashcode()é»˜è®¤å¾—åˆ°çš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªå¯¹è±¡çš„hashCodeéƒ½ä¸ä¸€æ ·ã€‚ å“ˆå¸Œè¡¨ï¼Œå…¶å®æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå­˜æ”¾é“¾è¡¨çš„æ•°ç»„ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•å»å­˜å‚¨æ•°æ®çš„å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹é•¿å•¥æ ·ï¼š æ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå¤´ç»“ç‚¹ï¼Œç”¨äºä¿å­˜æ•°æ®ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆç¡®å®šæ•°æ®åº”è¯¥æ”¾åœ¨å“ªä¸€ä¸ªä½ç½®å‘¢ï¼Ÿé€šè¿‡hashç®—æ³•ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç¬é—´å¾—åˆ°å…ƒç´ åº”è¯¥æ”¾ç½®çš„ä½ç½®ã€‚ //å‡è®¾hashè¡¨é•¿åº¦ä¸º16ï¼Œhashç®—æ³•ä¸ºï¼š private int hash(int hashcode){ return hashcode % 16; } è®¾æƒ³è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœè®¡ç®—å‡ºæ¥çš„hashå€¼å’Œä¹‹å‰å·²ç»å­˜åœ¨çš„å…ƒç´ ç›¸åŒäº†å‘¢ï¼Ÿè¿™ç§æƒ…å†µæˆ‘ä»¬ç§°ä¸ºhashç¢°æ’ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦å°†æ¯ä¸€ä¸ªè¡¨å…ƒç´ è®¾ç½®ä¸ºä¸€ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹çš„åŸå› ï¼Œä¸€æ—¦å‘ç°é‡å¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾€åç»§ç»­æ·»åŠ èŠ‚ç‚¹ã€‚ å½“ç„¶ï¼Œä»¥ä¸Šçš„hashè¡¨ç»“æ„åªæ˜¯ä¸€ç§è®¾è®¡æ–¹æ¡ˆï¼Œåœ¨é¢å¯¹å¤§é¢æ•°æ®æ—¶ï¼Œæ˜¯ä¸å¤Ÿç”¨çš„ï¼Œåœ¨JDK1.8ä¸­ï¼Œé›†åˆç±»ä½¿ç”¨çš„æ˜¯æ•°ç»„+äºŒå‰æ ‘çš„å½¢å¼è§£å†³çš„ï¼ˆè¿™é‡Œçš„äºŒå‰æ ‘æ˜¯ç»è¿‡åŠ å¼ºçš„äºŒå‰æ ‘ï¼Œä¸æ˜¯å‰é¢è®²å¾—ç®€å•äºŒå‰æ ‘ï¼Œæˆ‘ä»¬ä¸‹ä¸€èŠ‚å°±ä¼šå¼€å§‹è®²ï¼‰ äºŒå‰æ’åºæ ‘ æˆ‘ä»¬å‰é¢å­¦ä¹ çš„äºŒå‰æ ‘æ•ˆç‡æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ç§æ•ˆç‡æ›´é«˜çš„äºŒå‰æ ‘ï¼Œå› æ­¤ï¼ŒåŸºäºäºŒå‰æ ‘çš„æ”¹è¿›ï¼Œæå‡ºäº†äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå¯ä»¥çœ‹åˆ°ç»“æ„åƒä¸‹é¢è¿™æ ·ï¼š ä¸éš¾å‘ç°ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œä¸€å®šå°äºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å³å­æ ‘ï¼Œä¸€å®šå¤§äºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œè¿™æ ·çš„äºŒå‰æ ‘ç§°ä¸ºäºŒå‰æ’åºæ ‘ã€‚åˆ©ç”¨äºŒåˆ†æœç´¢çš„æ€æƒ³ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¿«é€ŸæŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹ï¼ å¹³è¡¡äºŒå‰æ ‘ åœ¨äº†è§£äº†äºŒå‰æŸ¥æ‰¾æ ‘ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œå¦‚æœæ ¹èŠ‚ç‚¹ä¸º10ï¼Œç°åœ¨åŠ å…¥åˆ°ç»“ç‚¹çš„å€¼ä»9å¼€å§‹ï¼Œä¾æ¬¡å‡å°åˆ°1ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨å°±ä¼šå¾ˆå¥‡æ€ªï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š æ˜¾ç„¶ï¼Œå½“æ‰€æœ‰çš„ç»“ç‚¹éƒ½æ’åˆ—åˆ°ä¸€è¾¹ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒæŸ¥æ‰¾æ•ˆç‡ä¼šç›´æ¥é€€åŒ–ä¸ºæœ€åŸå§‹çš„äºŒå‰æ ‘ï¼å› æ­¤æˆ‘ä»¬éœ€è¦ç»´æŒäºŒå‰æ ‘çš„å¹³è¡¡ï¼Œæ‰èƒ½ç»´æŒåŸæœ‰çš„æŸ¥æ‰¾æ•ˆç‡ã€‚ ç°åœ¨æˆ‘ä»¬å¯¹äºŒå‰æ’åºæ ‘åŠ ä»¥çº¦æŸï¼Œè¦æ±‚æ¯ä¸ªç»“ç‚¹çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼Œè¿™æ ·çš„äºŒå‰æ ‘ç§°ä¸ºå¹³è¡¡äºŒå‰æ ‘ï¼ŒåŒæ—¶è¦æ±‚æ¯ä¸ªç»“ç‚¹çš„å·¦å³å­æ ‘éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œè¿™æ ·ï¼Œå°±ä¸ä¼šå› ä¸ºä¸€è¾¹çš„ç–¯ç‹‚å¢åŠ å¯¼è‡´å¤±è¡¡ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š å·¦å·¦å¤±è¡¡ å³å³å¤±è¡¡ å·¦å³å¤±è¡¡ å³å·¦å¤±è¡¡ é€šè¿‡ä»¥ä¸Šå››ç§æƒ…å†µçš„å¤„ç†ï¼Œæœ€ç»ˆå¾—åˆ°ç»´æŠ¤å¹³è¡¡äºŒå‰æ ‘çš„ç®—æ³•ã€‚ çº¢é»‘æ ‘ çº¢é»‘æ ‘ä¹Ÿæ˜¯äºŒå‰æ’åºæ ‘çš„ä¸€ç§æ”¹è¿›ï¼ŒåŒå¹³è¡¡äºŒå‰æ ‘ä¸€æ ·ï¼Œçº¢é»‘æ ‘ä¹Ÿæ˜¯ä¸€ç§ç»´æŠ¤å¹³è¡¡çš„äºŒå‰æ’åºæ ‘ï¼Œä½†æ˜¯æ²¡æœ‰å¹³è¡¡äºŒå‰æ ‘é‚£æ ·ä¸¥æ ¼ï¼ˆå¹³è¡¡äºŒå‰æ ‘æ¯æ¬¡æ’å…¥æ–°ç»“ç‚¹æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å¤§é‡çš„æ—‹è½¬ï¼Œè€Œçº¢é»‘æ ‘ä¿è¯ä¸è¶…è¿‡ä¸‰æ¬¡ï¼‰ï¼Œçº¢é»‘æ ‘é™ä½äº†å¯¹äºæ—‹è½¬çš„è¦æ±‚ï¼Œå› æ­¤æ•ˆç‡æœ‰ä¸€å®šçš„æå‡åŒæ—¶å®ç°èµ·æ¥ä¹Ÿæ›´åŠ ç®€å•ã€‚ä½†æ˜¯çº¢é»‘æ ‘çš„æ•ˆç‡å´é«˜äºå¹³è¡¡äºŒå‰æ ‘ï¼Œçº¢é»‘æ ‘ä¹Ÿæ˜¯JDK1.8ä¸­ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼ çº¢é»‘æ ‘çš„ç‰¹æ€§: ï¼ˆ1ï¼‰æ¯ä¸ªèŠ‚ç‚¹æˆ–è€…æ˜¯é»‘è‰²ï¼Œæˆ–è€…æ˜¯çº¢è‰²ã€‚ ï¼ˆ2ï¼‰æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚ ï¼ˆ3ï¼‰æ¯ä¸ªå¶å­èŠ‚ç‚¹çš„ä¸¤è¾¹ä¹Ÿéœ€è¦è¡¨ç¤ºï¼ˆè™½ç„¶æ²¡æœ‰ï¼Œä½†æ˜¯nullä¹Ÿéœ€è¦è¡¨ç¤ºå‡ºæ¥ï¼‰æ˜¯é»‘è‰²ã€‚ ï¼ˆ4ï¼‰å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ã€‚ ï¼ˆ5ï¼‰ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„å­å­™èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸ŠåŒ…å«ç›¸åŒæ•°ç›®çš„é»‘èŠ‚ç‚¹ã€‚ æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ˜¯å¦‚ä½•æ’å…¥åˆ°çº¢é»‘æ ‘ä¸­çš„ï¼š åŸºæœ¬çš„ æ’å…¥è§„åˆ™å’Œå¹³è¡¡äºŒå‰æ ‘ä¸€æ ·ï¼Œä½†æ˜¯åœ¨æ’å…¥åï¼š å°†æ–°æ’å…¥çš„èŠ‚ç‚¹æ ‡è®°ä¸ºçº¢è‰² å¦‚æœ X æ˜¯æ ¹ç»“ç‚¹(root)ï¼Œåˆ™æ ‡è®°ä¸ºé»‘è‰² å¦‚æœ X çš„ parent ä¸æ˜¯é»‘è‰²ï¼ŒåŒæ—¶ X ä¹Ÿä¸æ˜¯ root: 3.1 å¦‚æœ X çš„ uncle (å”å”) æ˜¯çº¢è‰² 3.1.1 å°† parent å’Œ uncle æ ‡è®°ä¸ºé»‘è‰² 3.1.2 å°† grand parent (ç¥–çˆ¶) æ ‡è®°ä¸ºçº¢è‰² 3.1.3 è®© X èŠ‚ç‚¹çš„é¢œè‰²ä¸ X ç¥–çˆ¶çš„é¢œè‰²ç›¸åŒï¼Œç„¶åé‡å¤æ­¥éª¤ 2ã€3 3.2 å¦‚æœ X çš„ uncle (å”å”) æ˜¯é»‘è‰²ï¼Œæˆ‘ä»¬è¦åˆ†å››ç§æƒ…å†µå¤„ç† 3.2.1 å·¦å·¦ (P æ˜¯ G çš„å·¦å­©å­ï¼Œå¹¶ä¸” X æ˜¯ P çš„å·¦å­©å­) 3.2.2 å·¦å³ (P æ˜¯ G çš„å·¦å­©å­ï¼Œå¹¶ä¸” X æ˜¯ P çš„å³å­©å­) 3.2.3 å³å³ (P æ˜¯ G çš„å³å­©å­ï¼Œå¹¶ä¸” X æ˜¯ P çš„å³å­©å­) 3.2.4 å³å·¦ (P æ˜¯ G çš„å³å­©å­ï¼Œå¹¶ä¸” X æ˜¯ P çš„å·¦å­©å­) å…¶å®è¿™ç§æƒ…å†µä¸‹å¤„ç†å°±å’Œæˆ‘ä»¬çš„å¹³è¡¡äºŒå‰æ ‘ä¸€æ ·äº† ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:3:3","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"è®¤è¯†é›†åˆç±» é›†åˆè¡¨ç¤ºä¸€ç»„å¯¹è±¡ï¼Œç§°ä¸ºå…¶å…ƒç´ ã€‚ä¸€äº›é›†åˆå…è®¸é‡å¤çš„å…ƒç´ ï¼Œè€Œå¦ä¸€äº›åˆ™ä¸å…è®¸ã€‚ä¸€äº›é›†åˆæ˜¯æœ‰åºçš„ï¼Œè€Œå…¶ä»–åˆ™æ˜¯æ— åºçš„ã€‚ é›†åˆç±»å…¶å®å°±æ˜¯ä¸ºäº†æ›´å¥½åœ°ç»„ç»‡ã€ç®¡ç†å’Œæ“ä½œæˆ‘ä»¬çš„æ•°æ®è€Œå­˜åœ¨çš„ï¼ŒåŒ…æ‹¬åˆ—è¡¨ã€é›†åˆã€é˜Ÿåˆ—ã€æ˜ å°„ç­‰æ•°æ®ç»“æ„ã€‚ä»è¿™ä¸€å—å¼€å§‹ï¼Œæˆ‘ä»¬ä¼šä»æºç è§’åº¦ç»™å¤§å®¶è®²è§£ï¼ˆæ•°æ®ç»“æ„å¾ˆé‡è¦ï¼ï¼‰ï¼Œä¸ä»…ä»…æ˜¯æ•™ä¼šå¤§å®¶å¦‚ä½•å»ä½¿ç”¨ã€‚ é›†åˆç±»æœ€é¡¶å±‚ä¸æ˜¯æŠ½è±¡ç±»è€Œæ˜¯æ¥å£ï¼Œå› ä¸ºæ¥å£ä»£è¡¨çš„æ˜¯æŸä¸ªåŠŸèƒ½ï¼Œè€ŒæŠ½è±¡ç±»æ˜¯å·²ç»å¿«è¦æˆå½¢çš„ç±»å‹ï¼Œä¸åŒçš„é›†åˆç±»çš„åº•å±‚å®ç°æ˜¯ä¸ç›¸åŒçš„ï¼ŒåŒæ—¶ä¸€ä¸ªé›†åˆç±»å¯èƒ½ä¼šåŒæ—¶å…·æœ‰ä¸¤ç§åŠä»¥ä¸ŠåŠŸèƒ½ï¼ˆæ—¢èƒ½åšé˜Ÿåˆ—ä¹Ÿèƒ½åšåˆ—è¡¨ï¼‰ï¼Œæ‰€ä»¥é‡‡ç”¨æ¥å£ä¼šæ›´åŠ åˆé€‚ï¼Œæ¥å£åªéœ€å®šä¹‰æ”¯æŒçš„åŠŸèƒ½å³å¯ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:4:0","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"æ•°ç»„ä¸é›†åˆ ç›¸åŒä¹‹å¤„ï¼š å®ƒä»¬éƒ½æ˜¯å®¹å™¨ï¼Œéƒ½èƒ½å¤Ÿå®¹çº³ä¸€ç»„å…ƒç´ ã€‚ ä¸åŒä¹‹å¤„ï¼š æ•°ç»„çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œé›†åˆçš„å¤§å°æ˜¯å¯å˜çš„ã€‚ æ•°ç»„å¯ä»¥å­˜æ”¾åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½†é›†åˆåªèƒ½å­˜æ”¾å¯¹è±¡ã€‚ æ•°ç»„å­˜æ”¾çš„ç±»å‹åªèƒ½æ˜¯ä¸€ç§ï¼Œä½†é›†åˆå¯ä»¥æœ‰ä¸åŒç§ç±»çš„å…ƒç´ ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:4:1","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"é›†åˆæ ¹æ¥å£Collection æœ¬æ¥å£ä¸­å®šä¹‰äº†å…¨éƒ¨çš„é›†åˆåŸºæœ¬æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æºç ä¸­çœ‹çœ‹ã€‚ æˆ‘ä»¬å†æ¥çœ‹çœ‹Listå’ŒSetä»¥åŠQueueæ¥å£ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:4:2","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"é›†åˆç±»çš„ä½¿ç”¨ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:5:0","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"Liståˆ—è¡¨ é¦–å…ˆä»‹ç»ArrayListï¼Œå®ƒçš„åº•å±‚æ˜¯ç”¨æ•°ç»„å®ç°çš„ï¼Œå†…éƒ¨ç»´æŠ¤çš„æ˜¯ä¸€ä¸ªå¯æ”¹å˜å¤§å°çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„çº¿æ€§è¡¨ï¼è·Ÿæˆ‘ä»¬ä¹‹å‰è‡ªå·±å†™çš„ArrayListç›¸æ¯”ï¼Œå®ƒæ›´åŠ çš„è§„èŒƒï¼ŒåŒæ—¶ç»§æ‰¿è‡ªListæ¥å£ã€‚ å…ˆçœ‹çœ‹ArrayListçš„æºç ï¼ åŸºæœ¬æ“ä½œ List\u003cString\u003e list = new ArrayList\u003c\u003e(); //é»˜è®¤é•¿åº¦çš„åˆ—è¡¨ List\u003cString\u003e listInit = new ArrayList\u003c\u003e(100); //åˆå§‹é•¿åº¦ä¸º100çš„åˆ—è¡¨ å‘åˆ—è¡¨ä¸­æ·»åŠ å…ƒç´ ï¼š List\u003cString\u003e list = new ArrayList\u003c\u003e(); list.add(\"lbwnb\"); list.add(\"yyds\"); list.contains(\"yyds\"); //æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´  System.out.println(list); ç§»é™¤å…ƒç´ ï¼š public static void main(String[] args) { List\u003cString\u003e list = new ArrayList\u003c\u003e(); list.add(\"lbwnb\"); list.add(\"yyds\"); list.remove(0); //æŒ‰ä¸‹æ ‡ç§»é™¤å…ƒç´  list.remove(\"yyds\"); //ç§»é™¤æŒ‡å®šå…ƒç´  System.out.println(list); } ä¹Ÿæ”¯æŒæ‰¹é‡æ“ä½œï¼š public static void main(String[] args) { ArrayList\u003cString\u003e list = new ArrayList\u003c\u003e(); list.addAll(new ArrayList\u003c\u003e()); //åœ¨å°¾éƒ¨æ‰¹é‡æ·»åŠ å…ƒç´  list.removeAll(new ArrayList\u003c\u003e()); //æ‰¹é‡ç§»é™¤å…ƒç´ ï¼ˆåªæœ‰ç»™å®šé›†åˆä¸­å­˜åœ¨çš„å…ƒç´ æ‰ä¼šè¢«ç§»é™¤ï¼‰ list.retainAll(new ArrayList\u003c\u003e()); //åªä¿ç•™æŸäº›å…ƒç´  System.out.println(list); } æˆ‘ä»¬å†æ¥çœ‹LinkedListï¼Œå…¶å®æœ¬è´¨å°±æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼æˆ‘ä»¬æ¥çœ‹çœ‹æºç ã€‚ å…¶å®ä¸æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„LinkedListä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒå†…éƒ¨ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼š private static class Node\u003cE\u003e { E item; Node\u003cE\u003e next; Node\u003cE\u003e prev; Node(Node\u003cE\u003e prev, E element, Node\u003cE\u003e next) { this.item = element; this.next = next; this.prev = prev; } } å½“ç„¶ï¼Œæˆ‘ä»¬å‘ç°å®ƒè¿˜å®ç°äº†Queueæ¥å£ï¼Œæ‰€ä»¥LinkedListä¹Ÿèƒ½è¢«å½“åšä¸€ä¸ªé˜Ÿåˆ—æˆ–æ˜¯æ ˆæ¥ä½¿ç”¨ã€‚ public static void main(String[] args) { LinkedList\u003cString\u003e list = new LinkedList\u003c\u003e(); list.offer(\"A\"); //å…¥é˜Ÿ System.out.println(list.poll()); //å‡ºé˜Ÿ list.push(\"A\"); list.push(\"B\"); //è¿›æ ˆ list.push(\"C\"); System.out.println(list.pop()); System.out.println(list.pop()); //å‡ºæ ˆ System.out.println(list.pop()); } åˆ©ç”¨ä»£ç å—æ¥å¿«é€Ÿæ·»åŠ å†…å®¹ å‰é¢æˆ‘ä»¬å­¦ä¹ äº†åŒ¿åå†…éƒ¨ç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ä»£ç å—ï¼Œæ¥å¿«é€Ÿç”Ÿæˆä¸€ä¸ªè‡ªå¸¦å…ƒç´ çš„List List\u003cString\u003e list = new LinkedList\u003cString\u003e(){{ //åˆå§‹åŒ–æ—¶æ·»åŠ  this.add(\"A\"); this.add(\"B\"); }}; å¦‚æœæ˜¯éœ€è¦å¿«é€Ÿç”Ÿæˆä¸€ä¸ªåªè¯»çš„Listï¼Œåé¢æˆ‘ä»¬ä¼šè®²è§£Arrayså·¥å…·ç±»ã€‚ é›†åˆçš„æ’åº List\u003cInteger\u003e list = new LinkedList\u003cInteger\u003e(){ //Java9æ‰æ”¯æŒåŒ¿åå†…éƒ¨ç±»ä½¿ç”¨é’»çŸ³è¿ç®—ç¬¦ { this.add(10); this.add(2); this.add(5); this.add(8); } }; list.sort((a, b) -\u003e { //æ’åºå·²ç»ç”±JDKå®ç°ï¼Œç°åœ¨åªéœ€è¦å¡«å…¥è‡ªå®šä¹‰è§„åˆ™ï¼Œå®ŒæˆComparatoræ¥å£å®ç° return a - b; //è¿”å›å€¼å°äº0ï¼Œè¡¨ç¤ºaåº”è¯¥åœ¨bå‰é¢ï¼Œè¿”å›å€¼å¤§äº0ï¼Œè¡¨ç¤ºbåº”è¯¥åœ¨aåé¢ï¼Œç­‰äº0åˆ™ä¸è¿›è¡Œäº¤æ¢ }); System.out.println(list); ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:5:1","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"è¿­ä»£å™¨ é›†åˆçš„éå† æ‰€æœ‰çš„é›†åˆç±»ï¼Œéƒ½æ”¯æŒforeachå¾ªç¯ï¼ public static void main(String[] args) { List\u003cInteger\u003e list = new LinkedList\u003cInteger\u003e(){ //Java9æ‰æ”¯æŒåŒ¿åå†…éƒ¨ç±»ä½¿ç”¨é’»çŸ³è¿ç®—ç¬¦ { this.add(10); this.add(2); this.add(5); this.add(8); } }; for (Integer integer : list) { System.out.println(integer); } } å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨JDK1.8æ–°å¢çš„forEachæ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ªConsumeræ¥å£å®ç°ï¼š list.forEach(i -\u003e { System.out.println(i); }); ä»JDK1.8å¼€å§‹ï¼Œlambdaè¡¨è¾¾å¼å¼€å§‹é€æ¸æˆä¸ºä¸»æµï¼Œæˆ‘ä»¬éœ€è¦å»é€‚åº”å‡½æ•°å¼ç¼–ç¨‹çš„è¿™ç§è¯­æ³•ï¼ŒåŒ…æ‹¬æ‰¹é‡æ›¿æ¢ï¼Œä¹Ÿæ˜¯ç”¨åˆ°äº†å‡½æ•°å¼æ¥å£æ¥å®Œæˆçš„ã€‚ list.replaceAll((i) -\u003e { if(i == 2) return 3; //å°†æ‰€æœ‰çš„2æ›¿æ¢ä¸º3 else return i; //ä¸æ˜¯2å°±ä¸å˜ }); System.out.println(list); Iterableå’ŒIteratoræ¥å£ æˆ‘ä»¬ä¹‹å‰å­¦ä¹ æ•°æ®ç»“æ„æ—¶ï¼Œå·²ç»å¾—çŸ¥ï¼Œä¸åŒçš„çº¿æ€§è¡¨å®ç°ï¼Œåœ¨è·å–å…ƒç´ æ—¶çš„æ•ˆç‡ä¹Ÿä¸åŒï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ç§æ›´å¥½åœ°æ–¹å¼æ¥ç»Ÿä¸€ä¸åŒæ•°æ®ç»“æ„çš„éå†ã€‚ ç”±äºArrayListå¯¹äºéšæœºè®¿é—®çš„é€Ÿåº¦æ›´å¿«ï¼Œè€ŒLinkedListå¯¹äºé¡ºåºè®¿é—®çš„é€Ÿåº¦æ›´å¿«ï¼Œå› æ­¤åœ¨ä¸Šè¿°çš„ä¼ ç»Ÿforå¾ªç¯éå†æ“ä½œä¸­ï¼ŒArrayListçš„æ•ˆç‡æ›´èƒœä¸€ç­¹ï¼Œå› æ­¤æˆ‘ä»¬è¦ä½¿å¾—LinkedListéå†æ•ˆç‡æå‡ï¼Œå°±éœ€è¦é‡‡ç”¨é¡ºåºè®¿é—®çš„æ–¹å¼è¿›è¡Œéå†ï¼Œå¦‚æœæ²¡æœ‰è¿­ä»£å™¨å¸®åŠ©æˆ‘ä»¬ç»Ÿä¸€æ ‡å‡†ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨åº”å¯¹å¤šç§é›†åˆç±»å‹çš„æ—¶å€™ï¼Œå°±éœ€è¦å¯¹åº”ç¼–å†™ä¸åŒçš„éå†ç®—æ³•ï¼Œå¾ˆæ˜¾ç„¶è¿™æ ·ä¼šé™ä½æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œè€Œè¿­ä»£å™¨çš„å‡ºç°å°±å¸®åŠ©æˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è¿­ä»£å™¨é‡Œé¢æ–¹æ³•ï¼š public interface Iterator\u003cE\u003e { //... } æ¯ä¸ªé›†åˆç±»éƒ½æœ‰è‡ªå·±çš„è¿­ä»£å™¨ï¼Œé€šè¿‡iterator()æ–¹æ³•æ¥è·å–ï¼š Iterator\u003cInteger\u003e iterator = list.iterator(); //ç”Ÿæˆä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ while (iterator.hasNext()){ //åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´  Integer i = iterator.next(); //è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼ˆè·å–ä¸€ä¸ªå°‘ä¸€ä¸ªï¼‰ System.out.println(i); } è¿­ä»£å™¨ç”Ÿæˆåï¼Œé»˜è®¤æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ¯æ¬¡è°ƒç”¨next()æ–¹æ³•ï¼Œéƒ½ä¼šå°†æŒ‡é’ˆåç§»ï¼Œå½“æŒ‡é’ˆç§»åŠ¨åˆ°æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åï¼Œè°ƒç”¨hasNext()å°†ä¼šè¿”å›falseï¼Œè¿­ä»£å™¨æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œç”¨å®Œå³æ­¢ï¼Œå¦‚æœéœ€è¦å†æ¬¡ä½¿ç”¨ï¼Œéœ€è¦è°ƒç”¨iterator()æ–¹æ³•ã€‚ ListIterator\u003cInteger\u003e iterator = list.listIterator(); //Listè¿˜æœ‰ä¸€ä¸ªæ›´å¥½åœ°è¿­ä»£å™¨å®ç°ListIterator ListIteratoræ˜¯Listä¸­ç‹¬æœ‰çš„è¿­ä»£å™¨ï¼Œåœ¨åŸæœ‰è¿­ä»£å™¨åŸºç¡€ä¸Šæ–°å¢äº†ä¸€äº›é¢å¤–çš„æ“ä½œã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:5:2","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"Seté›†åˆ æˆ‘ä»¬ä¹‹å‰å·²ç»çœ‹è¿‡Setæ¥å£çš„å®šä¹‰äº†ï¼Œæˆ‘ä»¬å‘ç°æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•éƒ½æ˜¯Collectionä¸­ç›´æ¥ç»§æ‰¿çš„ï¼Œå› æ­¤ï¼ŒSetæ”¯æŒçš„åŠŸèƒ½å…¶å®ä¹Ÿå°±å’ŒCollectionä¸­å®šä¹‰çš„å·®ä¸å¤šï¼Œåªä¸è¿‡ä½¿ç”¨æ–¹æ³•ä¸Šç¨æœ‰ä¸åŒã€‚ Seté›†åˆç‰¹ç‚¹ï¼š ä¸å…è®¸å‡ºç°é‡å¤å…ƒç´  ä¸æ”¯æŒéšæœºè®¿é—®ï¼ˆä¸å…è®¸é€šè¿‡ä¸‹æ ‡è®¿é—®ï¼‰ é¦–å…ˆè®¤è¯†ä¸€ä¸‹HashSetï¼Œå®ƒçš„åº•å±‚å°±æ˜¯é‡‡ç”¨å“ˆå¸Œè¡¨å®ç°çš„ï¼ˆæˆ‘ä»¬åœ¨è¿™é‡Œå…ˆä¸å»æ¢è®¨å®ç°åŸç†ï¼Œå› ä¸ºåº•å±‚å®è´¨ä¸Šç»´æŠ¤çš„æ˜¯ä¸€ä¸ªHashMapï¼Œæˆ‘ä»¬å­¦ä¹ äº†Mapä¹‹åå†æ¥è®¨è®ºï¼‰ public static void main(String[] args) { HashSet\u003cInteger\u003e set = new HashSet\u003c\u003e(); set.add(120); //æ”¯æŒæ’å…¥å…ƒç´ ï¼Œä½†æ˜¯ä¸æ”¯æŒæŒ‡å®šä½ç½®æ’å…¥ set.add(13); set.add(11); for (Integer integer : set) { System.out.println(integer); } } è¿è¡Œä¸Šé¢ä»£ç å‘ç°ï¼Œæœ€åSeté›†åˆä¸­å­˜åœ¨çš„å…ƒç´ é¡ºåºï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬çš„æ’å…¥é¡ºåºï¼Œè¿™æ˜¯å› ä¸ºHashSetåº•å±‚æ˜¯é‡‡ç”¨å“ˆå¸Œè¡¨æ¥å®ç°çš„ï¼Œå®é™…çš„å­˜æ”¾é¡ºåºæ˜¯ç”±Hashç®—æ³•å†³å®šçš„ã€‚ é‚£ä¹ˆæˆ‘ä»¬å¸Œæœ›æ•°æ®æŒ‰ç…§æˆ‘ä»¬æ’å…¥çš„é¡ºåºè¿›è¡Œä¿å­˜è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨LinkedHashSetï¼š public static void main(String[] args) { LinkedHashSet\u003cInteger\u003e set = new LinkedHashSet\u003c\u003e(); //ä¼šè‡ªåŠ¨ä¿å­˜æˆ‘ä»¬çš„æ’å…¥é¡ºåº set.add(120); set.add(13); set.add(11); for (Integer integer : set) { System.out.println(integer); } } LinkedHashSetåº•å±‚ç»´æŠ¤çš„ä¸å†æ˜¯ä¸€ä¸ªHashMapï¼Œè€Œæ˜¯LinkedHashMapï¼Œå®ƒèƒ½å¤Ÿåœ¨æ’å…¥æ•°æ®æ—¶åˆ©ç”¨é“¾è¡¨è‡ªåŠ¨ç»´æŠ¤é¡ºåºï¼Œå› æ­¤è¿™æ ·å°±èƒ½å¤Ÿä¿è¯æˆ‘ä»¬æ’å…¥é¡ºåºå’Œæœ€åçš„è¿­ä»£é¡ºåºä¸€è‡´äº†ã€‚ è¿˜æœ‰ä¸€ç§Setå«åšTreeSetï¼Œå®ƒä¼šåœ¨å…ƒç´ æ’å…¥æ—¶è¿›è¡Œæ’åºï¼š public static void main(String[] args) { TreeSet\u003cInteger\u003e set = new TreeSet\u003c\u003e(); set.add(1); set.add(3); set.add(2); System.out.println(set); } å¯ä»¥çœ‹åˆ°æœ€åå¾—åˆ°çš„ç»“æœå¹¶ä¸æ˜¯æˆ‘ä»¬æ’å…¥é¡ºåºï¼Œè€Œæ˜¯æŒ‰ç…§æ•°å­—çš„å¤§å°è¿›è¡Œæ’åˆ—ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ’åºè§„åˆ™ï¼š public static void main(String[] args) { TreeSet\u003cInteger\u003e set = new TreeSet\u003c\u003e((a, b) -\u003e b - a); //åœ¨åˆ›å»ºå¯¹è±¡æ—¶æŒ‡å®šè§„åˆ™å³å¯ set.add(1); set.add(3); set.add(2); System.out.println(set); } ç°åœ¨çš„ç»“æœå°±æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„æ’åºè§„åˆ™äº†ã€‚ è™½ç„¶Seté›†åˆåªæ˜¯ç²—ç•¥çš„è¿›è¡Œäº†è®²è§£ï¼Œä½†æ˜¯å­¦ä¹ Mapä¹‹åï¼Œæˆ‘ä»¬è¿˜ä¼šå›æ¥çœ‹æˆ‘ä»¬Setçš„åº•å±‚å®ç°ï¼Œæ‰€ä»¥è¯´æœ€é‡è¦çš„è¿˜æ˜¯Mapã€‚æœ¬èŠ‚åªéœ€è¦è®°ä½Setçš„æ€§è´¨ã€ä½¿ç”¨å³å¯ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:5:3","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"Mapæ˜ å°„ ä»€ä¹ˆæ˜¯æ˜ å°„ æˆ‘ä»¬åœ¨é«˜ä¸­é˜¶æ®µå…¶å®å·²ç»å­¦ä¹ è¿‡æ˜ å°„äº†ï¼Œæ˜ å°„æŒ‡ä¸¤ä¸ªå…ƒç´ çš„ä¹‹é—´ç›¸äº’â€œå¯¹åº”â€çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„å…ƒç´ ä¹‹é—´æ˜¯ä¸¤ä¸¤å¯¹åº”çš„ï¼Œæ˜¯ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜åœ¨ã€‚ Mapæ¥å£ Mapå°±æ˜¯ä¸ºäº†å®ç°è¿™ç§æ•°æ®ç»“æ„è€Œå­˜åœ¨çš„ï¼Œæˆ‘ä»¬é€šè¿‡ä¿å­˜é”®å€¼å¯¹çš„å½¢å¼æ¥å­˜å‚¨æ˜ å°„å…³ç³»ã€‚ æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹Mapæ¥å£ä¸­å®šä¹‰äº†å“ªäº›æ“ä½œã€‚ HashMapå’ŒLinkedHashMap HashMapçš„å®ç°è¿‡ç¨‹ï¼Œç›¸æ¯”Listï¼Œå°±éå¸¸åœ°å¤æ‚äº†ï¼Œå®ƒå¹¶ä¸æ˜¯ç®€ç®€å•å•çš„è¡¨ç»“æ„ï¼Œè€Œæ˜¯åˆ©ç”¨å“ˆå¸Œè¡¨å­˜æ”¾æ˜ å°„å…³ç³»ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹HashMapæ˜¯å¦‚ä½•å®ç°çš„ï¼Œé¦–å…ˆå›é¡¾æˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„å“ˆå¸Œè¡¨ï¼Œå®ƒé•¿è¿™æ ·ï¼š å“ˆå¸Œè¡¨çš„æœ¬è´¨å…¶å®å°±æ˜¯ä¸€ä¸ªç”¨äºå­˜æ”¾åç»­èŠ‚ç‚¹çš„å¤´ç»“ç‚¹çš„æ•°ç»„ï¼Œæ•°ç»„é‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå¤´ç»“ç‚¹ï¼ˆä¹Ÿå¯ä»¥è¯´å°±æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼‰ï¼Œå½“è¦æ–°æ’å…¥ä¸€ä¸ªæ•°æ®æ—¶ï¼Œä¼šå…ˆè®¡ç®—è¯¥æ•°æ®çš„å“ˆå¸Œå€¼ï¼Œæ‰¾åˆ°æ•°ç»„ä¸‹æ ‡ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œæ·»åŠ åˆ°å¯¹åº”çš„é“¾è¡¨åé¢ã€‚ è€ŒHashMapå°±æ˜¯é‡‡ç”¨çš„è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æºç ä¸­åŒæ ·å®šä¹‰äº†è¿™æ ·çš„ä¸€ä¸ªç»“æ„ï¼š /** * The table, initialized on first use, and resized as * necessary. When allocated, length is always a power of two. * (We also tolerate length zero in some operations to allow * bootstrapping mechanics that are currently not needed.) */ transient Node\u003cK,V\u003e[] table; è¿™ä¸ªè¡¨ä¼šåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶åˆå§‹åŒ–ï¼ŒåŒæ—¶åœ¨å¿…è¦æ—¶è¿›è¡Œæ‰©å®¹ï¼Œå¹¶ä¸”å®ƒçš„å¤§å°æ°¸è¿œæ˜¯2çš„å€æ•°ï¼ /** * The default initial capacity - MUST be a power of two. */ static final int DEFAULT_INITIAL_CAPACITY = 1 \u003c\u003c 4; // aka 16 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é»˜è®¤çš„å¤§å°ä¸º2çš„4æ¬¡æ–¹ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ˜¯2çš„å€æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸‹ä¸€æ¬¡å¢é•¿ä¹‹åï¼Œå¤§å°ä¼šå˜æˆ2çš„5æ¬¡æ–¹ã€‚ æˆ‘ä»¬ç°åœ¨éœ€è¦æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œå½“æˆ‘ä»¬è¡¨ä¸­çš„æ•°æ®ä¸æ–­å¢åŠ ä¹‹åï¼Œé“¾è¡¨ä¼šå˜å¾—è¶Šæ¥è¶Šé•¿ï¼Œè¿™æ ·ä¼šä¸¥é‡å¯¼è‡´æŸ¥è¯¢é€Ÿåº¦å˜æ…¢ï¼Œé¦–å…ˆæƒ³åˆ°åŠæ³•å°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ•°ç»„çš„é•¿åº¦è¿›è¡Œæ‰©å®¹ï¼Œæ¥å­˜æ”¾æ›´å¤šçš„é“¾è¡¨ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ä¼šè¿›è¡Œæ‰©å®¹å‘¢ï¼Ÿ /** * The load factor for the hash table. * * @serial */ final float loadFactor; æˆ‘ä»¬è¿˜å‘ç°HashMapæºç ä¸­æœ‰è¿™æ ·ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿå°±æ˜¯è´Ÿè½½å› å­ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¹²å˜›çš„å‘¢ï¼Ÿ è´Ÿè½½å› å­å…¶å®å°±æ˜¯ç”¨æ¥è¡¡é‡å½“å‰æƒ…å†µæ˜¯å¦éœ€è¦è¿›è¡Œæ‰©å®¹çš„æ ‡å‡†ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é»˜è®¤çš„è´Ÿè½½å› å­æ˜¯0.75 /** * The load factor used when none specified in constructor. */ static final float DEFAULT_LOAD_FACTOR = 0.75f; é‚£ä¹ˆè´Ÿè½½å› å­æ˜¯æ€ä¹ˆæ§åˆ¶æ‰©å®¹çš„å‘¢ï¼Ÿ0.75çš„æ„æ€æ˜¯ï¼Œåœ¨æ’å…¥æ–°çš„ç»“ç‚¹åï¼Œå¦‚æœå½“å‰æ•°ç»„çš„å ç”¨ç‡è¾¾åˆ°75%åˆ™è¿›è¡Œæ‰©å®¹ã€‚åœ¨æ‰©å®¹æ—¶ï¼Œä¼šå°†æ‰€æœ‰çš„æ•°æ®ï¼Œé‡æ–°è®¡ç®—å“ˆå¸Œå€¼ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ä¸‹æ ‡ï¼Œç»„æˆæ–°çš„å“ˆå¸Œè¡¨ã€‚ ä½†æ˜¯è¿™æ ·ä¾ç„¶æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé“¾è¡¨è¿‡é•¿çš„æƒ…å†µè¿˜æ˜¯æœ‰å¯èƒ½å‘ç”Ÿï¼Œæ‰€ä»¥ï¼Œä¸ºäº†ä»æ ¹æºä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨JDK1.8æ—¶ï¼Œå¼•å…¥äº†çº¢é»‘æ ‘è¿™ä¸ªæ•°æ®ç»“æ„ã€‚ å½“é“¾è¡¨çš„é•¿åº¦è¾¾åˆ°8æ—¶ï¼Œä¼šè‡ªåŠ¨å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œè¿™æ ·èƒ½ä½¿å¾—åŸæœ‰çš„æŸ¥è¯¢æ•ˆç‡å¤§å¹…åº¦é™ä½ï¼å½“ä½¿ç”¨çº¢é»‘æ ‘ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨äºŒåˆ†æœç´¢çš„æ€æƒ³ï¼Œå¿«é€Ÿåœ°å»å¯»æ‰¾æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œè€Œä¸æ˜¯åƒé“¾è¡¨ä¸€æ ·æŒ¨ä¸ªå»çœ‹ã€‚ /** * Entry for Tree bins. Extends LinkedHashMap.Entry (which in turn * extends Node) so can be used as extension of either regular or * linked node. */ static final class TreeNode\u003cK,V\u003e extends LinkedHashMap.Entry\u003cK,V\u003e { é™¤äº†Nodeä»¥å¤–ï¼ŒHashMapè¿˜æœ‰TreeNodeï¼Œå¾ˆæ˜æ˜¾è¿™å°±æ˜¯ä¸ºäº†å®ç°çº¢é»‘æ ‘è€Œè®¾è®¡çš„å†…éƒ¨ç±»ã€‚ä¸è¿‡æˆ‘ä»¬å‘ç°ï¼ŒTreeNodeå¹¶ä¸æ˜¯ç›´æ¥ç»§æ‰¿Nodeï¼Œè€Œæ˜¯ä½¿ç”¨äº†LinkedHashMapä¸­çš„Entryå®ç°ï¼Œå®ƒä¿å­˜äº†å‰åèŠ‚ç‚¹çš„é¡ºåºï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„æ’å…¥é¡ºåºï¼‰ã€‚ /** * HashMap.Node subclass for normal LinkedHashMap entries. */ static class Entry\u003cK,V\u003e extends HashMap.Node\u003cK,V\u003e { Entry\u003cK,V\u003e before, after; Entry(int hash, K key, V value, Node\u003cK,V\u003e next) { super(hash, key, value, next); } } LinkedHashMapæ˜¯ç›´æ¥ç»§æ‰¿è‡ªHashMapï¼Œå…·æœ‰HashMapçš„å…¨éƒ¨æ€§è´¨ï¼ŒåŒæ—¶å¾—ç›Šäºæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œä¿å­˜äº†æ’å…¥é¡ºåºï¼Œè¿™æ ·æˆ‘ä»¬åœ¨éå†LinkedHashMapæ—¶ï¼Œé¡ºåºå°±åŒæˆ‘ä»¬çš„æ’å…¥é¡ºåºä¸€è‡´ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è®¿é—®é¡ºåºï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºåˆšè®¿é—®è¿‡çš„å…ƒç´ ï¼Œä¼šè¢«æ’åˆ°æœ€åä¸€ä½ã€‚ public static void main(String[] args) { LinkedHashMap\u003cInteger, String\u003e map = new LinkedHashMap\u003c\u003e(16, 0.75f, true); //ä»¥è®¿é—®é¡ºåº map.put(1, \"A\"); map.put(2, \"B\"); map.put(3, \"C\"); map.get(2); System.out.println(map); } è§‚å¯Ÿç»“æœï¼Œæˆ‘ä»¬å‘ç°ï¼Œåˆšè®¿é—®çš„ç»“æœè¢«æ’åˆ°äº†æœ€åä¸€ä½ã€‚ TreeMap TreeMapå…¶å®å°±æ˜¯è‡ªåŠ¨ç»´æŠ¤é¡ºåºçš„ä¸€ç§Mapï¼Œå°±å’Œæˆ‘ä»¬å‰é¢æåˆ°çš„TreeSetä¸€æ ·ï¼š /** * The comparator used to maintain order in this tree map, or * null if it uses the natural ordering of its keys. * * @serial */ private final Comparator\u003c? super K\u003e comparator; private transient Entry\u003cK,V\u003e root; /** * Node in the Tree. Doubles as a means to pass key-value pairs back to * user (see Map.Entry). */ static final class Entry\u003cK,V\u003e implements Map.Entry\u003cK,V\u003e { æˆ‘ä»¬å‘ç°å®ƒçš„å†…éƒ¨ç›´æ¥ç»´æŠ¤äº†ä¸€ä¸ªçº¢é»‘æ ‘ï¼Œå°±åƒå®ƒçš„åå­—ä¸€æ ·ï¼Œå°±æ˜¯ä¸€ä¸ªTreeï¼Œå› ä¸ºå®ƒé»˜è®¤å°±æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥è¯´ç›´æ¥é‡‡ç”¨çº¢é»‘æ ‘ä¼šæ›´å¥½ã€‚æˆ‘ä»¬åœ¨åˆ›å»ºæ—¶ï¼Œç›´æ¥ç»™äºˆä¸€ä¸ªæ¯”è¾ƒè§„åˆ™å³å¯ã€‚ Mapçš„ä½¿ç”¨ æˆ‘ä»¬é¦–å…ˆæ¥çœ‹çœ‹Mapçš„ä¸€äº›åŸºæœ¬æ“ä½œï¼š public static void main(String[] args) { Map\u003cInteger, String\u003e map = new HashMap\u003c\u003e(); map.put(1, \"A\"); map.put(2, \"B\"); map.put(3, \"C\"); System.out.println(map.get(1)); //è·å–Keyä¸º1çš„å€¼ System.out.println(map.getOrDefault(0, \"K\")); //ä¸å­˜åœ¨å°±è¿”å›K map.remove(1); //ç§»é™¤è¿™ä¸ªKeyçš„é”®å€¼å¯¹ } ç”±äºMapå¹¶æœªå®ç°è¿­ä»£å™¨æ¥å£ï¼Œå› æ­¤ä¸æ”¯æŒforeachï¼Œä½†æ˜¯JDK1.8ä¸ºæˆ‘ä»¬æä¾›äº†forEachæ–¹æ³•ä½¿ç”¨ï¼š public static void main(String[] args) { Map\u003cInteger, String\u003e map = new HashMap\u003c\u003e(); map.put(1, \"A\"); map.put(2, \"B\"); map.put(3, \"C\"); map.forEach((k, v) -\u003e System.out.println(k+\"-\u003e\"+v)); for (Map.Entry\u003cInteger, String\u003e entry : map.entrySet()) { //ä¹Ÿå¯ä»¥è·å–æ‰€æœ‰çš„Entryæ¥foreach int key = entry.getKey(); String value = entry.getValue(); System.out.println(key+\" -\u003e \"+value); } } æˆ‘ä»¬ä¹Ÿå¯ä»¥å•ç‹¬è·å–æ‰€æœ‰çš„å€¼æˆ–è€…æ˜¯é”®ï¼š public static void main(String[] args) { Map\u003cInteger, String\u003e map = new HashMap\u003c\u003e(); map.put(1, \"A\"); map.put(2, \"B\"); map.put(3, \"C\"); System.out.println(map.keySet()); //ç›´æ¥è·å–æ‰€æœ‰çš„key System.out.println(map.values()); //ç›´æ¥è·å–æ‰€æœ‰çš„å€¼ } å†è°ˆSetåŸç† é€šè¿‡è§‚å¯ŸHash","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:5:4","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"é›†åˆçš„åµŒå¥— æ—¢ç„¶é›†åˆç±»å‹ä¸­çš„å…ƒç´ ç±»å‹æ˜¯æ³›å‹ï¼Œé‚£ä¹ˆèƒ½å¦åµŒå¥—å­˜å‚¨å‘¢ï¼Ÿ public static void main(String[] args) { Map\u003cString, List\u003cInteger\u003e\u003e map = new HashMap\u003c\u003e(); //æ¯ä¸€ä¸ªæ˜ å°„éƒ½æ˜¯ å­—ç¬¦ä¸²\u003c-\u003eåˆ—è¡¨ map.put(\"å¡å¸ƒå¥‡è¯ºä»ŠçŠ¹åœ¨\", new LinkedList\u003c\u003e()); map.put(\"ä¸è§å½“å¹´å€’èŒ¶äºº\", new LinkedList\u003c\u003e()); System.out.println(map.keySet()); System.out.println(map.values()); } é€šè¿‡Keyè·å–åˆ°å¯¹åº”çš„å€¼åï¼Œå°±æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼š map.get(\"å¡å¸ƒå¥‡è¯ºä»ŠçŠ¹åœ¨\").add(10); System.out.println(map.get(\"å¡å¸ƒå¥‡è¯ºä»ŠçŠ¹åœ¨\").get(0)); è®©å¥—å¨ƒç»§ç»­ä¸‹å»ï¼š public static void main(String[] args) { Map\u003cInteger, Map\u003cInteger, Map\u003cInteger, String\u003e\u003e\u003e map = new HashMap\u003c\u003e(); } ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Listæ¥å¥—å¨ƒåˆ«çš„ï¼š public static void main(String[] args) { List\u003cMap\u003cString, Set\u003cString\u003e\u003e\u003e list = new LinkedList\u003c\u003e(); } ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:5:5","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"æµStreamå’ŒOptionalçš„ä½¿ç”¨ Java 8 APIæ·»åŠ äº†ä¸€ä¸ªæ–°çš„æŠ½è±¡ç§°ä¸ºæµStreamï¼Œå¯ä»¥è®©ä½ ä»¥ä¸€ç§å£°æ˜çš„æ–¹å¼å¤„ç†æ•°æ®ã€‚Stream ä½¿ç”¨ä¸€ç§ç±»ä¼¼ç”¨ SQL è¯­å¥ä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®çš„ç›´è§‚æ–¹å¼æ¥æä¾›ä¸€ç§å¯¹ Java é›†åˆè¿ç®—å’Œè¡¨è¾¾çš„é«˜é˜¶æŠ½è±¡ã€‚Stream APIå¯ä»¥æå¤§æé«˜Javaç¨‹åºå‘˜çš„ç”Ÿäº§åŠ›ï¼Œè®©ç¨‹åºå‘˜å†™å‡ºé«˜æ•ˆç‡ã€å¹²å‡€ã€ç®€æ´çš„ä»£ç ã€‚è¿™ç§é£æ ¼å°†è¦å¤„ç†çš„å…ƒç´ é›†åˆçœ‹ä½œä¸€ç§æµï¼Œ æµåœ¨ç®¡é“ä¸­ä¼ è¾“ï¼Œ å¹¶ä¸”å¯ä»¥åœ¨ç®¡é“çš„èŠ‚ç‚¹ä¸Šè¿›è¡Œå¤„ç†ï¼Œ æ¯”å¦‚ç­›é€‰ï¼Œ æ’åºï¼Œèšåˆç­‰ã€‚å…ƒç´ æµåœ¨ç®¡é“ä¸­ç»è¿‡ä¸­é—´æ“ä½œï¼ˆintermediate operationï¼‰çš„å¤„ç†ï¼Œæœ€åç”±æœ€ç»ˆæ“ä½œ(terminal operation)å¾—åˆ°å‰é¢å¤„ç†çš„ç»“æœã€‚ å®ƒçœ‹èµ·æ¥å°±åƒä¸€ä¸ªå·¥å‚çš„æµæ°´çº¿ä¸€æ ·ï¼æˆ‘ä»¬å°±å¯ä»¥æŠŠä¸€ä¸ªStreamå½“åšæµæ°´çº¿å¤„ç†ï¼š public static void main(String[] args) { List\u003cString\u003e list = new ArrayList\u003c\u003e(); list.add(\"A\"); list.add(\"B\"); list.add(\"C\"); //ç§»é™¤ä¸ºBçš„å…ƒç´  Iterator\u003cString\u003e iterator = list.iterator(); while (iterator.hasNext()){ if(iterator.next().equals(\"B\")) iterator.remove(); } //Streamæ“ä½œ list = list //é“¾å¼è°ƒç”¨ .stream() //è·å–æµ .filter(e -\u003e !e.equals(\"B\")) //åªå…è®¸æ‰€æœ‰ä¸æ˜¯Bçš„å…ƒç´ é€šè¿‡æµæ°´çº¿ .collect(Collectors.toList()); //å°†æµæ°´çº¿ä¸­çš„å…ƒç´ é‡æ–°æ”¶é›†èµ·æ¥ï¼Œå˜å›List System.out.println(list); } å¯èƒ½ä»ä¸Šè¿°ä¾‹å­ä¸­è¿˜ä¸èƒ½æ„Ÿå—åˆ°æµå¤„ç†å¸¦æ¥çš„ä¾¿æ·ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢è¿™ä¸ªä¾‹å­æ¥æ„Ÿå—ä¸€ä¸‹ï¼š public static void main(String[] args) { List\u003cInteger\u003e list = new ArrayList\u003c\u003e(); list.add(1); list.add(2); list.add(3); list.add(3); list = list .stream() .distinct() //å»é‡ï¼ˆä½¿ç”¨equalsåˆ¤æ–­ï¼‰ .sorted((a, b) -\u003e b - a) //è¿›è¡Œå€’åºæ’åˆ— .map(e -\u003e e+1) //æ¯ä¸ªå…ƒç´ éƒ½è¦æ‰§è¡Œ+1æ“ä½œ .limit(2) //åªæ”¾è¡Œå‰ä¸¤ä¸ªå…ƒç´  .collect(Collectors.toList()); System.out.println(list); } å½“é‡åˆ°å¤§é‡çš„å¤æ‚æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Streamæ¥å¿«é€Ÿç¼–å†™ä»£ç ï¼Œè¿™æ ·ä¸ä»…ä»£ç é‡å¤§å¹…åº¦å‡å°‘ï¼Œè€Œä¸”é€»è¾‘ä¹Ÿæ›´åŠ æ¸…æ™°æ˜äº†ï¼ˆå¦‚æœä½ å­¦ä¹ è¿‡SQLçš„è¯ï¼Œä½ ä¼šå‘ç°å®ƒæ›´åƒä¸€ä¸ªSqlè¯­å¥ï¼‰ æ³¨æ„ï¼šä¸èƒ½è®¤ä¸ºæ¯ä¸€æ­¥æ˜¯ç›´æ¥ä¾æ¬¡æ‰§è¡Œçš„ï¼ List\u003cInteger\u003e list = new ArrayList\u003c\u003e(); list.add(1); list.add(2); list.add(3); list.add(3); list = list .stream() .distinct() //æ–­ç‚¹ .sorted((a, b) -\u003e b - a) .map(e -\u003e { System.out.println(\"\u003e\u003e\u003e \"+e); //æ–­ç‚¹ return e+1; }) .limit(2) //æ–­ç‚¹ .collect(Collectors.toList()); //å®é™…ä¸Šï¼Œstreamä¼šå…ˆè®°å½•æ¯ä¸€æ­¥æ“ä½œï¼Œè€Œä¸æ˜¯ç›´æ¥å¼€å§‹æ‰§è¡Œå†…å®¹ï¼Œå½“æ•´ä¸ªé“¾å¼è°ƒç”¨å®Œæˆåï¼Œæ‰ä¼šä¾æ¬¡è¿›è¡Œï¼ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨ä¸€å †éšæœºæ•°æ¥è¿›è¡Œæ›´å¤šæµæ“ä½œçš„æ¼”ç¤ºï¼š public static void main(String[] args) { Random random = new Random(); //Randomæ˜¯ä¸€ä¸ªéšæœºæ•°å·¥å…·ç±» random .ints(-100, 100) //ç”Ÿæˆ-100~100ä¹‹é—´çš„ï¼Œéšæœºintå‹æ•°å­—ï¼ˆæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªIntStreamï¼‰ .limit(10) //åªè·å–å‰10ä¸ªæ•°å­—ï¼ˆè¿™æ˜¯ä¸€ä¸ªæ— é™åˆ¶çš„æµï¼Œå¦‚æœä¸åŠ ä»¥é™åˆ¶ï¼Œå°†ä¼šæ— é™è¿›è¡Œä¸‹å»ï¼ï¼‰ .filter(i -\u003e i \u003c 0) //åªä¿ç•™å°äº0çš„æ•°å­— .sorted() //é»˜è®¤ä»å°åˆ°å¤§æ’åº .forEach(System.out::println); //ä¾æ¬¡æ‰“å° } æˆ‘ä»¬å¯ä»¥ç”Ÿæˆä¸€ä¸ªç»Ÿè®¡å®ä¾‹æ¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿè¿›è¡Œç»Ÿè®¡ï¼š public static void main(String[] args) { Random random = new Random(); //Randomæ˜¯ä¸€ä¸ªéšæœºæ•°å·¥å…·ç±» IntSummaryStatistics statistics = random .ints(0, 100) .limit(100) .summaryStatistics(); //è·å–è¯­æ³•ç»Ÿè®¡å®ä¾‹ System.out.println(statistics.getMax()); //å¿«é€Ÿè·å–æœ€å¤§å€¼ System.out.println(statistics.getCount()); //è·å–æ•°é‡ System.out.println(statistics.getAverage()); //è·å–å¹³å‡å€¼ } æ™®é€šçš„Liståªéœ€è¦ä¸€ä¸ªæ–¹æ³•å°±å¯ä»¥ç›´æ¥è½¬æ¢åˆ°æ–¹ä¾¿å¥½ç”¨çš„IntStreamäº†ï¼š public static void main(String[] args) { List\u003cInteger\u003e list = new ArrayList\u003c\u003e(); list.add(1); list.add(1); list.add(2); list.add(3); list.add(4); list.stream() .mapToInt(i -\u003e i) //å°†æ¯ä¸€ä¸ªå…ƒç´ æ˜ å°„ä¸ºIntegerç±»å‹ï¼ˆè¿™é‡Œå› ä¸ºæœ¬æ¥å°±æ˜¯Integerï¼‰ .summaryStatistics(); } æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡flatæ¥å¯¹æ•´ä¸ªæµè¿›è¡Œè¿›ä¸€æ­¥ç»†åˆ†ï¼š public static void main(String[] args) { List\u003cString\u003e list = new ArrayList\u003c\u003e(); list.add(\"A,B\"); list.add(\"C,D\"); list.add(\"E,F\"); //æˆ‘ä»¬æƒ³è®©æ¯ä¸€ä¸ªå…ƒç´ é€šè¿‡,è¿›è¡Œåˆ†å‰²ï¼Œå˜æˆç‹¬ç«‹çš„6ä¸ªå…ƒç´  list = list .stream() //ç”Ÿæˆæµ .flatMap(e -\u003e Arrays.stream(e.split(\",\"))) //åˆ†å‰²å­—ç¬¦ä¸²å¹¶ç”Ÿæˆæ–°çš„æµ .collect(Collectors.toList()); //æ±‡æˆæ–°çš„List System.out.println(list); //å¾—åˆ°ç»“æœ } æˆ‘ä»¬ä¹Ÿå¯ä»¥åªé€šè¿‡Streamæ¥å®Œæˆæ‰€æœ‰æ•°å­—çš„å’Œï¼Œä½¿ç”¨reduceæ–¹æ³•ï¼š public static void main(String[] args) { List\u003cInteger\u003e list = new ArrayList\u003c\u003e(); list.add(1); list.add(2); list.add(3); int sum = list .stream() .reduce((a, b) -\u003e a + b) //è®¡ç®—è§„åˆ™ä¸ºï¼šaæ˜¯ä¸Šä¸€æ¬¡è®¡ç®—çš„å€¼ï¼Œbæ˜¯å½“å‰è¦è®¡ç®—çš„å‚æ•°ï¼Œè¿™é‡Œæ˜¯æ±‚å’Œ .get(); //æˆ‘ä»¬å‘ç°å¾—åˆ°çš„æ˜¯ä¸€ä¸ªOptionalç±»å®ä¾‹ï¼Œä¸æ˜¯æˆ‘ä»¬è¿”å›çš„ç±»å‹ï¼Œé€šè¿‡getæ–¹æ³•è¿”å›å¾—åˆ°çš„å€¼ System.out.println(sum); } é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å‘ç°ï¼ŒStreamä¸å–œæ¬¢ç›´æ¥ç»™æˆ‘ä»¬è¿”å›ä¸€ä¸ªç»“æœï¼Œè€Œæ˜¯é€šè¿‡Optinalçš„æ–¹å¼ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯Optionalå‘¢ï¼Ÿ Optionalç±»æ˜¯Java8ä¸ºäº†è§£å†³nullå€¼åˆ¤æ–­é—®é¢˜ï¼Œä½¿ç”¨Optionalç±»å¯ä»¥é¿å…æ˜¾å¼çš„nullå€¼åˆ¤æ–­ï¼ˆnullçš„é˜²å¾¡æ€§æ£€æŸ¥ï¼‰ï¼Œé¿å…nullå¯¼è‡´çš„NPEï¼ˆNullPointerExceptionï¼‰ã€‚æ€»è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å¯¹æ§åˆ¶çš„ä¸€ä¸ªåˆ¤æ–­ï¼Œä¸ºäº†é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚ public static void main(String[] args) { String str = null; if(str != null){ //å½“strä¸ä¸ºç©ºæ—¶æ·»åŠ å…ƒç´ åˆ°Listä¸­ list.add(str); } } æœ‰äº†Optionalä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·å†™ï¼š public static void main(String[] args) { String str = null; Optional\u003cString\u003e optional = Optional.ofNullable(str); //è½¬æ¢ä¸ºOptional optional.ifPresent(System.out::println); //å½“å­˜åœ¨æ—¶å†æ‰§è¡Œæ–¹æ³• } å°±ç±»ä¼¼äºKotlinä¸­çš„ï¼š var str : String? = null str?.upperCase() æˆ‘ä»¬å¯ä»¥é€‰æ‹©ç›´æ¥getæˆ–æ˜¯å½“å€¼ä¸ºnullæ—¶ï¼Œè·å–å¤‡é€‰å€¼ï¼š public static void main(String[] args) { String str = null; Optional optional = Optional.ofNullable(str); //è½¬æ¢ä¸ºOptionalï¼ˆå¯ç©ºï¼‰ System.out.println(optional.orElse(\"lbwnb\")); // S","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:5:6","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"Arrayså’ŒCollectionsçš„ä½¿ç”¨ Arraysæ˜¯ä¸€ä¸ªç”¨äºæ“ä½œæ•°ç»„çš„å·¥å…·ç±»ï¼Œå®ƒç»™æˆ‘ä»¬æä¾›äº†å¤§é‡çš„å·¥å…·æ–¹æ³•ï¼š /** * This class contains various methods for manipulating arrays (such as * sorting and searching). This class also contains a static factory * that allows arrays to be viewed as lists. \u003c- æ³¨æ„ï¼Œè¿™å¥è¯å¾ˆå…³é”® * * @author Josh Bloch * @author Neal Gafter * @author John Rose * @since 1.2 */ public class Arrays { ç”±äºæ“ä½œæ•°ç»„å¹¶ä¸åƒé›†åˆé‚£æ ·æ–¹ä¾¿ï¼Œå› æ­¤JDKæä¾›äº†Arraysç±»æ¥å¢å¼ºå¯¹æ•°ç»„æ“ä½œï¼Œæ¯”å¦‚ï¼š public static void main(String[] args) { int[] array = {1, 5, 2, 4, 7, 3, 6}; Arrays.sort(array); //ç›´æ¥è¿›è¡Œæ’åºï¼ˆåº•å±‚åŸç†ï¼šè¿›è¡Œåˆ¤æ–­ï¼Œå…ƒç´ å°‘ä½¿ç”¨æ’å…¥æ’åºï¼Œå¤§é‡å…ƒç´ ä½¿ç”¨åŒè½´å¿«é€Ÿ/å½’å¹¶æ’åºï¼‰ System.out.println(array); //ç”±äºint[]æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œè€Œæ•°ç»„é»˜è®¤æ˜¯æ²¡æœ‰é‡å†™toString()æ–¹æ³•ï¼Œå› æ­¤æ— æ³•æ‰“å°åˆ°æƒ³è¦çš„ç»“æœ System.out.println(Arrays.toString(array)); //æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Arrays.toString()æ¥åƒé›†åˆä¸€æ ·ç›´æ¥æ‰“å°æ¯ä¸€ä¸ªå…ƒç´ å‡ºæ¥ } public static void main(String[] args) { int[] array = {1, 5, 2, 4, 7, 3, 6}; Arrays.sort(array); System.out.println(\"æ’åºåçš„ç»“æœï¼š\"+Arrays.toString(array)); System.out.println(\"ç›®æ ‡å…ƒç´ 3ä½ç½®ä¸ºï¼š\"+Arrays.binarySearch(array, 3)); //äºŒåˆ†æœç´ ï¼Œå¿…é¡»æ˜¯å·²ç»æ’åºå¥½çš„æ•°ç»„ï¼ } public static void main(String[] args) { int[] array = {1, 5, 2, 4, 7, 3, 6}; Arrays .stream(array) //å°†æ•°ç»„è½¬æ¢ä¸ºæµè¿›è¡Œæ“ä½œ .sorted() .forEach(System.out::println); } public static void main(String[] args) { int[] array = {1, 5, 2, 4, 7, 3, 6}; int[] array2 = Arrays.copyOf(array, array.length); //å¤åˆ¶ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„æ•°ç»„ System.out.println(Arrays.toString(array2)); System.out.println(Arrays.equals(array, array2)); //æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦å€¼ç›¸åŒ Arrays.fill(array, 0); //å°†æ•°ç»„çš„æ‰€æœ‰å€¼å…¨éƒ¨å¡«å……ä¸ºæŒ‡å®šå€¼ System.out.println(Arrays.toString(array)); Arrays.setAll(array2, i -\u003e array2[i] + 2); //ä¾æ¬¡è®¡ç®—æ¯ä¸€ä¸ªå…ƒç´ ï¼ˆæ³¨æ„iæ˜¯ä¸‹æ ‡ä½ç½®ï¼‰ System.out.println(Arrays.toString(array2)); //è¿™é‡Œè®¡ç®—è®©æ¯ä¸ªå…ƒç´ å€¼+2 } æ€è€ƒï¼šå½“äºŒç»´æ•°ç»„ä½¿ç”¨Arrays.equals()è¿›è¡Œæ¯”è¾ƒä»¥åŠArrays.toString()è¿›è¡Œæ‰“å°æ—¶ï¼Œè¿˜ä¼šå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœå—ï¼Ÿ public static void main(String[] args) { Integer[][] array = {{1, 5}, {2, 4}, {7, 3}, {6}}; Integer[][] array2 = {{1, 5}, {2, 4}, {7, 3}, {6}}; System.out.println(Arrays.toString(array)); //è¿™æ ·è¿˜ä¼šå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœå—ï¼Ÿ System.out.println(Arrays.equals(array2, array)); //è¿™æ ·è¿˜ä¼šå¾—åˆ°trueå—ï¼Ÿ System.out.println(Arrays.deepToString(array)); //ä½¿ç”¨deepToStringå°±èƒ½åˆ°æ‰“å°å¤šç»´æ•°ç»„ System.out.println(Arrays.deepEquals(array2, array)); //ä½¿ç”¨deepEqualså°±èƒ½æ¯”è¾ƒå¤šç»´æ•°ç»„ } é‚£ä¹ˆï¼Œä¸€å¼€å§‹æåˆ°çš„å½“åšListè¿›è¡Œæ“ä½œå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Arrays.asList()æ¥å°†æ•°ç»„è½¬æ¢ä¸ºä¸€ä¸ª å›ºå®šé•¿åº¦çš„List public static void main(String[] args) { Integer[] array = {1, 5, 2, 4, 7, 3, 6}; List\u003cInteger\u003e list = Arrays.asList(array); //ä¸æ”¯æŒåŸºæœ¬ç±»å‹æ•°ç»„ï¼Œå¿…é¡»æ˜¯å¯¹è±¡ç±»å‹æ•°ç»„ Arrays.asList(\"A\", \"B\", \"C\"); //ä¹Ÿå¯ä»¥é€ä¸ªæ·»åŠ ï¼Œå› ä¸ºæ˜¯å¯å˜å‚æ•° list.add(1); //æ­¤Listå®ç°æ˜¯é•¿åº¦å›ºå®šçš„ï¼Œæ˜¯Arrayså†…éƒ¨å•ç‹¬å®ç°çš„ä¸€ä¸ªç±»å‹ï¼Œå› æ­¤ä¸æ”¯æŒæ·»åŠ æ“ä½œ list.remove(0); //åŒç†ï¼Œä¹Ÿä¸æ”¯æŒç§»é™¤ list.set(0, 8); //ç›´æ¥è®¾ç½®æŒ‡å®šä¸‹æ ‡çš„å€¼å°±å¯ä»¥ list.sort(Comparator.reverseOrder()); //ä¹Ÿå¯ä»¥æ‰§è¡Œæ’åºæ“ä½œ System.out.println(list); //ä¹Ÿå¯ä»¥åƒListé‚£æ ·ç›´æ¥æ‰“å° } æ–‡å­—æ¸¸æˆï¼šallows arrays to be viewed as listsï¼Œå®é™…ä¸Šåªæ˜¯å½“åšListä½¿ç”¨ï¼Œæœ¬è´¨è¿˜æ˜¯æ•°ç»„ï¼Œå› æ­¤æ•°ç»„çš„å±æ€§ä¾ç„¶å­˜åœ¨ï¼å› æ­¤å¦‚æœè¦å°†æ•°ç»„å¿«é€Ÿè½¬æ¢ä¸ºå®é™…çš„Listï¼Œå¯ä»¥åƒè¿™æ ·ï¼š public static void main(String[] args) { Integer[] array = {1, 5, 2, 4, 7, 3, 6}; List\u003cInteger\u003e list = new ArrayList\u003c\u003e(Arrays.asList(array)); } é€šè¿‡è‡ªè¡Œåˆ›å»ºä¸€ä¸ªçœŸæ­£çš„ArrayListå¹¶åœ¨æ„é€ æ—¶å°†Arraysçš„Listå€¼ä¼ é€’ã€‚ æ—¢ç„¶æ•°ç»„æ“ä½œéƒ½è¿™ä¹ˆæ–¹ä¾¿äº†ï¼Œé›†åˆæ“ä½œèƒ½ä¸èƒ½ä¹Ÿå®‰æ’ç‚¹é«˜çº§çš„ç©æ³•å‘¢ï¼Ÿé‚£å¿…é¡»çš„ï¼ŒJDKä¸ºæˆ‘ä»¬å‡†å¤‡çš„Collocationsç±»å°±æ˜¯ä¸“ç”¨äºé›†åˆçš„å·¥å…·ç±»ï¼š public static void main(String[] args) { List\u003cInteger\u003e list = new ArrayList\u003c\u003e(); Collections.max(list); Collections.min(list); } å½“ç„¶ï¼ŒCollectionsæä¾›çš„å†…å®¹ç›¸æ¯”Arraysä¼šæ›´å¤šï¼Œå¸Œæœ›å¤§å®¶ä¸‹å»è‡ªè¡Œäº†è§£ï¼Œè¿™é‡Œå°±ä¸å¤šåšä»‹ç»äº†ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:5:7","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"é›†åˆç±»ç¼–ç¨‹å®æˆ˜ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:6:0","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"åè½¬é“¾è¡¨ 1 \u003c- 3 \u003c- 5 \u003c- 7 \u003c- 9 è½¬æ¢ä¸º 1 \u003c- 3 \u003c- 5 \u003c- 7 \u003c- 9 ç°åœ¨æœ‰ä¸€ä¸ªå•é“¾è¡¨ï¼Œå°è¯•å°†å…¶æ‰€æœ‰èŠ‚ç‚¹å€’åºæ’åˆ— public class Main { public static void main(String[] args) { Node head = new Node(1); head.next = new Node(3); head.next.next = new Node(5); head.next.next.next = new Node(7); head.next.next.next.next = new Node(9); head = reverse(head); while (head != null){ System.out.println(head.value+\" \"); head = head.next; } } public static class Node { public int value; public Node next; public Node(int data) { this.value = data; } } public static Node reverse(Node head) { //åœ¨è¿™é‡Œå®ç° } } ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:6:1","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"é‡å»ºäºŒå‰æ ‘ ç°åœ¨çŸ¥é“äºŒå‰æ ‘çš„å‰åº: GDAFEMHZï¼Œä»¥åŠä¸­åº: ADEFGHMZï¼Œè¯·æ ¹æ®å·²çŸ¥ä¿¡æ¯è¿˜åŸè¿™é¢—äºŒå‰æ ‘ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:6:2","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"å®ç°è®¡ç®—å™¨ å®ç°ä¸€ä¸ªè®¡ç®—å™¨ï¼Œè¦æ±‚è¾“å…¥ä¸€ä¸ªè®¡ç®—å…¬å¼ï¼ˆå«åŠ å‡ä¹˜é™¤è¿ç®—ç¬¦ï¼Œæ²¡æœ‰è´Ÿæ•°ä½†æ˜¯æœ‰å°æ•°ï¼‰ï¼Œå¾—åˆ°ç»“æœï¼Œæ¯”å¦‚è¾“å…¥ï¼š1+4*3/1.321ï¼Œå¾—åˆ°ç»“æœä¸ºï¼š2.2 ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:6:3","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["JavaSEç¬”è®°"],"content":"å­—ç¬¦ä¸²åŒ¹é…ï¼ˆKMPç®—æ³•ï¼‰ ç°åœ¨ç»™å®šä¸€ä¸ªä¸»å­—ç¬¦ä¸²å’Œä¸€ä¸ªå­å­—ç¬¦ä¸²ï¼Œè¯·åˆ¤æ–­ä¸»å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å­å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ä¸»å­—ç¬¦ä¸²ï¼šABCABCDHIï¼Œå­å­—ç¬¦ä¸²ï¼šABCDï¼Œå› æ­¤ä¸»å­—ç¬¦ä¸²åŒ…å«æ­¤å­å­—ç¬¦ä¸²ï¼›ä¸»å­—ç¬¦ä¸²ï¼šABCABCUISAï¼Œå­å­—ç¬¦ä¸²ï¼šABCDï¼Œåˆ™ä¸åŒ…å«ã€‚ ","date":"2022-01-23","objectID":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/:6:4","tags":["Javaæ³›å‹ä¸é›†åˆç±»"],"title":"Javaæ³›å‹ä¸é›†åˆç±»","uri":"/posts/java%E6%B3%9B%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB/"},{"categories":["C++å®æˆ˜"],"content":"â€ä¸€èµ·æ¥é¢†ç•¥C++æ¨¡æ¿çš„å¥¥ä¹‰â€œ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"æƒ³è¦å®ç°PrintLnï¼Œå…³é”®åœ¨äºæ”¯æŒæ— é™ä¸ªå‚æ•°çš„æ‰“å°å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘å¤§è‡´æ€»ç»“ä¸‹C++èƒ½å¤Ÿå¦‚ä½•å»å®ç°å®ƒï¼ ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:0:0","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"æ–¹å¼ä¸€ï¼šç”¨åˆå§‹åŒ–åˆ—è¡¨å®ç°PrintLn() ã€C++11ã€‘ ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:1:0","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"ç‰ˆæœ¬ä¸€ï¼šæœ´ç´ åˆå§‹åŒ–åˆ—è¡¨ç‰ˆæœ¬ç‰ˆæœ¬ å‡½æ•°ç‰ˆæœ¬ï¼š #include\u003ciostream\u003eusing namespace std; void PrintLn(std::initializer_list\u003cint\u003e args){ for(auto arg:args){ cout\u003c\u003carg\u003c\u003c\", \"; } cout\u003c\u003cstd::endl; } int main() { PrintLn({3,23,2,12}); return 0; } ç±»çš„æ„é€ å™¨ç‰ˆæœ¬(å¯å»æ‰å°æ‹¬å·)ï¼š #include\u003ciostream\u003eusing namespace std; class PrintLn { public: PrintLn(std::initializer_list\u003cint\u003e args) { for (auto arg:args) { cout \u003c\u003c arg \u003c\u003c \", \"; } cout \u003c\u003c std::endl; } }; int main() { auto t = PrintLn{3, 23, 2, 12}; return 0; } ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:1:1","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"ç‰ˆæœ¬äºŒï¼šåŠ æ¨¡æ¿å‚æ•°ç‰ˆæœ¬ å®é™…ä¸Šå’Œä¸Šé¢çš„åŸºæœ¬æ²¡å¤ªå¤§åŒºåˆ«ï¼Œé™¤äº†ä¸Šé¢ç¡®å®šä¸ºäº†intç±»å‹ï¼ŒäºŒåŠ äº†æ¨¡æ¿åï¼Œå¯ä»¥ä¸ºä»»æ„ç±»å‹ï¼Œä½†æ˜¯å®é™…ä¸Šä¼ å…¥çš„è¿˜æ˜¯åªèƒ½æ˜¯åŒä¸€ä¸ªç±»å‹ã€‚æ‰€ä»¥åˆå§‹åŒ–åˆ—è¡¨å®ç°æ˜¯éå¸¸çš„ä¸å¥½ç”¨çš„ã€‚ #incldue\u003ciostream\u003e using namespace std; template\u003ctypename T\u003e class PrintLn { public: PrintLn(std::initializer_list\u003cT\u003e args) { for (auto arg:args) { cout \u003c\u003c arg \u003c\u003c \", \"; }# PrintLnå‡½æ•°å®ç° æƒ³è¦å®ç°PrintLnï¼Œå…³é”®åœ¨äºæ”¯æŒæ— é™ä¸ªå‚æ•°çš„æ‰“å°å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘å¤§è‡´æ€»ç»“ä¸‹C++èƒ½å¤Ÿå¦‚ä½•å»å®ç°å®ƒï¼ ## æ–¹å¼ä¸€ï¼šç”¨åˆå§‹åŒ–åˆ—è¡¨å®ç°PrintLn() ã€C++11ã€‘ ### ç‰ˆæœ¬ä¸€ï¼šæœ´ç´ åˆå§‹åŒ–åˆ—è¡¨ç‰ˆæœ¬ç‰ˆæœ¬ \u003e å‡½æ•°ç‰ˆæœ¬ï¼š ```cpp #include\u003ciostream\u003eusing namespace std; void PrintLn(std::initializer_list\u003cint\u003e args){ for(auto arg:args){ cout\u003c\u003carg\u003c\u003c\", \"; } cout\u003c\u003cstd::endl; } int main() { PrintLn({3,23,2,12}); return 0; } ç±»çš„æ„é€ å™¨ç‰ˆæœ¬(å¯å»æ‰å°æ‹¬å·)ï¼š #include\u003ciostream\u003eusing namespace std; class PrintLn { public: PrintLn(std::initializer_list\u003cint\u003e args) { for (auto arg:args) { cout \u003c\u003c arg \u003c\u003c \", \"; } cout \u003c\u003c std::endl; } }; int main() { auto t = PrintLn{3, 23, 2, 12}; return 0; } ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:1:2","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"ç‰ˆæœ¬äºŒï¼šåŠ æ¨¡æ¿å‚æ•°ç‰ˆæœ¬ å®é™…ä¸Šå’Œä¸Šé¢çš„åŸºæœ¬æ²¡å¤ªå¤§åŒºåˆ«ï¼Œé™¤äº†ä¸Šé¢ç¡®å®šä¸ºäº†intç±»å‹ï¼Œè€ŒåŠ äº†æ¨¡æ¿åï¼Œå¯ä»¥ä¸ºä»»æ„ç±»å‹ï¼Œä½†æ˜¯å®é™…ä¸Šä¼ å…¥çš„è¿˜æ˜¯åªèƒ½æ˜¯åŒä¸€ä¸ªç±»å‹ã€‚æ‰€ä»¥åˆå§‹åŒ–åˆ—è¡¨çš„æ–¹å¼å®ç°Printlnåªèƒ½è¯´å½¢ä¼¼è€Œç¥ä¸ä¼¼ã€‚ #incldue\u003ciostream\u003e using namespace std; template\u003ctypename T\u003e class PrintLn { public: PrintLn(std::initializer_list\u003cT\u003e args) { for (auto arg:args) { cout \u003c\u003c arg \u003c\u003c \", \"; } cout \u003c\u003c std::endl; } }; int main() { auto t = PrintLn\u003cint\u003e{3, 23, 2, 12}; return 0; } ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:1:3","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"æ–¹å¼äºŒï¼šç”¨å¯å˜å‚æ¨¡æ¿å®ç° ã€C++11/17ã€‘ å¦‚æœæœ‰äº†è§£è¿‡Cçš„å¯å˜å‚å‡½æ•°å’Œå¯å˜å‚çš„å®ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯å˜å‚æ¨¡æ¿ä¸å®ƒæœ‰äº›ç±»å‹ï¼Œåªä¸è¿‡Cé‡Œé¢çš„va_start,va_list,va_arg,va_endè¿™ä¸€ç³»åˆ—å®ç°å¯å˜å‚æ•°çš„å®ç”¨èµ·æ¥éå¸¸éº»çƒ¦ï¼Œè€Œä¸”æ— æ³•ç¡®å®šæ¯ä¸ªå‚æ•°çš„ç±»å‹ï¼Œè€Œå¯å˜å‚çš„æ¨¡æ¿åˆ™å¸¦æœ‰æ¨¡æ¿çš„æ³›å‹æ€§è´¨ï¼Œæ‰€ä»¥æ˜¯èƒ½ç¡®å®šç±»å‹çš„ï¼Œç”šè‡³ç”±äºæ¨¡æ¿å¯ä»¥ä¼ å€¼ï¼Œåé¢è¿˜å¯ç›´æ¥ä¼ å€¼ä½¿ç”¨ã€‚ ä»¥ä¸‹ç®€å•æè¿°å¯å˜å‚æ¨¡æ¿çš„ä½¿ç”¨æ–¹å¼ï¼š typenam... ç®—C++çš„ä¸€ä¸ªæ–°çš„å…³é”®å­—ï¼Œå®ƒå¯ä»¥ç”¨æ¥å®šä¹‰ä¸€ä¸ªå¯å˜å‚çš„æ¨¡æ¿ç±»å‹ï¼Œè€Œè¿™ä¸ªç±»å‹åœ¨å…¶ä»–åœ°æ–¹å®šä¹‰ä½¿ç”¨çš„æ—¶å€™ä¹Ÿè¦åœ¨åé¢å¸¦ä¸Š ... è¡¨ç¤ºæ‹†åŒ…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ ä¾‹å¦‚ï¼š template\u003ctypename... T\u003e void f(T... t){//TODO è¿™ç§ç±»å‹æˆ–å˜é‡åœ¨ä»»ä½•åœ°æ–¹ä½œä¸ºå‚æ•°å®šä¹‰æˆ–è€…ä¼ é€’çš„æ—¶å€™éƒ½éœ€è¦åŠ ä¸Š...è¡¨ç¤ºæ‹†åŒ… f(t...) } åœ¨C++17å‡ºç°fold expressionä¹‹å‰ï¼Œè¿™ä¸ªæ‹†åŒ…è¿‡ç¨‹åªèƒ½å€ŸåŠ©å¦ä¸€ä¸ªæ¨¡æ¿å‚æ•°æ¥å¾—åˆ°æ¨¡æ¿å‚æ•°åŒ…é‡Œé¢çš„å†…å®¹ã€‚ æ³¨æ„ä»¥ä¸Šä¸¤ç‚¹ï¼Œé‚£ä¹ˆå¯ä»¥å¼€å§‹ç¼–å†™æ³›å‹æ¨¡æ¿ï¼Œå®ç°å¯å˜å‚æ•°çš„å®Œå…¨æ‰“å°è¿‡ç¨‹äº†ã€‚ ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:2:0","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"C++11ç‰ˆæœ¬å®ç° é”™è¯¯å®ç°ç‰ˆæœ¬ï¼šå¦‚æœä½ ç›´æ¥åƒä¸‹é¢è¿™æ ·è¿›è¡Œæ‹†åŒ…ï¼Œé‚£ä¹ˆç¼–è¯‘æ˜¯ä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºæ‹†åŒ…è¿‡ç¨‹ç›¸å½“äºä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œè€Œä½ è¿™ä¸ªé€’å½’çš„è¿‡ç¨‹æ²¡æœ‰ä¸€ä¸ªè·³å‡ºçš„æ¡ä»¶ï¼Œæ¯”å¦‚argså¦‚æœä¸º0ä¸ªå‚æ•°æ—¶ï¼Œç»§ç»­åœ¨å¾€ä¸‹å°±æ— æ³•å±•å¼€äº†ï¼Œæ‰€ä»¥éœ€è¦å®ç°ä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„ç‰ˆæœ¬è®©æ‹†åŒ…è¿‡ç¨‹åœæ­¢ã€‚ template\u003ctypename T,typename... Args\u003e void PrintLn(T firstArg,Args... args){ cout\u003c\u003cfirstArg\u003c\u003c\", \"; PrintLn(args...); } //æ‹†åŒ…è¿‡ç¨‹ï¼šPrintLn(3,1,3,4)-\u003e // PrintLn(firstArg:3,args(1,3,4)); // PrintLn(firstArg:1,args(3,4)); // PrintLn(firstArg:3,args(4)); // PrintLn(firstArg:4,args(null)) // ç”±äºåˆ°äº†ä¸Šé¢çš„ç¬¬å››è¡Œè¿˜è¦ç»§ç»­å¾€ä¸‹æ‹†åŒ… // è€Œæ­¤æ—¶åªæœ‰0ä¸ªå‚æ•°ï¼Œæ²¡æœ‰å¯¹åº”çš„PrintLnç‰ˆæœ¬å¯ä»¥è°ƒç”¨ï¼Œæ•…æŠ¥é”™ï¼ ä»¥ä¸‹ä¸ºæ­£ç¡®ä¿®æ”¹ç‰ˆæœ¬ï¼š #include\u003ciostream\u003eusing namespace std; void PrintLn(){ } template\u003ctypename T,typename... Args\u003e void PrintLn(T firstArg,Args... args){ cout\u003c\u003cfirstArg\u003c\u003c\", \"; PrintLn(args...); } int main() { PrintLn(3, 23, 2, 12); return 0; å½“ç„¶ä¹Ÿå¯ä»¥æ§åˆ¶åªå‰©ä¸€ä¸ªå‚æ•°æ—¶å°±åœæ­¢æ‹†åŒ…ã€‚ #include\u003ciostream\u003eusing namespace std; template\u003ctypename T\u003e void PrintLn(T arg){ cout\u003c\u003carg\u003c\u003cendl; } template\u003ctypename T,typename... Args\u003e void PrintLn(T firstArg,Args... args){ cout\u003c\u003cfirstArg\u003c\u003c\", \"; PrintLn(args...); } int main() { PrintLn(3, 23, 2, 12); return 0; } ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:2:1","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"C++17ç‰ˆæœ¬å®ç° ä¸Šé¢çš„å®ç°æµç¨‹å®é™…ä¸Šåœ¨C++17ä¸­å¯ä»¥ç”¨ if constexpr()+sizeofâ€¦ åœ¨ç¼–è¯‘æœŸé—´æ¥è¿›è¡Œæµç¨‹æ§åˆ¶ã€‚ é¦–å…ˆæ¥è®²ä¸€è®²ä¸ºä»€ä¹ˆæ™®é€šçš„ if + sizeofâ€¦ æ¥å®ç°å¯å˜å‚æ•°çš„é•¿åº¦æ§åˆ¶æµç¨‹ä¼šæŠ¥é”™å‘¢ï¼Ÿ å› ä¸ºæ•´ä¸ªæ¨¡æ¿æ¨æ–­å’Œæ‹†åŒ…è§£åŒ…è¿‡ç¨‹æ˜¯åœ¨ç¼–è¯‘æœŸå®Œæˆçš„ï¼Œè€Œifçš„æ§åˆ¶æµç¨‹åœ¨ç¼–è¯‘æœŸæ˜¯å®Œå…¨ä¸æ¸…æ¥šçš„ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼Œä½†æ˜¯æœ‰äº†if constexprä¹‹åï¼Œå°±èƒ½æ§åˆ¶ç¼–è¯‘æœŸçš„æ¨¡æ¿æ‹†åŒ…è¿‡ç¨‹äº†ï¼ å¦‚ä¸Šé¢å®ç°PrintLnï¼Œå¯ä»¥ç›´æ¥ç®€åŒ–æˆä¸‹é¢è¿™æ ·ï¼š #include\u003ciostream\u003eusing namespace std; template\u003ctypename T,typename... Args\u003e void PrintLn(T firstArg,Args... args){ if constexpr(sizeof...(args)==0){//å½“å‚æ•°ä¸ªæ•°ä¸º0ä¸ªçš„æ—¶å€™å°±ä¸ç»§ç»­æ‹†åŒ…äº† cout\u003c\u003cfirstArg\u003c\u003cendl; }else{ cout\u003c\u003cfirstArg\u003c\u003c\", \"; PrintLn(args...);//å¾€ä¸‹ç»§ç»­æ‹†åŒ… } } int main() { PrintLn(3, 23, 2, 12); return 0; } ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:2:2","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"æ–¹å¼ä¸‰ï¼šå¯å˜å‚æ¨¡æ¿çš„fold expressionå±•å¼€ ã€C++17ã€‘ åœ¨C++17ä¸­ï¼ŒåŠ å…¥äº†ä¸€ä¸ªfold expressionçš„è¯­æ³•ï¼Œè®©å¯å˜å‚æ•°æ¨¡æ¿å¯ä»¥ä¸é€šè¿‡é€’å½’çš„æ–¹å¼æ¥è§£åŒ…ï¼Œç›´æ¥æŠŠæ¯ä¸ªåŒ…è§£å¼€æ”¾å…¥ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œç„¶åå‰©ä½™çš„åŒ…éƒ½ä»¥è¯¥è¡¨è¾¾å¼è§£å¼€ï¼ŒåŸºæœ¬çš„è¯­æ³•å¦‚ä¸‹ï¼š ((expression)op...); expression : è¡¨ç¤ºå¸Œæœ›æ¯ä¸ªè§£å¼€çš„å‚æ•°æ‰€æ‰§è¡Œçš„è¡¨è¾¾å¼ã€‚ op : ä½ æŒ‡å®šçš„æ“ä½œç¬¦ã€‚ ... : ä¸€ç›´ä¸æ–­çš„è§£åŒ…ï¼Œç”±äºæ­¤å¤„æ”¾çš„ä½ç½®æ˜¯å³è¾¹ï¼Œæ‰€ä»¥å¾€å³è¾¹è§£åŒ…ï¼Œå¦‚æœæ”¾å·¦è¾¹åˆ™å¾€å·¦è¾¹è§£åŒ…ã€‚ ç¤ºä¾‹ä»£ç ï¼š #include \u003cbits/stdc++.h\u003eusing namespace std; template\u003ctypename... Args\u003e double sum(Args... args){ return (args+...);//ç­‰ä»·äº3+23+1+3.32 } template\u003cauto... val\u003e//å¯å˜çš„ä¼ å€¼çš„æ¨¡æ¿å‚æ•° constexpr int sum(){ return (val+...); } int main() { cout\u003c\u003csum\u003c3,23,1,32\u003e()\u003c\u003cendl;//ä¼ å€¼æ¨¡æ¿å‚æ•°ä¸æ”¯æŒæµ®ç‚¹ç±»å‹ï¼Œæ‰€ä»¥å…¨ç”¨çš„intç±»å‹ cout\u003c\u003csum(3,23,1,3.32); return 0; } ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:3:0","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"ç®€å•çš„åˆ©ç”¨fold exprå®ç° åŸºäºä»¥ä¸Šå¯¹fold exprçš„ä½¿ç”¨ï¼Œæˆ‘ä»¬æ¥æ­£å¼å®ç°PrintLnï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ä¸ªfold exprçš„æ€§èƒ½è‚¯å®šæ˜¯æ¯”ä¹‹å‰é€’å½’è§£åŒ…çš„æ€§èƒ½è¦å¥½çš„ï¼Œå› ä¸ºåªæ˜¯è¿­ä»£çš„æ‹“å®½è€Œå·²ã€‚ æˆ‘ä»¬å¯ä»¥å°†æ‹†å¼€çš„åŒ…ç”¨ ',' å±•å¼€ #include\u003ciostream\u003eusing namespace std; template\u003ctypename... Args\u003e void PrintLn(Args... args){ ((cout\u003c\u003cargs\u003c\u003c\", \"),...)\u003c\u003cendl; } int main() { PrintLn(1,2.3,\"LB\",\"hhh\"); return 0; } ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:3:1","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"åŠ ä¸Šæµç¨‹æ§åˆ¶å®ç° é€šè¿‡æ›´å¤æ‚çš„æµç¨‹æ§åˆ¶æŠŠæœ€åä¸€ä¸ªæ‰“å°å‡ºæ¥çš„é€—å·å»æ‰ã€‚ é€šè¿‡å»¶ç”³ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œä½¿å¾—è¿è¡Œæ—¶èƒ½å¤Ÿæ­£ç¡®çš„æ‰“å°æœ€åä¸€æ¬¡ã€‚ åæ­£æˆ‘è¿™é‡Œç¼–è¯‘æœŸåªè´Ÿè´£æ–‡æœ¬æ›¿æ¢ï¼Œæ‰€ä»¥è¢«fold exprå±•å¼€çš„è¡¨è¾¾å¼å¹¶ä¸ä¼šæœ‰ä»€ä¹ˆè¦æ˜¯ç¼–è¯‘æœŸå¸¸é‡çš„è¦æ±‚ã€‚ è¿™ä¸€åˆ‡éƒ½çœ‹ä½œç®€å•å®æ›¿æ¢å³å¯ã€‚ #include\u003ciostream\u003eusing namespace std; template\u003ctypename... Args\u003e void PrintLn(Args... args){ int lastIndex = sizeof...(args)-1;//å¾—åˆ°ä¼ å…¥çš„å‚æ•°é•¿åº¦ int i = 0; ((i++==lastIndex?cout\u003c\u003cargs\u003c\u003cendl:cout\u003c\u003cargs\u003c\u003c\", \"),...); } int main() { PrintLn(1,2.3,\"LB\",\"hhh\"); return 0; } ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:3:2","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"æ›´å¤šfold exprè¿ç”¨â€¦ åˆ©ç”¨ä¸æˆ–è¡¨è¾¾å¼å±•å¼€ï¼Œç„¶ååˆ©ç”¨å®ƒä»¬çš„çŸ­è·¯æ€§è´¨ï¼Œå®ç°å¾—åˆ°æ‹†åŒ…å…ƒç´ çš„ç²¾å‡†æ‰“å‡»ï¼ˆè·å¾—åŒ…é‡Œçš„ç¬¬å‡ ä¸ªå…ƒç´ ï¼‰ã€‚ #include\u003ciostream\u003eusing namespace std; template\u003ctypename... Args\u003e auto GetNth(int n, Args... args) { int i = 0; using CommonType = common_type_t\u003cArgs...\u003e; CommonType ret; ((i++ == n \u0026\u0026 (ret = args, true))||...); return ret; } int main() { cout \u003c\u003c GetNth(3, 2, 1, 2.3, 32.2); return 0; } ä¸Šé¢ä¸ºäº†å­˜å‚¨ä¸ç¡®å®šçš„ç±»å‹ç”¨äº†common_type_tï¼Œè¿™ä¸ªå¯ä»¥å¸®åŠ©ä½ å¾—åˆ°ä¸€ä¸ªå…¬å…±å¯ç”¨çš„ç±»å‹ï¼Œè€Œè¿™ä¸ªç±»å‹å¿…é¡»æ˜¯å…¬å…±å¯ç”¨ï¼Œæ¯”å¦‚intäº†floatå‹å¯ä»¥è¿›è¡Œç›¸äº’è½¬åŒ–æ‰€ä»¥æœ‰å…¬å…±ç±»å‹ï¼Œè€Œ char* å’Œintç±»å‹åˆ™æ²¡æœ‰ï¼Œæ‰€ä»¥è¿™ä¸ªGetNthä¸­çš„å…ƒç´ ä¸èƒ½ä¼ é€’ char* ç±»å‹çš„åŒæ—¶ä¼ é€’intç±»å‹ã€‚ ","date":"2022-01-20","objectID":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/:3:3","tags":["C++æ¨¡æ¿"],"title":"C++å˜å‚æ¨¡æ¿è¿ç”¨å®æˆ˜â€”â€”å®ç°PrintLn","uri":"/posts/c++%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%86%99println/"},{"categories":["C++å®æˆ˜"],"content":"â€SocketåŸºæœ¬æ“ä½œçš„C++å°è£…â€œ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"å°è£…è¿‡ç¨‹ ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:1:0","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"æ¥å£ç±»çš„å®ç°(æŠ½è±¡ç±») _public_socket.h è¯¥å¤´æ–‡ä»¶ç”¨äºåŒ…å«æ‰€æœ‰è¯¥ç³»ç»Ÿå¹³å°socketæ‰€éœ€è¦ä¾èµ–çš„åº“ã€‚ windowså¹³å° #ifndef MY_TINY_STL__PUBLIC_SOCKET_H #define MY_TINY_STL__PUBLIC_SOCKET_H #include \u003cwinsock2.h\u003e#pragma comment (lib, \"ws2_32.lib\") //åŠ è½½ ws2_32.dll #endif //MY_TINY_STL__PUBLIC_SOCKET_H Linuxå¹³å° #include \u003cunistd.h\u003e#include \u003carpa/inet.h\u003e#include \u003csys/socket.h\u003e#include \u003cnetinet/in.h\u003eTCP_INTERFACE.h(ä½œç”¨äºwinå¹³å°) ç”±äºè¯¥æ¥å£ç”±æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ç»§æ‰¿ï¼Œè€Œä¸¤è€…åŒæ ·çš„å‡½æ•°æˆå‘˜ä¹Ÿå°±æ˜¯è¿™äº›äº†ï¼Œè®¾è®¡å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯æ—¶å°±åªéœ€è¦è€ƒè™‘å„è‡ªçš„å¥—æ¥å­—ä»¥åŠå…¶ä½™æ“ä½œçš„æˆå‘˜å‡½æ•°ï¼Œä¹Ÿä¸éœ€è¦ç®¡ç†DLLçš„å¼€å…³ã€‚ è¿˜æœ‰ä¸€ä¸ªerro_die()æˆå‘˜å‡½æ•°ç”¨äºé˜»æ–­é”™è¯¯å¹¶æ‰“å°å¯¹åº”æƒ…å†µã€‚ // // Created by Alone on 2021/8/17. // #ifndef MY_TINY_STL_TCP_INTERFACE_H #define MY_TINY_STL_TCP_INTERFACE_H #include \u003ccstdio\u003e#include \"_public_socket.h\" class TCP_INTERFACE { public: TCP_INTERFACE() { //åˆå§‹åŒ– DLL WSADATA wsaData; WSAStartup(MAKEWORD(2, 2), \u0026wsaData); } //è¿”å›å€¼å°äºç­‰äº0æ—¶å‘ç”Ÿé”™è¯¯ virtual int Send(SOCKET clnt, const void *buf, const int buflen) = 0; virtual int Recv(SOCKET clnt, void *buf, const int buflen) = 0; //closesocketè¿”å›å€¼ä¸ä¸º0åˆ™å‘ç”Ÿé”™è¯¯ virtual void Close(SOCKET clnt) = 0; virtual void error_die(const char *str) = 0; ~TCP_INTERFACE() { WSACleanup(); } }; #endif //MY_TINY_STL_TCP_INTERFACE_H ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:1:1","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"æœåŠ¡å™¨ç«¯å°è£… è¿™æ¬¡ä¿®æ”¹äº†ä¸‹é€»è¾‘ï¼Œè¿˜æ˜¯ç”¨acceptè¿”å›ä¸€ä¸ªå¥—æ¥å­—è¿›è¡Œå‘é€å’Œæ¥æ”¶æ“ä½œæ¯”è¾ƒå¥½ã€‚ç±»çš„åº•å±‚æ²¡æœ‰å†ä¿ç•™ç”¨äºå’ŒæŸä¸ªå®¢æˆ·ç«¯é€šä¿¡çš„å¥—æ¥å­—äº†ï¼Œè‡ªå·±æ§åˆ¶å„ä¸ªå®¢æˆ·ç«¯å¥—æ¥å­—çš„å…³é—­å’Œä½¿ç”¨ã€‚ TCP_SOCKET_SERVER.h // // Created by Alone on 2021/8/16. // #ifndef MY_TINY_STL_TCP_SOCKET_SERVER_H #define MY_TINY_STL_TCP_SOCKET_SERVER_H #include \"TCP_INTERFACE.h\" class TCP_SOCKET_SERVER : public TCP_INTERFACE { public: TCP_SOCKET_SERVER(); ~TCP_SOCKET_SERVER(); void Bind(int port); void Listen(); SOCKET Accept(); int Send(SOCKET clnt, const void *buf, const int buflen); int Recv(SOCKET clnt, void *buf, const int buflen); void Close(SOCKET clnt); void error_die(const char *str); private: SOCKET servSock; sockaddr_in sockAddr; }; #endif //MY_TINY_STL_TCP_SOCKET_SERVER_H TCP_SOCKET_SERVER.cpp // // Created by Alone on 2021/8/16. // #include \"TCP_SOCKET_SERVER.h\" //åˆå§‹åŒ–æ“ä½œ TCP_SOCKET_SERVER::TCP_SOCKET_SERVER() : servSock(0) { memset(\u0026sockAddr, 0, sizeof(sockAddr)); //æ¯ä¸ªå­—èŠ‚éƒ½ç”¨0å¡«å…… } //ç»‘å®šæ“ä½œ void TCP_SOCKET_SERVER::Bind(int port) { servSock = socket(PF_INET, SOCK_STREAM, IPPROTO_TCP); sockAddr.sin_family = PF_INET; //ä½¿ç”¨IPv4åœ°å€ sockAddr.sin_addr.s_addr = htonl(INADDR_ANY); //å…·ä½“çš„IPåœ°å€ sockAddr.sin_port = htons(port); //ç«¯å£ if (bind(servSock, (SOCKADDR *) \u0026sockAddr, sizeof(SOCKADDR)) != 0) { error_die(\"bind\"); } } //ç½®äºç›‘å¬çŠ¶æ€ void TCP_SOCKET_SERVER::Listen() { if (servSock == 0) error_die(\"listen\"); if (listen(servSock, SOMAXCONN) != 0) { error_die(\"listen\"); } } //åˆ©ç”¨å¥—æ¥å­—çš„ç›‘å¬ä¸²å£ï¼Œæ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå»ºç«‹æ–°çš„å¥—æ¥å­—è¿›è¡Œå­˜å‚¨ä¿¡æ¯ SOCKET TCP_SOCKET_SERVER::Accept() { SOCKADDR t; int nSize = sizeof(SOCKADDR); //åé¢ä¸¤ä¸ªå‚æ•°ä¸ºå¯é€‰ SOCKET clnt = accept(servSock, \u0026t, \u0026nSize); if (clnt \u003c= 0)error_die(\"accept\"); return clnt; } //è¿”å›çš„æ˜¯å‘é€åˆ°ç¼“å†²åŒºçš„å­—èŠ‚é•¿åº¦ int TCP_SOCKET_SERVER::Send(SOCKET clnt, const void *buf, const int buflen) { return send(clnt, (const char *) buf, buflen, 0); } //è¿”å›å·²ç»æ¥æ”¶çš„å­—èŠ‚é•¿åº¦ int TCP_SOCKET_SERVER::Recv(SOCKET clnt, void *buf, const int buflen) { return recv(clnt, (char *) buf, buflen, 0); } //ææ„å‡½æ•°å…³é—­socket TCP_SOCKET_SERVER::~TCP_SOCKET_SERVER() { if (servSock != 0)closesocket(servSock); } void TCP_SOCKET_SERVER::Close(SOCKET clnt) { if (closesocket(clnt) != 0) { error_die(\"closesocket\"); } } void TCP_SOCKET_SERVER::error_die(const char *str) { printf(\"[hint]%s failed:%d\", str, WSAGetLastError()); exit(-1); } ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:1:2","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"å®¢æˆ·ç«¯çš„å°è£… TCP_SOCKET_CLIENT.h å¢åŠ äº†åˆ©ç”¨åŸŸåæŸ¥è¯¢ipåœ°å€çš„æˆå‘˜å‡½æ•°gethostbyname(),æŒºå¥½ç©çš„ï¼æ­¤æ¬¡å¢åŠ äº†erro_dieå‡½æ•°ï¼Œä¸”å‘é€å’Œæ¥æ”¶éƒ½æ“ä½œå¥—æ¥å­—ã€‚åœ¨ç±»çš„å†…éƒ¨è¿˜æ˜¯ä¿ç•™äº†å¥—æ¥å­—çš„å¤‡ä»½ï¼Œç”¨äºå¿˜è®°å…³é—­å¥—æ¥å­—æ—¶ï¼Œææ„å‡½æ•°è¿›è¡Œå…³é—­ã€‚ // // Created by Alone on 2021/8/18. // #ifndef MY_TINY_STL_TCP_SOCKET_CLIENT_H #define MY_TINY_STL_TCP_SOCKET_CLIENT_H #include \"TCP_INTERFACE.h\"#include \u003ciostream\u003e class TCP_SOCKET_CLIENT : public TCP_INTERFACE { public: TCP_SOCKET_CLIENT(); ~TCP_SOCKET_CLIENT(); SOCKET Connect(const char *IPAdrr, u_short port); //ç”¨äºåˆ©ç”¨URL(åŸŸå)æŸ¥è¯¢IPåœ°å€ void Gethostbyname(const char *URL); //æ¥å£å¿…é¡»å®ç°çš„å‡½æ•° int Send(SOCKET clnt,const void *buf, const int bufSize); int Recv(SOCKET clnt,void *buf, const int bufSize); void Close(SOCKET clnt); void error_die(const char *str); private: //ç”±äºä¸€èˆ¬å®¢æˆ·ç«¯åªéœ€è¦ä¸€ä¸ªå¥—æ¥å­—å®ç°è¿æ¥,ç„¶åè¿˜éœ€è¦ä¸€ä¸ªsocketadrr_inç”¨äºè¿æ¥å†…å®¹çš„èµ‹å€¼ SOCKET clntSock; sockaddr_in sockAddr; }; #endif //MY_TINY_STL_TCP_SOCKET_CLIENT_H TCP_SOCKET_CLIENT.cpp // // Created by Alone on 2021/8/17. // #include \"TCP_SOCKET_CLIENT.h\" //åˆå§‹åŒ– TCP_SOCKET_CLIENT::TCP_SOCKET_CLIENT() : clntSock(0) {} //å…³é—­å¥—æ¥å­—æ“ä½œ void TCP_SOCKET_CLIENT::Close(SOCKET clnt) { if (closesocket(clnt) != 0) error_die(\"close\"); clntSock = 0; } //è¿æ¥æœåŠ¡å™¨æ“ä½œ SOCKET TCP_SOCKET_CLIENT::Connect(const char *IPAdrr, u_short port) { memset(\u0026sockAddr, 0, sizeof sockAddr); clntSock = socket(PF_INET, SOCK_STREAM, IPPROTO_TCP); sockAddr.sin_family = PF_INET; sockAddr.sin_addr.s_addr = inet_addr(IPAdrr); sockAddr.sin_port = htons(port); if (connect(clntSock, (SOCKADDR *) \u0026sockAddr, sizeof(sockAddr)) != 0) { error_die(\"connect\"); } return clntSock; } //å‘é€ä¿¡æ¯æ“ä½œ int TCP_SOCKET_CLIENT::Send(SOCKET clnt,const void *buf, const int bufSize) { return send(clnt, (const char *) buf, bufSize, 0); } //æ¥æ”¶ä¿¡æ¯æ“ä½œ int TCP_SOCKET_CLIENT::Recv(SOCKET clnt,void *buf, const int bufSize) { return recv(clnt, (char *) buf, bufSize, 0); } //æ ¹æ®åŸŸåè·å–ipåœ°å€ç­‰ä¿¡æ¯ void TCP_SOCKET_CLIENT::Gethostbyname(const char *URL) { hostent *host = gethostbyname(URL); if (!host) { std::cout \u003c\u003c \"Get IP address error!\\n\"; return; } //æ‰“å°æœ¬å‘½ std::cout \u003c\u003c URL \u003c\u003c std::endl; //åˆ«å for (int i = 0; host-\u003eh_aliases[i]; i++) { printf(\"Aliases %d: %s\\n\", i + 1, host-\u003eh_aliases[i]); } //åœ°å€ç±»å‹ printf(\"Address type: %s\\n\", (host-\u003eh_addrtype == AF_INET) ? \"AF_INET\" : \"AF_INET6\"); //IPåœ°å€,å…¶ä¸­inet_ntoa()å‡½æ•°æ˜¯å°†ç½‘ç»œå­—èŠ‚åºè½¬ä¸ºæœ¬åœ°çš„å­—èŠ‚åºï¼Œæ–¹ä¾¿æ‰“å°çœ‹æ‡‚ for (int i = 0; host-\u003eh_addr_list[i]; i++) { printf(\"IP addr %d: %s\\n\", i + 1, inet_ntoa(*(struct in_addr *) host-\u003eh_addr_list[i])); } } //ææ„æ—¶éœ€è¦ç¡®ä¿æ‰€æœ‰ä¸œè¥¿å·²ç»å…³é—­ TCP_SOCKET_CLIENT::~TCP_SOCKET_CLIENT() { if (clntSock != 0) closesocket(clntSock); } void TCP_SOCKET_CLIENT::error_die(const char *str) { printf(\"[hint]%s failed:%d\", str, WSAGetLastError()); exit(-1); } ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:1:3","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"å®ä¾‹è®²è§£ ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:2:0","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"å®ä¾‹ä¸€ï¼šå›å£°ç¨‹åºé€šä¿¡ æœåŠ¡å™¨å›å£°ç¨‹åº ç»‘å®šæœ¬åœ°1234ç«¯å£ï¼Œè¿›å…¥ç›‘å¬çŠ¶æ€ç­‰å¾…è¯·æ±‚ï¼Œå¦‚æœé€šä¿¡å¯¹è±¡å…³é—­äº†é€šä¿¡ï¼Œä¹Ÿä¸æ…Œï¼Œé‡æ–°gotoåˆ°ç­‰å¾…è¯·æ±‚å¾—åˆ°æ–°çš„é€šä¿¡å¥—æ¥å­— #include \u003ciostream\u003e#include \"TCP_SOCKET_SERVER.h\" #define BUF_SIZE 1000 using namespace std; int main() { TCP_SOCKET_SERVER a; a.Bind(1234); a.Listen(); restart: SOCKET clnt = a.Accept(); while (1) { char *x = new char[BUF_SIZE]; memset(x, 0, BUF_SIZE); int size = a.Recv(clnt,x, BUF_SIZE); if (size \u003c= 0) break; if (a.Send(clnt,x, size) \u003c= 0) break; } a.Close(clnt); cout \u003c\u003c \"connect is over.Waiting for a new connection!\\n\"; goto restart; } å®¢æˆ·ç«¯é€šä¿¡ç¨‹åº ä¸ºä¿æŒæŒç»­é€šä¿¡ï¼Œä¸€æ—¦å®¢æˆ·ç«¯æ‹’ç»äº†è¯·æ±‚ï¼Œé‚£ä¹ˆå¼¹å‡ºå¾ªç¯é‡æ–°è¿æ¥ï¼Œå¹¶è®¾ç½®è¿æ¥è¶…æ—¶æ“ä½œã€‚ #include \"TCP_SOCKET_CLIENT.h\"#define BUF_SIZE 100 int main(){ TCP_SOCKET_CLIENT t; const char* to = \"127.0.0.1\"; restart: SOCKET clnt = t.Connect(to,1234); while(1){ std::cout\u003c\u003c\"\\nInput your message:\\n\"; char buf[BUF_SIZE] = {0}; std::cin.getline(buf,99); int size = t.Send(clnt,buf,BUF_SIZE); if(size\u003c=0) break; memset(buf,0,sizeof buf); if(t.Recv(clnt,buf,size)\u003c=0) break; printf(\"received from %s is:\\n\",to); std::cout\u003c\u003cbuf; } t.Close(clnt); std::cout\u003c\u003c\"The Server is disconnected,and socket has been cleaned up,socket connection has been re-established\\n\"; goto restart; return 0; } å›å£°æ•ˆæœ å®¢æˆ·ç«¯æ”¶åˆ°çš„ç»“æœ æœåŠ¡å™¨ç«¯ä¸€ç›´è¿è¡Œç€ï¼Œåªè¦ä¸å…³é—­ï¼Œä½†æ¯æ¬¡åªèƒ½å’Œä¸€ä¸ªå®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ï¼Œé€šä¿¡å®Œåé‡æ–°ç­‰å¾…è¿æ¥ã€‚ ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:2:1","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"å®ä¾‹äºŒï¼šæ–‡ä»¶æ“ä½œï¼Œä¼ é€å›¾ç‰‡(æŒæ¡é‡å¤ä¼ åŒ…) åˆ†æå¾…ä¼ å›¾ç‰‡ çœ‹çœ‹è¿™ç™¾ä¸‡å¤§å°çš„å­—èŠ‚ï¼Œä¸€æ¬¡è‚¯å®šæ˜¯ä¼ ä¸å®Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å‘é€ç«¯ä¸æ–­çš„ç»­ä¼ ï¼Œç›´åˆ°ä¼ é€å®Œæ¯•ã€‚ å‘é€ç«¯ç¨‹åº #include \"TCP_SOCKET_CLIENT.h\"#include \u003cfstream\u003eint main(){ TCP_SOCKET_CLIENT t; const char* to = \"127.0.0.1\"; restart: SOCKET clnt = t.Connect(to,1234); //å›¾ç‰‡å†™å…¥buf(è¿™å‡ ç™¾ä¸‡å­—èŠ‚å¤§å°ï¼Œå¾—äºæ˜¯newåŠ¨æ€åˆ†é… std::ifstream img(\"D:/DesktopBackground/L-69.png\",std::ios::in|std::ios::binary); //è®¾ç½®æ–‡ä»¶æŒ‡é’ˆç”¨äºæ±‚æ–‡ä»¶å†…å®¹é•¿åº¦ img.seekg(0,std::ios::end); int len = img.tellg(); img.seekg(0,std::ios::beg); if(len\u003e0){printf(\"read OK\\n\");} else {printf(\"file is empty!\");return 0;} //å¡«è¡¥buf char * buf = new char[len]; img.read(buf,len); //å‘é€æ•°æ®åˆ°æœåŠ¡å™¨,ä¸€æ¬¡è‚¯å®šå‘é€ä¸å®Œï¼Œæ‰€ä»¥å¤šæ¬¡ int sum = 0; while(sum\u003clen){ int sendlen = t.Send(clnt,buf,len); if(sendlen\u003c=0){ printf(\"Send Erro!\"); return 0; } sum += sendlen; } t.Close(clnt); printf(\"Send OK!\"); return 0; } æ¥æ”¶ç«¯ç¨‹åº #include \u003ciostream\u003e#include \"TCP_SOCKET_SERVER.h\"#include \u003cfstream\u003e#define BUF_SIZE 100 using namespace std; int main() { TCP_SOCKET_SERVER a; a.Bind(1234); a.Listen(); //ç­‰å¾…è¿æ¥ï¼Œè¿æ¥æˆåŠŸä¾¿å¯å»ºç«‹é€šè®¯ SOCKET clnt = a.Accept(); //åˆ›å»ºæ–‡ä»¶ç”¨äºå†™å…¥å›¾ç‰‡æ•°æ® ofstream t(\"test.png\",ios::binary|ios::out); //ç”±äºè¦æ¥æ”¶çš„å›¾ç‰‡æ–‡ä»¶è¾ƒå¤§ï¼Œéœ€è¦åˆ†å¤šæ¬¡åŒ…è¿›è¡Œä¼ è¾“æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦ä¸æ–­å¾ªç¯æ¥æ”¶ while(1){ char buf[BUF_SIZE]; int sz = a.Recv(clnt,buf,BUF_SIZE); //ç›´åˆ°å‘é€ç«¯å‘é€æ•°æ®å®Œæ¯•æ–­å¼€è¿æ¥åï¼Œä¾¿å¯åˆ¤æ–­ä¸ºæ¥æ”¶å®Œæ¯• if(sz\u003c=0){ cout\u003c\u003c\"Finish !\"; return 0; } //æ¯æ¬¡è°ƒæ•´æ–‡ä»¶æŒ‡é’ˆä½ç½®åˆ°æœ€åç»­å†™ t.seekp(0,ios::end); t.write(buf,sz); } a.Close(clnt); } æ¥æ”¶ç»“æœ ä¸€æ¨¡ä¸€æ ·æ¯«æ— åå·® ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:2:2","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"å®ä¾‹ä¸‰ï¼šWebé€šä¿¡(æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨) ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:3:0","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"WebæœåŠ¡å™¨ç¨‹åº æˆ‘è¿™ä¸ªwebæœåŠ¡å™¨ä¹Ÿç®—æ˜¯åŠå…¶ç®€å•äº†ã€‚ã€‚å¹¶æ²¡æœ‰å¯¹å®¢æˆ·ç«¯çš„httpè¯·æ±‚è¿›è¡Œè§£æç„¶åå‘é€å¯¹åº”çš„æ–‡ä»¶ç»™å®¢æˆ·ç«¯ï¼Œè€Œæ˜¯å•çº¯çš„æˆ‘å®¢æˆ·ç«¯æƒ³æ€ä¹ˆå‘å°±æ€ä¹ˆå‘ã€‚ã€‚å¦å¤–è¿™ä¸ªç¨‹åºè™½ç„¶æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œäº†åˆ¤æ–­ï¼Œä½†å¹¶æœªå†™å‡ºå¯¹åº”çš„å›¾ç‰‡å‘é€ç¨‹åº(äºŒè¿›åˆ¶æ–‡ä»¶è¯»å†™æ˜¯ä¸ä¸€æ ·çš„)ï¼Œæ‰€ä»¥å®é™…åªèƒ½å‘é€æ–‡æœ¬æ–‡ä»¶ï¼Œå¦‚htmlä»£ç ã€‚æ‰€ä»¥åé¢çœ‹åˆ°çš„è¯¾ç¨‹è¡¨éƒ½æ— æ³•æ˜¾ç¤ºå›¾ç‰‡çš„åŸå› æ˜¯å®¢æˆ·ç«¯ç¨‹åºå‹æ ¹å°±æ²¡åœ¨ä¹è¿‡å®¢æˆ·ç«¯çš„è¯·æ±‚ğŸ¤£ #include \u003ciostream\u003e#include \u003cfstream\u003e#include \"TCP_SOCKET_SERVER.h\" void sendfileToWeb(SOCKET clnt, TCP_SOCKET_SERVER \u0026a, const char *filename); int main() { TCP_SOCKET_SERVER a; a.Bind(8086); a.Listen(); SOCKET clnt = a.Accept(); while (1) { sendfileToWeb(clnt, a, \"D:/Html/schedule/schedule.html\"); a.Close(clnt); clnt = a.Accept(); } } //åé¦ˆè¯·æ±‚ï¼Œå‘é€æ–‡ä»¶ä»£ç æˆ–è€…å›¾ç‰‡ç­‰äºŒè¿›åˆ¶ä¿¡æ¯ã€‚ void sendfileToWeb(SOCKET clnt, TCP_SOCKET_SERVER \u0026a, const char *filename) { //å†™å…¥è¿”å›å¤´ä¿¡æ¯ï¼šåŒ…æ‹¬çŠ¶æ€å’Œå†…å®¹ç±»å‹ char *type = nullptr; if (strstr(filename, \".html\")) type = \"text/html\"; else if (strstr(filename, \".jpg\")) type = \"image/jpg\"; else if (strstr(filename, \".png\")) type = \"image/png\"; char x[100] = {0}; sprintf(x, \"HTTP/1.1 200 ok\\r\\nContent-Type: %s\\r\\n\\r\\n\", type); //å‘é€è¿”å›å¤´ä¿¡æ¯,æ¯æ¬¡å‘é€é—´éš”éœ€è¦ä¸€å®šæ—¶é—´ï¼Œå¦åˆ™æµè§ˆå™¨å¯èƒ½æ¥æ”¶æ²¡è¿™ä¹ˆå¿« int sz1 = a.Send(clnt, x, strlen(x)); if (sz1 \u003c= 0)return; //å‘é€æ–‡ä»¶å†…å®¹åˆ°å®¢æˆ·ç«¯ std::ifstream ss(filename, std::ios::in); char html[1024] = {0}; while (ss.getline(html, 1024)) { int szz = a.Send(clnt, html, strlen(html)); if (szz \u003c= 0) return; Sleep(1); } ss.close(); } ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:3:1","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"æ¥æ”¶ç»“æœ ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:3:2","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"æ€»ç»“ æ”¶è·ï¼š äº†è§£åˆ°ç½‘ç»œé€šè®¯è¿‡ç¨‹åˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ã€‚ äº†è§£åˆ°åº•å±‚socketé€šä¿¡æ˜¯å¦‚ä½•è¿›è¡Œçš„ã€‚ å°è£…äº†socketæ“ä½œï¼Œå¢å¼ºäº†ä»£ç çš„å¤ç”¨æ€§ã€‚ å¯¹åŸºæœ¬çš„httpè¯·æ±‚è¿‡ç¨‹æœ‰æ‰€äº†è§£ï¼š åŸºæœ¬ä¸Šå°±æ˜¯æµè§ˆå™¨(å®¢æˆ·ç«¯)å¯¹ç›¸åº”çš„IPåœ°å€å‘èµ·è¯·æ±‚ï¼Œå…¶å¯¹åº”çš„æœåŠ¡å™¨è¿”å›ç»™ä½ è¿™ä¸ªç½‘é¡µçš„ä¸»é¡µï¼Œç„¶åæ ¹æ®ä½ é¼ æ ‡çš„ç‚¹å‡»ï¼Œåˆä¼šè§¦å‘httpè¯·æ±‚ï¼Œå…¶å¯¹åº”çš„æœåŠ¡å™¨å¯¹ä½ çš„è¯·æ±‚è¿›è¡Œè§£æï¼Œå¾—å‡ºä½ æƒ³è¦çš„æ–‡ä»¶ï¼Œç„¶åå‘é€ç»™ä½ ï¼Œå¾ªç¯å¾€å¤ä¸€ç›´å¦‚æ­¤ã€‚ã€‚ã€‚ ","date":"2022-01-20","objectID":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/:4:0","tags":["socketé€šä¿¡"],"title":"SocketåŸºæœ¬æ“ä½œçš„C++å°è£…","uri":"/posts/socket%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9Cc++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"â€ç®€å•å­¦ä¹ ä¸‹åŸºæœ¬çš„ç±»å°è£…â€œ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"ä¸ºä»€ä¹ˆéœ€è¦å¤§æ•°åŠ å‡ç±»ï¼Ÿ å¯¹äºè®¡ç®—æœºè€Œè¨€ï¼ŒåŸºæœ¬çš„æ•°æ®ç±»å‹ä¸€èˆ¬æœ€å¤šä¸º64ä½æ•°æ®è¡¨ç¤ºèŒƒå›´ï¼Œè¿™ä¸ªèŒƒå›´æ˜¯æœ‰é™çš„ï¼Œæ²¡æ³•æ— é™çš„è¡¨ç¤ºæ‰€æœ‰çš„æ•°æ®ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼èƒ½å¤Ÿè¡¨ç¤ºæ‰€æœ‰çš„å¤§æ•°ï¼Œå¹¶å®ŒæˆåŠ å‡ä¹˜é™¤å‘¢ï¼Ÿ ç­”æ¡ˆè‚¯å®šæ˜¯æœ‰çš„ï¼Œç”±äºæ•°æ®éƒ½æ˜¯ç”±ä¸€ä½ä¸€ä½çš„æ•°å­—æ‰€ç»„æˆï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨æ•°ç»„ä¸­çš„æ¯ä¸€ä½è¡¨ç¤ºä¸€ä½æ•°å­—ï¼Œä¾¿å¯å®Œæˆå¯¹å¤§æ•°çš„æ¨¡æ‹Ÿäº†ã€‚ é‚£ä¹ˆæˆ‘ä»¬è¯´æ˜æ—¶å€™éœ€è¦ç”¨åˆ°å¤§æ•°æ¨¡æ‹Ÿå‘¢ï¼Ÿå¯¹ç«èµ›äººè€Œè¨€ï¼Œæœ‰å¾ˆå¤šé¢˜ç›®å®é™…ä¸Šå°±æ˜¯é«˜ç²¾åº¦å¤§æ•°æ¨¡æ‹Ÿç±»å‹ï¼Œè€Œå¯¹äºæ™®é€šçš„ç¨‹åºå‘˜è€Œè¨€ï¼Œå¤§æ•°æ¨¡æ‹Ÿä¹Ÿä»…æ˜¯åœ¨åšæŸä¸ªé€»è¾‘è¿ç®—è€Œä¿è¯ä¸ä¼šæº¢å‡ºçš„æœ€ä½³ç­–ç•¥ï¼Œé‚£ä¹ˆå¤§å®¶éš¾é“ä¸å¥½å¥‡å¦‚ä½•å®ç°ä¸€ä¸ªå¤§æ•°æ¨¡æ‹Ÿç±»å—ï¼Ÿ ç°åœ¨å°±ä»å°è£…ä¸€ä¸ªç®€å•çš„åŠ å‡ç±»å¼€å§‹äº†è§£è¿™æ ·ä¸€ä¸ªå¤§æ•°æ¨¡æ‹Ÿæ˜¯æ€ä¹ˆå®ç°çš„ğŸ‘€ ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:1:0","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"å¤§æ•°åŠ å‡ç±»å®ç°è¯¦è§£ ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:2:0","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"ä¸€ã€æµç¨‹å›¾æ€»è§ˆ å¦‚å›¾æ€»ä½“æ¥è¯´åˆ†ä¸ºäº”éƒ¨åˆ†ï¼š é™æ€æˆå‘˜å‡½æ•°ï¼šå±äºç±»çš„å…¬å…±æ¥å£(æ ¸å¿ƒ) æ„é€ å’Œææ„å‡½æ•°ï¼šæ„é€ å¯¹è±¡ä»¥åŠææ„å¯¹è±¡ æˆå‘˜æ•°æ®ï¼šç”¨äºè¿ç®—çš„æ•°æ®ä»¥åŠè¡¨ç¤ºå¯¹è±¡çš„æ•°æ® è¿ç®—ç¬¦é‡è½½ï¼šç”¨äºè‡ªå®šä¹‰è¿ç®—æ–¹å¼(æ ¸å¿ƒ) å†…éƒ¨æˆå‘˜å‡½æ•°ï¼šå±äºå¯¹è±¡çš„å…¬å…±æ¥å£ ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:2:1","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"äºŒã€æˆå‘˜æ•°æ®å’Œæ„é€ å‡½æ•°è¯¦è§£ æˆå‘˜æ•°æ® bool f; //æ˜¯å¦æ˜¯è´Ÿæ•°çš„æ ‡è®° char *nums; //å­˜å‚¨éç¬¦å·çš„å¤§æ•°å„ä¸ªä½ int length; //numsçš„æ•°æ®é•¿åº¦ int capacity; //numsçš„å¯ç”¨å®¹é‡ æ„é€ å’Œææ„ //ç¼ºçœæ„é€ å‡½æ•° BigInteger() : length(0), capacity(1), f(false) { nums = new char[capacity]; } //ç”¨äºè½¬åŒ–æ™®é€šå­—ç¬¦ä¸²çš„æ„é€ å‡½æ•° BigInteger(const char *n) : length(strlen(n)), f(false) { int start = 0; if (n[0] == '-') { f = true; start++; } while (start\u003clength\u0026\u0026n[start] == '0')start++; capacity = length * 10; nums = new char[capacity]; std::copy(n + start, n + length, nums); length = length - start; } //æ‹·è´æ„é€ å‡½æ•° BigInteger(BigInteger \u0026a) { capacity = a.capacity; length = a.length; f = a.f; nums = new char[capacity]; std::copy(a.nums, a.nums + length, nums); } //ç§»åŠ¨æ„é€ å‡½æ•°ï¼šè¿™é‡Œè°ƒç”¨äº†ç­‰äºå·ï¼Œæ ¹æ®açš„ç±»å‹æ¥å†³å®šç”¨å“ªä¸ªç­‰äºå· BigInteger(BigInteger \u0026\u0026a) :length(0){ *this = a; } //ææ„å‡½æ•° ~BigInteger() { delete[] nums; } ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:2:2","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"ä¸‰ã€(ç®—æ³•æ ¸å¿ƒ)é™æ€æˆå‘˜å‡½æ•°å’Œè¿ç®—ç¬¦é‡è½½è¯¦è§£ static Swap() //è°ƒç”¨stdçš„swapå®ç°å¯¹åŸºæœ¬æ•°æ®çš„äº¤æ¢ static void Swap(BigInteger \u0026a, BigInteger \u0026b) { std::swap(a.length, b.length); std::swap(a.capacity, b.capacity); std::swap(a.f, b.f); std::swap(a.nums, b.nums); } static compare() //ä¸çœ‹ç¬¦å·æ¯”è¾ƒnumsçš„å¤§å°ï¼šè¡¨ç¤ºaæ˜¯å¦æ¯”bå¤§ static bool compare(const BigInteger \u0026a,const BigInteger \u0026b) { //æ¯”è¾ƒçº¯numså¤§å°(ä¸çœ‹ç¬¦å· int n1 = a.length; int n2 = b.length; if (n1 != n2)return n1 \u003e n2; //è¿”å›aå’Œbå“ªä¸ªå¤§ï¼Œtrueåˆ™ä½aå¤§ int i = 0; while (i \u003c n1 \u0026\u0026 a.nums[i] == b.nums[i])i++; //a bä¸€æ ·é•¿çš„æƒ…å†µä¸‹ï¼Œæ¯”è¾ƒä¸¤ä¸ªçš„å€¼ if (i == n1) return false; return a.nums[i] \u003e b.nums[i]; } static isEqual() //è¡¨ç¤ºaå’Œbæ˜¯å¦ç›¸ç­‰ bool isEqual(BigInteger \u0026a, BigInteger \u0026b) { if (a.f != b.f || (a.length != b.length))return false; int i = 0; while (i \u003c a.length \u0026\u0026 a.nums[i] == b.nums[i])i++; return i == a.length \u0026\u0026 a.f == b.f; } (*æ ¸å¿ƒç®—æ³•)static add() ä¸çœ‹ç¬¦å·çš„åŠ æ³•ï¼Œç¬¦å·è¿™æ–¹é¢ç”±é‡è½½åŠ æ³•è¿ç®—ç¬¦æ§åˆ¶ã€‚ static BigInteger add(BigInteger \u0026a, BigInteger \u0026b) { //ä¸çœ‹ç¬¦å·çš„åŠ æ³• a.reverse();//å°¾ç«¯å¯¹é½ b.reverse(); BigInteger t; int up = 0; int len = a.length \u003e b.length ? a.length : b.length; for (int i = 0; i \u003c len; i++) { int ta = i \u003c a.length ? a[i] - '0' : 0; int tb = i \u003c b.length ? b[i] - '0' : 0; int base = ta + tb + up; t.push_back(base % 10 + '0'); up = base / 10; } if (up) t.push_back(up + '0'); t.reverse();//è¿”å›åŸä½ a.reverse(); b.reverse(); return t; } (*æ ¸å¿ƒç®—æ³•)static minus() ä¸çœ‹ç¬¦å·çš„å‡æ³•,é»˜è®¤äº†açš„numså¤§å°(ä¸çœ‹ç¬¦å·)æ˜¯æ¯”bå¤§çš„ã€‚ static BigInteger minus(BigInteger \u0026a, BigInteger \u0026b) { a.reverse(); b.reverse(); BigInteger t; int len = a.length \u003e b.length ? a.length : b.length; for (int i = 0; i \u003c len; i++) { int ta = i \u003c a.length ? a[i] - '0' : 0; int tb = i \u003c b.length ? b[i] - '0' : 0; int base = ta - tb; if (base \u003c 0) { base += 10; a[i + 1]--; } t.push_back(base + '0'); } t.reverse(); a.reverse(); b.reverse(); return t; } char \u0026operator[] char \u0026operator[](int i) { return nums[i]; } BigInteger \u0026operator= ç”¨äº†ä¸¤ä¸ªç‰ˆæœ¬â€“å³å€¼å¼•ç”¨å’Œå·¦å€¼å¼•ç”¨ç‰ˆæœ¬ å³å€¼å¼•ç”¨å»¶é•¿å¯¿å‘½ï¼Œç”¨äº¤æ¢çš„æ–¹å¼å®ç°(æ¯•ç«Ÿæ˜¯å°†äº¡å€¼ BigInteger \u0026operator=(BigInteger\u0026\u0026 a) { //Swap\u0026Copyæ–¹å¼å®ç°å³å€¼èµ‹å€¼é‡è½½ Swap(*this, a); return *this; } å·¦å€¼å¼•ç”¨æ·±æ‹·è´ BigInteger \u0026operator=(const BigInteger \u0026a) {//æ·±æ‹·è´ if (length != 0)//å¦‚æœä¸æ˜¯åˆå§‹åŒ–è°ƒç”¨çš„ = ï¼Œåˆ™è‚¯å®šéœ€è¦å…ˆæŠŠåŸæ¥çš„å†…å­˜deleteæ‰ delete[]nums; capacity = a.capacity; length = a.length; f = a.f; nums = new char[capacity]; std::copy(a.nums, a.nums + length, nums); return *this; } bool operator\u003c é‡è½½äº†å°äºå·ï¼Œå¥½å¤„åœ¨äºå¯ä»¥ç›´æ¥åˆ©ç”¨stlè¿›è¡Œå„ç§æ’åºæ“ä½œäº†ã€‚ æ³¨æ„ï¼šä¸€å®šè¦å†™æˆconstç‰ˆæœ¬çš„æˆå‘˜å‡½æ•°ï¼Œä¸ç„¶STLåº“æ— æ³•è°ƒç”¨ï¼Œå› ä¸ºSTLåº“ä¸­çš„æ‰€æœ‰æ¯”è¾ƒéƒ½æ˜¯åŸºäºconstå¯¹è±¡ã€‚ bool operator\u003c(const BigInteger \u0026a) const { if (f \u0026\u0026 !a.f) { //å…¶ä¸­ä¸€ä¸ªä¸ºè´Ÿæ•°ï¼Œåˆ™é‚£ä¸ªæ˜¯æ›´å°çš„ return true; } else if (!f \u0026\u0026 a.f) return false; if (f) { //ä¸¤è€…éƒ½ä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œå·¦è¾¹çš„å€¼è¦æ›´å¤§åˆ™ä¸ºtrue return compare(*this, a); }//ä¸¤è€…å‡ä¸ºæ­£æ•°ï¼Œåˆ™å€¼æ›´å°çš„åœ¨å·¦è¾¹ä¸ºtrue return compare(a, *this); } (*æ ¸å¿ƒç®—æ³•)BigInteger operator+ åˆ©ç”¨é™æ€æˆå‘˜å‡½æ•°å®Œæˆæ— ç¬¦å·çš„åŠ å‡ï¼Œç„¶ååœ¨è¿™é‡Œè¿›è¡Œåˆ¤æ–­å„ç§ç¬¦å·æƒ…å†µï¼Œæ ¹æ®ä¸åŒçš„ç¬¦å·æƒ…å†µè¿›è¡Œä¸åŒçš„åŠ æ³•å¤„ç†ã€‚ æ³¨æ„åœ¨è°ƒç”¨minusä¹‹å‰éœ€è¦æ¯”è¾ƒä¸¤ä¸ªæ•°çš„numsè°æ›´å¤§ï¼Œæ›´å¤§çš„æ”¾åœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸Šï¼ BigInteger operator+(BigInteger \u0026a) { BigInteger res; bool flag; if (a.f \u0026\u0026 f) { //åŒä¸ºè´Ÿæ•°æƒ…å†µï¼Œç›´æ¥ç›¸åŠ ï¼Œå†æ”¹ç¬¦å· res = add(*this, a); flag = true; } else if (a.f \u0026\u0026 !f) {//å·¦æ­£å³è´Ÿ if (compare(a, *this)) { //çœ‹è´Ÿæ•°å¯¹åº”çš„numsæ˜¯å¦æ¯”æ­£æ•°å¤§ flag = true; res = minus(a, *this); } else { flag = false; res = minus(*this, a); } } else if (!a.f \u0026\u0026 f) { if (compare(*this, a)) { //ä¸ä¸Šä¸€ä¸ªç›¸åŒ flag = true; res = minus(*this, a); } else { flag = false; res = minus(a, *this); } } else { //åŒæ—¶ä¸ºæ­£æ•°å°±æ˜¯æœ€ç®€å•çš„åŠ æ³• flag = false; res = add(*this, a); } res.f = flag; return res; } (*æ ¸å¿ƒç®—æ³•)BigInteger operator- åŒæ ·æ˜¯åˆ†ç±»è®¨è®ºï¼ŒåŒæ ·æ˜¯æ ¹æ®ä¸åŒçš„ç±»å‹è°ƒç”¨minuså’Œaddå‡½æ•°ã€‚ ä¸æ­£æ•°ä¸åŒçš„å¤„ç†åœ¨äºå¯¹ç¬¦å·çš„å¤„ç†ï¼Œå¦‚æœåŒä¸ºè´Ÿæ•°ï¼Œåˆ™éœ€è¦åˆ¤æ–­ä¸¤è€…æ˜¯å¦ç›¸ç­‰ï¼Œé˜²æ­¢ä¸¤æ•°ç›¸ç­‰ç›¸å‡åå‡ä¸º 0ï¼Œè€Œè¢«å¤„ç†ä¸º -0 ã€‚ BigInteger operator-(BigInteger \u0026a) { BigInteger res; bool flag; if (a.f \u0026\u0026 f) { //åŒä¸ºè´Ÿæ•°æƒ…å†µ--å·¦è¾¹-å³è¾¹==(ä¸çœ‹ç¬¦å·)å³è¾¹-(ä¸çœ‹ç¬¦å·)å·¦è¾¹ if (compare(a, *this)) { flag = false; res = minus(a, *this); } else { if (isEqual(*this, a)) flag = false; else flag = true; res = minus(*this, a); } } else if (a.f \u0026\u0026 !f) { //å·¦è¾¹ä¸ºæ­£ï¼Œå³è¾¹ä¸ºè´Ÿ--å·¦è¾¹-å³è¾¹==å·¦è¾¹+å³è¾¹ flag = false; res = add(a, *this); } else if (!a.f \u0026\u0026 f) { //å³è¾¹ä¸ºæ­£ï¼Œå·¦è¾¹ä¸ºè´Ÿ--å·¦è¾¹-å³è¾¹==ä¸¤è¾¹ä¸ºè´Ÿçš„åŠ æ³• flag = true; res = add(a, *this); } else { //åŒæ—¶ä¸ºæ­£æ•°--å·¦è¾¹-å³è¾¹==å·¦è¾¹-å³è¾¹(åˆ†ç±»è®¨è®ºæ­£è´Ÿ if (compare(a, *this)) { //å³è¾¹\u003eå·¦è¾¹,ç¬¦å·ä¸ºè´Ÿ res = minus(a, *this); flag = true; } else { //å³è¾¹\u003cå·¦è¾¹ï¼Œç¬¦å·ä¸ºæ­£ res = minus(*this, a); flag = false; } } res.f = flag; return res; } ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:2:3","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"å››ã€å…¶ä»–å†…éƒ¨æˆå‘˜å‡½æ•°è¯¦è§£ å‘å¤–æä¾›çš„getæ¥å£ int getCap() { return capacity; } int getLength() { return length; } bool isNegative() { return f; } bool isEmpty() { return length == 0; } è¿›è¡Œèµ‹å€¼æ“ä½œæ‰€å¿…å¤‡çš„push_backå’Œreverseå‡½æ•° void push_back(char x) { if (length \u003e= capacity) {//æ‰©å®¹æ“ä½œ capacity *= 2; char *t = nums; nums = new char[capacity]; std::copy(t, t + length, nums); delete[]t; } nums[length++] = x; } void reverse() {//åè½¬æ“ä½œ int l = 0, r = length - 1; while (l \u003c r) { std::swap(nums[l], nums[r]); l++; r--; } } æ— å…³ç´§è¦çš„ read() è¾“å…¥æ¥å£ å’Œ print() è¾“å‡ºæµ‹è¯•æ¥å£ void print() { if (f) printf(\"-\"); nums[length] = '\\0'; int i = 0; while (nums[i] == '0')i++; printf(\"%s\", nums + i); } void read() {//åˆ©ç”¨getchar()ç»™å¯¹è±¡èµ‹ä¸Šæ•°æ® char c = getchar(); if (c == '-') { f = true; c = getchar(); } while (c == '0') c = getchar();//å°†å‰å¯¼0æ¶ˆè€—æ‰ while (c != '\\n') { push_back(c);//ä¸æ–­çš„è°ƒç”¨push_backå³å¯ c = getchar(); } } ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:2:4","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"æ•´ç†ä»£ç  ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:3:0","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":".hå£°æ˜æ–‡ä»¶ å¦‚æœåœ¨å£°æ˜ç±»çš„åŒæ—¶è¿›è¡Œå®šä¹‰ï¼Œåˆ™å†…éƒ¨çš„æˆå‘˜å‡½æ•°é»˜è®¤å°±æ˜¯å†…è”çš„ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬æŠŠçŸ­å°çš„ä»£ç è¿›è¡Œå†…è”ï¼Œä»¥ä¸‹çš„å®ç°å‡æ˜¯ä»¥è¯¥è§„å¾‹è¿›è¡Œã€‚ // // Created by Alone on 2021/10/7. // #ifndef MY_TINY_STL_BIGINTEGER_H #define MY_TINY_STL_BIGINTEGER_H #include \u003calgorithm\u003e#include \u003ciostream\u003e#include \u003ccstring\u003e class BigInteger { bool f; char *nums; int length; int capacity; public: //æ„é€ å‡½æ•° BigInteger() : length(0), capacity(1), f(false) { //ç¼ºçœæ„é€ å‡½æ•° nums = new char[capacity]; } BigInteger(const char *n); BigInteger(const BigInteger \u0026a); BigInteger(BigInteger \u0026\u0026a); ~BigInteger() { //ææ„å‡½æ•° delete[] nums; } public: //é™æ€å‡½æ•° static void Swap(BigInteger \u0026a, BigInteger \u0026b); static bool compare(const BigInteger \u0026a, const BigInteger \u0026b); bool isEqual(BigInteger \u0026a, BigInteger \u0026b); static BigInteger add(BigInteger \u0026a, BigInteger \u0026b); static BigInteger minus(BigInteger \u0026a, BigInteger \u0026b); public: //è¿ç®—ç¬¦é‡è½½ char \u0026operator[](int i) { return nums[i]; } BigInteger \u0026operator=(BigInteger \u0026\u0026a) { //Swap\u0026Copyæ–¹å¼å®ç°å³å€¼èµ‹å€¼é‡è½½ Swap(*this, a); return *this; } BigInteger \u0026operator=(const BigInteger \u0026a); bool operator\u003c(const BigInteger \u0026a) const; BigInteger operator+(BigInteger \u0026a); BigInteger operator-(BigInteger \u0026a); public: //å¯¹è±¡çš„åŸºæœ¬æˆå‘˜å‡½æ•° int getCap() { return capacity; } int getLength() { return length; } bool isNegative() { return f; } bool isEmpty() { return length == 0; } void reverse(); void push_back(char x); void print(); void read(); }; #endif //MY_TINY_STL_BIGINTEGER_H ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:3:1","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":".cppå®šä¹‰å¹¶å®ç° // // Created by Alone on 2021/10/7. // #include \"BigInteger.h\" //@æ„é€ å‡½æ•°å®ç° BigInteger::BigInteger(const char *n) : length(strlen(n)), f(false) { //ç”¨äºåˆå§‹å€¼çš„æ„é€ å‡½æ•° int start = 0; if (n[0] == '-') { f = true; start++; } while (start \u003c length \u0026\u0026 n[start] == '0')start++; capacity = length * 10; nums = new char[capacity]; std::copy(n + start, n + length, nums); length = length - start; } BigInteger::BigInteger(const BigInteger \u0026a) { //æ‹·è´æ„é€ å‡½æ•° capacity = a.capacity; length = a.length; f = a.f; nums = new char[capacity]; std::copy(a.nums, a.nums + length, nums); } BigInteger::BigInteger(BigInteger \u0026\u0026a) : length(0) { //ç§»åŠ¨æ„é€ å‡½æ•° *this = a; } //@é™æ€å‡½æ•°å®ç° void BigInteger::Swap(BigInteger \u0026a, BigInteger \u0026b) { std::swap(a.length, b.length); std::swap(a.capacity, b.capacity); std::swap(a.f, b.f); std::swap(a.nums, b.nums); } bool BigInteger::compare(const BigInteger \u0026a, const BigInteger \u0026b) { int n1 = a.length; int n2 = b.length; if (n1 != n2)return n1 \u003e n2; //è¿”å›aå’Œbå“ªä¸ªå¤§ï¼Œtrueåˆ™ä½aå¤§ int i = 0; while (i \u003c n1 \u0026\u0026 a.nums[i] == b.nums[i])i++; //a bä¸€æ ·é•¿çš„æƒ…å†µä¸‹ï¼Œæ¯”è¾ƒä¸¤ä¸ªçš„å€¼ if (i == n1) return false; return a.nums[i] \u003e b.nums[i]; } bool BigInteger::isEqual(BigInteger \u0026a, BigInteger \u0026b) { if (a.f != b.f || (a.length != b.length))return false; int i = 0; while (i \u003c a.length \u0026\u0026 a.nums[i] == b.nums[i])i++; return i == a.length \u0026\u0026 a.f == b.f; } BigInteger BigInteger::add(BigInteger \u0026a, BigInteger \u0026b) { a.reverse();//å°¾ç«¯å¯¹é½ b.reverse(); BigInteger t; int up = 0; int len = a.length \u003e b.length ? a.length : b.length; for (int i = 0; i \u003c len; i++) { int ta = i \u003c a.length ? a[i] - '0' : 0; int tb = i \u003c b.length ? b[i] - '0' : 0; int base = ta + tb + up; t.push_back(base % 10 + '0'); up = base / 10; } if (up) t.push_back(up + '0'); t.reverse();//è¿”å›åŸä½ a.reverse(); b.reverse(); return t; } BigInteger BigInteger::minus(BigInteger \u0026a, BigInteger \u0026b) { a.reverse(); b.reverse(); BigInteger t; int len = a.length \u003e b.length ? a.length : b.length; for (int i = 0; i \u003c len; i++) { int ta = i \u003c a.length ? a[i] - '0' : 0; int tb = i \u003c b.length ? b[i] - '0' : 0; int base = ta - tb; if (base \u003c 0) { base += 10; a[i + 1]--; } t.push_back(base + '0'); } t.reverse(); a.reverse(); b.reverse(); return t; } //@è¿ç®—ç¬¦é‡è½½å®ç° BigInteger \u0026BigInteger::operator=(const BigInteger \u0026a) { if (length != 0)//å¦‚æœä¸æ˜¯åˆå§‹åŒ–è°ƒç”¨çš„ = ï¼Œåˆ™è‚¯å®šéœ€è¦å…ˆæŠŠåŸæ¥çš„å†…å­˜deleteæ‰ delete[]nums; capacity = a.capacity; length = a.length; f = a.f; nums = new char[capacity]; std::copy(a.nums, a.nums + length, nums); return *this; } BigInteger BigInteger::operator+(BigInteger \u0026a) { BigInteger res; bool flag; if (a.f \u0026\u0026 f) { //åŒä¸ºè´Ÿæ•°æƒ…å†µï¼Œç›´æ¥ç›¸åŠ ï¼Œå†æ”¹ç¬¦å· res = add(*this, a); flag = true; } else if (a.f \u0026\u0026 !f) {//å·¦æ­£å³è´Ÿ if (compare(a, *this)) { //çœ‹è´Ÿæ•°å¯¹åº”çš„numsæ˜¯å¦æ¯”æ­£æ•°å¤§ flag = true; res = minus(a, *this); } else { flag = false; res = minus(*this, a); } } else if (!a.f \u0026\u0026 f) { if (compare(*this, a)) { //ä¸ä¸Šä¸€ä¸ªç›¸åŒ flag = true; res = minus(*this, a); } else { flag = false; res = minus(a, *this); } } else { //åŒæ—¶ä¸ºæ­£æ•°å°±æ˜¯æœ€ç®€å•çš„åŠ æ³• flag = false; res = add(*this, a); } res.f = flag; return res; } BigInteger BigInteger::operator-(BigInteger \u0026a) { BigInteger res; bool flag; if (a.f \u0026\u0026 f) { //åŒä¸ºè´Ÿæ•°æƒ…å†µ--å·¦è¾¹-å³è¾¹==(ä¸çœ‹ç¬¦å·)å³è¾¹-(ä¸çœ‹ç¬¦å·)å·¦è¾¹ if (compare(a, *this)) { flag = false; res = minus(a, *this); } else { if (isEqual(*this, a)) flag = false; else flag = true; res = minus(*this, a); } } else if (a.f \u0026\u0026 !f) { //å·¦è¾¹ä¸ºæ­£ï¼Œå³è¾¹ä¸ºè´Ÿ--å·¦è¾¹-å³è¾¹==å·¦è¾¹+å³è¾¹ flag = false; res = add(a, *this); } else if (!a.f \u0026\u0026 f) { //å³è¾¹ä¸ºæ­£ï¼Œå·¦è¾¹ä¸ºè´Ÿ--å·¦è¾¹-å³è¾¹==ä¸¤è¾¹ä¸ºè´Ÿçš„åŠ æ³• flag = true; res = add(a, *this); } else { //åŒæ—¶ä¸ºæ­£æ•°--å·¦è¾¹-å³è¾¹==å·¦è¾¹-å³è¾¹(åˆ†ç±»è®¨è®ºæ­£è´Ÿ if (compare(a, *this)) { //å³è¾¹\u003eå·¦è¾¹,ç¬¦å·ä¸ºè´Ÿ res = minus(a, *this); flag = true; } else { //å³è¾¹\u003cå·¦è¾¹ï¼Œç¬¦å·ä¸ºæ­£ res = minus(*this, a); flag = false; } } res.f = flag; return res; } bool BigInteger::operator\u003c(const BigInteger \u0026a) const { if (f \u0026\u0026 !a.f) { //å…¶ä¸­ä¸€ä¸ªä¸ºè´Ÿæ•°ï¼Œåˆ™é‚£ä¸ªæ˜¯æ›´å°çš„ return true; } else if (!f \u0026\u0026 a.f) return false; if (f) { //ä¸¤è€…éƒ½ä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œå·¦è¾¹çš„å€¼è¦æ›´å¤§åˆ™ä¸ºtrue return compare(*this, a); }//ä¸¤è€…å‡ä¸ºæ­£æ•°ï¼Œåˆ™å€¼æ›´å°çš„åœ¨å·¦è¾¹ä¸ºtrue return compare(a, *this); } //@åŸºæœ¬æˆå‘˜å‡½æ•° void BigInteger::reverse() { int l = 0, r = length - 1; while (l \u003c r) { std::swap(nums[l], nums[r]); l++","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:3:2","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"åŠŸèƒ½æµ‹è¯• ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:4:0","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"ä¸€ã€åŸºæœ¬çš„åŠ å‡æµ‹è¯• è¿è¡Œçš„æµ‹è¯•ä»£ç ï¼š æ‰“å°è¾“å‡º pythonè¾“å‡º æ€»ç»“ ä¸pythonè¾“å‡ºæ— å¼‚ï¼Œæ•…é€šè¿‡æµ‹è¯•ã€‚ä½†ç¢äºæµ‹è¯•æ•°æ®å¤ªè¿‡å°‘ï¼Œä¸æ˜¯å¾ˆæœ‰è¯´æœåŠ›ï¼Œè¿˜æœ‰åé¢çš„è§£é¢˜æµ‹è¯•ã€‚ ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:4:1","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"äºŒã€å­˜å‚¨ä¸ªäººè¾“å…¥çš„æ•°æ®+æ’åºæµ‹è¯• æµ‹è¯•ä»£ç (æ–¹ä¾¿æµ‹è¯•åªè¾“å…¥äº†10ä¸ªæ•°æ®)ï¼š æ’åºè¾“å‡ºï¼š ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:4:2","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"ä¸‰ã€è§£é¢˜æµ‹è¯• æ­£å¥½æœ€è¿‘åˆ·çš„PATç”²çº§å°±æ¶‰åŠåˆ°å¤§æ•°çš„åŠ å‡hhhï¼ é¢˜ç›®æè¿° OJå¹³å° è§£é¢˜ä»£ç  #include \"bits/stdc++.h\" class BigInteger { bool f; char *nums; int length; int capacity; public://æ„é€ å‡½æ•° BigInteger() : length(0), capacity(1), f(false) { //ç¼ºçœæ„é€ å‡½æ•° nums = new char[capacity]; } BigInteger(const char *n) : length(strlen(n)), f(false) { //ç”¨äºåˆå§‹å€¼çš„æ„é€ å‡½æ•° int start = 0; if (n[0] == '-') { f = true; start++; } while (start \u003c length \u0026\u0026 n[start] == '0')start++; capacity = length * 10; nums = new char[capacity]; std::copy(n + start, n + length, nums); length = length - start; } BigInteger(const BigInteger \u0026a) { //æ‹·è´æ„é€ å‡½æ•° capacity = a.capacity; length = a.length; f = a.f; nums = new char[capacity]; std::copy(a.nums, a.nums + length, nums); } BigInteger(BigInteger \u0026\u0026a) : length(0) { //ç§»åŠ¨æ„é€ å‡½æ•° *this = a; } ~BigInteger() { //ææ„å‡½æ•° delete[] nums; } public://é™æ€æˆå‘˜å‡½æ•° static void Swap(BigInteger \u0026a, BigInteger \u0026b) { std::swap(a.length, b.length); std::swap(a.capacity, b.capacity); std::swap(a.f, b.f); std::swap(a.nums, b.nums); } static bool compare(const BigInteger \u0026a, const BigInteger \u0026b) { //æ¯”è¾ƒçº¯numså¤§å°(ä¸çœ‹ç¬¦å· int n1 = a.length; int n2 = b.length; if (n1 != n2)return n1 \u003e n2; //è¿”å›aå’Œbå“ªä¸ªå¤§ï¼Œtrueåˆ™ä½aå¤§ int i = 0; while (i \u003c n1 \u0026\u0026 a.nums[i] == b.nums[i])i++; //a bä¸€æ ·é•¿çš„æƒ…å†µä¸‹ï¼Œæ¯”è¾ƒä¸¤ä¸ªçš„å€¼ if (i == n1) return false; return a.nums[i] \u003e b.nums[i]; } bool isEqual(BigInteger \u0026a, BigInteger \u0026b) { if (a.f != b.f || (a.length != b.length))return false; int i = 0; while (i \u003c a.length \u0026\u0026 a.nums[i] == b.nums[i])i++; return i == a.length \u0026\u0026 a.f == b.f; } static BigInteger add(BigInteger \u0026a, BigInteger \u0026b) { //ä¸çœ‹ç¬¦å·çš„åŠ æ³• a.reverse();//å°¾ç«¯å¯¹é½ b.reverse(); BigInteger t; int up = 0; int len = a.length \u003e b.length ? a.length : b.length; for (int i = 0; i \u003c len; i++) { int ta = i \u003c a.length ? a[i] - '0' : 0; int tb = i \u003c b.length ? b[i] - '0' : 0; int base = ta + tb + up; t.push_back(base % 10 + '0'); up = base / 10; } if (up) t.push_back(up + '0'); t.reverse();//è¿”å›åŸä½ a.reverse(); b.reverse(); return t; } static BigInteger minus(BigInteger \u0026a, BigInteger \u0026b) { //ä¸çœ‹ç¬¦å·çš„å‡æ³•,é»˜è®¤äº†açš„é•¿åº¦æˆ–è€…å¤§å°æ˜¯æ¯”bè¦å¤§çš„(æ‰€ä»¥å¤–ç•Œä¸è¦ä¹±è°ƒç”¨ a.reverse(); b.reverse(); BigInteger t; int len = a.length \u003e b.length ? a.length : b.length; for (int i = 0; i \u003c len; i++) { int ta = i \u003c a.length ? a[i] - '0' : 0; int tb = i \u003c b.length ? b[i] - '0' : 0; int base = ta - tb; if (base \u003c 0) { base += 10; a[i + 1]--; } t.push_back(base + '0'); } t.reverse(); a.reverse(); b.reverse(); return t; } public://æˆå‘˜å‡½æ•°å’Œé‡è½½è¿ç®—ç¬¦ char \u0026operator[](int i) { return nums[i]; } BigInteger \u0026operator=(BigInteger \u0026\u0026a) { //Swap\u0026Copyæ–¹å¼å®ç°å³å€¼èµ‹å€¼é‡è½½ Swap(*this, a); return *this; } BigInteger \u0026operator=(const BigInteger \u0026a) {//æ·±æ‹·è´ if (length != 0)//å¦‚æœä¸æ˜¯åˆå§‹åŒ–è°ƒç”¨çš„ = ï¼Œåˆ™è‚¯å®šéœ€è¦å…ˆæŠŠåŸæ¥çš„å†…å­˜deleteæ‰ delete[]nums; capacity = a.capacity; length = a.length; f = a.f; nums = new char[capacity]; std::copy(a.nums, a.nums + length, nums); return *this; } int getCap() { return capacity; } int getLength() { return length; } bool isNegative() { return f; } bool isEmpty() { return length == 0; } void reverse() { int l = 0, r = length - 1; while (l \u003c r) { std::swap(nums[l], nums[r]); l++; r--; } } void push_back(char x) { if (length \u003e= capacity) { capacity *= 2; char *t = nums; nums = new char[capacity]; std::copy(t, t + length, nums); delete[]t; } nums[length++] = x; } bool operator\u003c(const BigInteger \u0026a) const { if (f \u0026\u0026 !a.f) { //å…¶ä¸­ä¸€ä¸ªä¸ºè´Ÿæ•°ï¼Œåˆ™é‚£ä¸ªæ˜¯æ›´å°çš„ return true; } else if (!f \u0026\u0026 a.f) return false; if (f) { //ä¸¤è€…éƒ½ä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œå·¦è¾¹çš„å€¼è¦æ›´å¤§åˆ™ä¸ºtrue return compare(*this, a); }//ä¸¤è€…å‡ä¸ºæ­£æ•°ï¼Œåˆ™å€¼æ›´å°çš„åœ¨å·¦è¾¹ä¸ºtrue return compare(a, *this); } BigInteger operator+(BigInteger \u0026a) { BigInteger res; bool flag; if (a.f \u0026\u0026 f) { //åŒä¸ºè´Ÿæ•°æƒ…å†µï¼Œç›´æ¥ç›¸åŠ ï¼Œå†æ”¹ç¬¦å· res = add(*this, a); flag = true; } else if (a.f \u0026\u0026 !f) {//å·¦æ­£å³è´Ÿ if (compare(a, *this)) { //çœ‹è´Ÿæ•°å¯¹åº”çš„numsæ˜¯å¦æ¯”æ­£æ•°å¤§ flag = true; res = minus(a, *this); } else { flag = false; res = minus(*this, a); } } else if (!a.f \u0026\u0026 f) { if (compare(*this, a)) { //ä¸ä¸Šä¸€ä¸ªç›¸åŒ flag = true; res = minus(*this, a); } else { flag = false; res = minus(a, *this); } } else { //åŒæ—¶ä¸ºæ­£æ•°å°±æ˜¯æœ€ç®€å•çš„åŠ æ³• flag = false; res = add(*this, a); } res.f = flag; return res; } BigInteger operator-(BigInteger \u0026a","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:4:3","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"æ€»ç»“ å¾ˆå¤šäººï¼Œå¯èƒ½è§‰å¾—åšé¡¹ç›®ä¸€å®šå¾—æ˜¯é‚£ç§é«˜å¤§ä¸Šï¼Œåˆæˆ–è€…æ˜¯é‚£ç§è´ªåƒè›‡å°æ¸¸æˆã€æ‰«é›·å°æ¸¸æˆç±»å‹ï¼Œå®é™…ä¸Šåªè¦ä½ æœ‰å…´è¶£ï¼Œä»»ä½•ä¸€ä¸ªä¸œè¥¿éƒ½èƒ½æˆä¸ºä½ çš„ç»ƒæ‰‹é¡¹ç›®ï¼Œå¹¶ä¸”æ”¶è·æ”¶è·ä¹Ÿè®¸æ¯”ä½ è·Ÿé£å»å¼„å‡ ä¸ªå°æ¸¸æˆæ›´å¤§ã€‚ åšè¿™ä¸ªå°é¡¹ç›®ï¼Œæˆ‘çš„æ”¶è·æ˜¯ï¼Œå¯¹C++çš„è¯­æ³•æ›´åŠ çš„äº†è§£äº†ï¼Œå…³äºç§»åŠ¨æ„é€ å™¨ã€æ‹·è´æ„é€ å™¨ã€èµ‹å€¼é‡è½½è¿™å—å¼„å¾—æ›´æ¸…æ¥šäº†ï¼Œæœ€å¤§çš„æ”¶è·åœ¨äºå¼ºåŒ–äº†ä¸€ä¸ªç±»çš„è®¾è®¡æ€è·¯ï¼Œè¿™ä¸ªæ˜¯æœ€é‡è¦çš„ã€‚ å¤šå†™ä¸€äº›ç±»çš„å®ç°ï¼Œä¸ä»…æœ‰åˆ©äºå¯¹ç®—æ³•å’Œè¯­è¨€è¯­æ³•çš„ç†è§£ï¼Œæ›´å¤§çš„æ”¶è·åœ¨äºå¯¹å„ä¸ªåŠŸèƒ½çš„è®¾è®¡æ€è·¯ï¼Œä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘ä»¬æœ€éœ€è¦çš„å°±æ˜¯è¿™æ ·çš„é€»è¾‘æ€ç»´ï¼Œä»æ¥åˆ°éœ€æ±‚å¼€å§‹ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½è¿…é€Ÿçš„æŠ½è±¡å‡ºå„ç§å®ç°æ–¹æ¡ˆï¼Œç„¶åè¿›è¡Œä¸æ–­çš„ä¼˜åŒ–ï¼Œå¾—å‡ºå±äºè‡ªå·±çš„ä»£ç ï¼ ","date":"2022-01-20","objectID":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/:5:0","tags":["C++ç±»çš„å°è£…"],"title":"å¤§æ•°åŠ å‡ç±»çš„å®ç°(C++å®ç°)âœ¨","uri":"/posts/%E5%A4%A7%E6%95%B4%E6%95%B0%E5%8A%A0%E5%87%8F/"},{"categories":["C++å®æˆ˜"],"content":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"å®ç°æºç åœ¨çº¿æŸ¥çœ‹ å¦‚æœå¯¹äºç±»çš„è®¾è®¡å·²ç»éå¸¸æ¸…æ¥šï¼Œåªæ˜¯è¿›æ¥æƒ³çœ‹çœ‹æˆ‘çš„è¿™ä¸ªæ³›å‹æ¨¡æ¿æºä»£ç ï¼Œé‚£ä¹ˆç›´æ¥ç‚¹åˆ°ä¸‹é¢è¿™ä¸ªé“¾æ¥è¿›è¡ŒæŸ¥çœ‹ï¼š æºç é“¾æ¥ ","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:0:0","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"ä»€ä¹ˆæ˜¯çŸ©é˜µå¿«é€Ÿå¹‚ï¼Ÿ å…³äºå¿«é€Ÿå¹‚ï¼Œå°±æ˜¯åˆ©ç”¨äºŒè¿›åˆ¶è¿›è¡Œæ±‚è§£æŸä¸ªæ•°çš„å¹‚çš„å¿«é€Ÿæ–¹æ³•ã€‚ åé¢ä¼šå¯¹å¿«é€Ÿå¹‚çš„åŸç†è¿›è¡Œç®€å•è®²è§£ï¼Œå¦‚æœè¿˜æ˜¯ä¸æ‡‚ï¼Œè¯·è‡ªè¡Œç™¾åº¦ã€‚ ç›¸ä¿¡æœ‰å¾ˆå¤šå°ä¼™ä¼´æ˜¯åˆå…¥å¤§å­¦çš„ä¸–ç•Œï¼Œå¯èƒ½è¿˜æ²¡å­¦è¿‡çº¿æ€§ä»£æ•°ï¼ˆæ¯”å¦‚æˆ‘ï¼‰ï¼Œäºæ˜¯ä¹ä¸çŸ¥é“çŸ©é˜µæ˜¯ä»€ä¹ˆï¼Œæˆ‘æ¨èä¸€ä¸ªç½‘ç«™å»çœ‹çœ‹çŸ©é˜µçš„ä¹˜æ³•æ˜¯æ€ä¹ˆè¿ç®—çš„ï¼Œä¸‹é¢æ˜¯ç½‘ç«™é“¾æ¥ï¼šï¼ˆè¯è¯´how toè¿™ä¸ªç½‘ç«™è¿˜çœŸæ˜¯ç‰›æ‰¹ï¼Œä»€ä¹ˆä¸œè¥¿éƒ½æœ‰æ•™ç¨‹ï¼Œè€Œä¸”è´¨é‡è¿˜è´¼é«˜ï¼ğŸ˜‚ï¼‰ çŸ©é˜µä¹˜æ³•çš„è®¡ç®—æ–¹å¼ é‚£ä¹ˆå¦‚ä½•ç”¨ä»£ç è¡¨ç¤ºçŸ©é˜µä»¥åŠä»–çš„ä¹˜æ³•å‘¢ï¼Ÿ å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸‰å±‚å¾ªç¯è¿›è¡Œæ§åˆ¶å³å¯ã€‚ å¦‚ï¼šæˆ‘è¿™é‡Œæ˜¯C++çš„é‡è½½è¿ç®—ç¬¦ Matrix æ˜¯æˆ‘å®šä¹‰çš„ä¸€ä¸ªç±»ã€‚ Matrix\u0026 operator*(Matrix\u0026 b){ assert(b.date!=NULL \u0026\u0026 date!=NULL \u0026\u0026 m==b.n); ll tmp[n][b.m]; for(int i=0;i\u003cn;i++){ for(int j=0;j\u003cb.m;j++){ ll sum = 0; for(int k=0;k\u003cm;k++){ sum = (sum + date[i][k]*b.date[k][j])%MOD; } tmp[i][j] = sum; } } this-\u003em = b.m; for(int i=0;i\u003cn;i++){ for (int j = 0; j \u003c m; ++j) { date[i][j] = tmp[i][j]; } } return *this; } ","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:1:0","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"æ€ä¹ˆè¿›è¡ŒçŸ©é˜µå¿«é€Ÿå¹‚çš„è¿ç®—ï¼Ÿ å…³äºå¦‚ä½•çŸ©é˜µå¿«é€Ÿå¹‚ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ç®€å•çš„å¿«é€Ÿå¹‚ã€‚ è¯´æ˜¯å¿«é€Ÿå¹‚å°±æ˜¯é€šè¿‡ä½è¿ç®—å®ç°å¿«é€Ÿçš„åŒæ•°ç´¯ä¹˜ã€‚ ç®€è¿°ä¸€ä¸‹å¿«é€Ÿå¹‚çš„åŸç†ï¼š åŸç†å°±æ˜¯ï¼Œå¦‚æœè¦æ±‚xçš„3æ¬¡å¹‚ï¼Œé‚£ä¹ˆå¯ä»¥è½¬åŒ–ä¸ºæ±‚ x*x çš„ 2 æ¬¡å¹‚ï¼Œè€Œæ±‚ä¸€ä¸ªæ•°çš„ 2^n å¹‚æ˜¯å¾ˆç®€å•çš„ï¼Œæ¯”å¦‚è¿›è¡Œä¸€æ¬¡ x *= x ä¾¿å¾—åˆ° x çš„äºŒæ¬¡æ–¹ã€‚è€Œå†è¿›è¡Œä¸€æ¬¡ x *= x å°±å¾—åˆ°äº† 4 æ¬¡æ–¹ï¼Œç»§ç»­ä¾¿å¯å¾—åˆ° 8/16... æ€»ä¹‹æ˜¯ log2N çš„æ—¶é—´ã€‚ ä»£ç å¦‚ä¸‹ï¼š int QuickPow(int x,int n){ int c = n; int res = 1; while(c!=0){ if(c\u00261!=0){ res *= x; } c \u003e\u003e= 1; x *= x; } return res; } é‚£ä¹ˆçŸ©é˜µçš„å¿«é€Ÿå¹‚å¦‚ä½•è¿›è¡Œï¼Ÿ æŠŠä¸Šè¿°çš„ int ç±»å‹æ¢æˆè‡ªå·±å®šä¹‰çš„çŸ©é˜µå°±æ˜¯çŸ©é˜µçš„å¿«é€Ÿå¹‚äº†ã€‚ æˆ‘ç›´æ¥è´´ä¸ŠC++å®ç°çš„é‡è½½è¿ç®—ç¬¦åçš„ç±»çš„å¿«é€Ÿå¹‚å†™æ³•ï¼š è¿™é‡Œçš„quickPowè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨åˆ°è¿™ä¸ªçŸ©é˜µé‡Œçš„æ•°æ®è¿›è¡Œè¿ç®—ã€‚thisè¡¨ç¤ºæŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„æŒ‡é’ˆã€‚init() æˆå‘˜å‡½æ•°è¡¨ç¤ºåˆå§‹åŒ–ä¸ºå•ä½çŸ©é˜µã€‚ void quickPow(ll c){ if(c==1||c\u003c0)return; if(c==0){ init(); return; } Matrix tmp(*this); init(); while (c){ if(c\u00261){ *this = *this * tmp; } c \u003e\u003e= 1; tmp = tmp*tmp; } } ","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:1:1","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"ä¸ºä»€ä¹ˆçªç„¶æƒ³å†™è¿™ä¸ªæ¨¡æ¿ï¼Ÿ ä¸»è¦æ˜¯å› ä¸ºæœ€è¿‘åšäº†å‡ é“å¿«é€Ÿå¹‚çš„é¢˜ç›®ï¼Œè¢«å‘çš„å¾ˆæƒ¨ï¼Œç„¶åå°±çªç„¶æƒ³è®¾è®¡ä¸€ä¸ªæ¨¡æ¿äº†ï¼Œä¸»è¦æ˜¯ my_tiny_stl è¿™ä¸ªä»“åº“ä¹Ÿå¥½ä¹…æ²¡æ›´æ–°äº†ğŸ˜‚ ","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:2:0","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"é¢˜ç›® OJç½‘ç«™ ","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:2:1","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"æˆ‘æ˜¯å¦‚ä½•è¢«å‘çš„ é¦–å…ˆæ‹¿åˆ°è¿™é“é¢˜ï¼Œæˆ‘ä¾¿é©¬ä¸Šå¼€å§‹ç®€å•çš„O(n)é€’æ¨æ³•å®ç°ï¼Œç„¶åæäº¤ï¼Œç„¶åã€‚ã€‚è¶…æ—¶ã€‚ã€‚ å®šçœ¼ä¸€çœ‹ï¼Œæ•°æ®é‡åŸæ¥è¿™ä¹ˆå¤§ï¼ åé¢ä¸€æƒ³ï¼Œè‚¯å®šæ˜¯çŸ©é˜µå¿«é€Ÿå¹‚äº†ï¼Œå…ˆæƒ³å‡ºä»¥ä¸‹çŸ©é˜µçš„é€’æ¨å¼å­ï¼š è¿›è€Œé¢˜ç›®ä¾¿å¯å¾—åˆ°æ±‚è§£ã€‚ ç„¶åæˆ‘å°±åˆ©ç”¨ C++ çš„ç±»ç®€å•çš„å°è£…äº†ä¸€ä¸ªçŸ©é˜µç±»ï¼Œé‡Œé¢é‡è½½äº†ä¹˜æ³•å’Œ quickpow æ–¹æ³•ï¼Œç„¶åæ¯”è¾ƒæ‚ é—²çš„å‡†å¤‡æäº¤ï¼Œè¿˜æ²¡æäº¤å‰å°±é‡åˆ°C++çš„è¯­æ³•é™·é˜±ã€ã€ è¯­æ³•é™·é˜±ï¼ˆå»ºè®®éC++å…šç»•é“ï¼‰ ç”±äºç±»ç”¨çš„éƒ½æ˜¯å †å†…å­˜ï¼Œæ‰€ä»¥æˆ‘å†™äº†ææ„å‡½æ•°ï¼Œæˆ‘é‡åˆ°çš„é—®é¢˜å‡ºåœ¨é‡è½½ä¹˜æ³•æ—¶æˆ‘è¿”å›çš„æ˜¯å·¦å€¼ï¼Œè€Œä¸”æˆ‘ä¹Ÿæ²¡æœ‰å¯¹ â€˜=â€™ è¿›è¡Œé‡è½½ï¼Œæ‰€ä»¥ â€˜=â€™ å°±æ˜¯ç›´æ¥çš„æˆå‘˜å˜é‡æ‹·è´ï¼Œè¿™å¯¼è‡´ä¸€ä¸ªç»“æœå°±æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„ date æŒ‡å‘åŒä¸€ç‰‡å†…å­˜ç©ºé—´ï¼Œè€Œä¹‹å‰çš„é‚£ç‰‡å†…å­˜ç©ºé—´æ³„éœ²äº†ï¼Œä¸”æœ€åè¿™ä¸¤ä¸ªå¯¹è±¡è‚¯å®šéƒ½ä¼šè°ƒç”¨ææ„å‡½æ•°ï¼Œè¿™åˆå¯¼è‡´äº†ææ„å‡½æ•°è°ƒç”¨äº†ä¸¤æ¬¡ï¼ å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿå¦‚æœæ˜¯ C++98 ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å¾ˆå¤§ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ä¸¤ç§æ–¹æ³•è§£å†³ï¼š é€ƒé¿é—®é¢˜ï¼Œä¹˜æ³•çš„å·¦æ“ä½œæ•°å¿…é¡»æ˜¯å½“å‰èµ‹å€¼å¯¹è±¡ï¼Œè¿™æ ·å°±é¿å…äº†æœ€åèµ‹å€¼è¯­å¥å°†åŸæœ¬å¯¹è±¡å†…çš„æŒ‡é’ˆç›´æ¥æ”¹å˜ã€‚ è§£å†³é—®é¢˜ï¼Œè§£å†³è¿™ç±»é—®é¢˜æ— è®ºæ˜¯ C++11 è¿˜æ˜¯ C++98 æœ€ç›´æ¥çš„æ–¹å¼å°±æ˜¯é‡è½½ â€˜=â€™ å·ï¼Œé‡è½½ '=' å·çš„å®ç°æ ¹æ®å…·ä½“çš„æƒ…å†µè¿›è¡Œï¼Œè€Œå…·ä½“å®ç°èµ‹å€¼çš„é‡è½½ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸¤ä»¶äº‹ï¼šç¬¬ä¸€ï¼Œéœ€å°½å¯èƒ½çš„å‡å°‘å†…å­˜çš„ç”³è¯·å’Œä½¿ç”¨ï¼ˆå…·ä½“è€Œè¨€å°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„æŒ‡é’ˆæ‰€æŒ‡å‘çš„æ˜¯å¦ä¸ºåŒä¸€ç‰‡ç©ºé—´ï¼Œå³ä¾¿ä¸æ˜¯åŒä¸€ç‰‡ç©ºé—´ï¼Œä¸ºäº†å¢åŠ ç©ºé—´åˆ©ç”¨ç‡è¿˜å¯ä»¥åˆ¤æ–­ä¸¤ä¸ªç©ºé—´æ˜¯å¦å¤§å°ä¸€è‡´ï¼Œç„¶åè¿›è¡Œæ‹·è´å³å¯ï¼‰ã€‚ç¬¬äºŒï¼Œå¦‚æœæ˜¯ä¸´æ—¶å¯¹è±¡åˆ™éœ€è¦æŠŠå®ƒçš„æŒ‡é’ˆç½®ç©ºï¼ˆé˜²æ­¢ç¼–è¯‘å™¨æœªä¼˜åŒ–ä¸´æ—¶å˜é‡çš„ææ„å‡½æ•°ï¼Œä»è€Œè°ƒç”¨äº†ææ„å‡½æ•°å¤šæ¬¡ææ„åŒä¸€å†…å­˜ï¼‰ã€‚ ç”±äº C++11 å¼€å§‹æœ‰äº†å³å€¼å¼•ç”¨å’Œå®ƒé…å¥—çš„ç§»åŠ¨èµ‹å€¼æ„é€ å™¨ï¼Œæ‰€ä»¥å¯ä»¥æŠŠä¸´æ—¶å˜é‡ç›´æ¥è°ƒç”¨ç§»åŠ¨æ„é€ å™¨å˜æˆå…·åå¯¹è±¡ï¼Œç„¶åè¿›è¡Œæ“ä½œï¼Œä¸€èˆ¬å°±æ˜¯æŠŠå®ƒçš„æŒ‡é’ˆæ‰€æœ‰æƒè¿›è¡Œè½¬ç§»ï¼Œç„¶åæŠŠå®ƒçš„æŒ‡é’ˆç½®ç©ºé˜²æ­¢ææ„é”™è¯¯ï¼Œåœ¨æˆ‘çš„ç†è§£ä¸‹ï¼Œå³å€¼å¼•ç”¨çš„å‡ºç°å°±æ˜¯ä¸ºäº†æ•æ‰åˆ°åŒ¿åå¯¹è±¡ç„¶åç»™ç¨‹åºå‘˜è¿›è¡Œé€‚å½“çš„æ€§èƒ½ä¼˜åŒ–æ“ä½œï¼Œæ²¡æœ‰å³å€¼å¼•ç”¨å‰ï¼ŒåŒ¿åå¯¹è±¡çš„å†…å­˜æ ¹æœ¬å°±æ²¡æ³•å»ä½¿ç”¨ï¼Œåªèƒ½ç”¨æ¥ç®€å•çš„èµ‹å€¼æ‹·è´æ“ä½œåæ‰èƒ½ä½¿ç”¨ï¼Œè¿™æ ·å°±å¾ˆæ¶ˆè€—å†…å­˜äº†ï¼Œå³å€¼å¼•ç”¨å‡ºç°åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å³å€¼å¼•ç”¨å¯¹åŒ¿åå¯¹è±¡è¿›è¡Œæ•æ‰ï¼Œç„¶åæ“ä½œå®ƒçš„åº•å±‚å†…å­˜ã€‚è¿˜æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å†…å­˜ç›¸å…³çš„æ›´æ–°å°±æ˜¯æœ‰äº†ä¸€ä¸ª nullptr å…³é”®å­—ï¼Œè¿™ä¸ªå…³é”®å­—ä½¿å¾—ç©ºæŒ‡é’ˆä¸å†ä¼šæœ‰æ­§ä¹‰ï¼Œæ‰€ä»¥ delete nullptr æ˜¯å®‰å…¨çš„ã€‚æ‰€ä»¥é˜²æ­¢å¤šæ¬¡ delete åŒä¸€ç‰‡ç©ºé—´äº§ç”Ÿé”™è¯¯å¯ä»¥å°†å®ƒèµ‹å€¼ä¸º nullptr å³å¯ã€‚ é‚£ä¹ˆåŸºäº C++11 è¿™ä¸ªé—®é¢˜è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿè§£å†³æ–¹æ³•å’ŒC++98æ²¡å·®ï¼Œå°±æ˜¯èƒ½å¤Ÿæ›´åŠ å¾—å¿ƒåº”æ‰‹çš„è¿›è¡Œå†…å­˜çš„ç®¡ç†äº†ï¼Œå¦‚æœç­‰å·å³è¾¹æ˜¯ä¸€ä¸ªå³å€¼ï¼Œé‚£ä¹ˆå®ƒè‚¯å®šæ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ â€˜=â€™ å·çš„é‡è½½ä¸­ç›´æ¥äº†å½“çš„ç”¨å®ƒçš„å†…å­˜ï¼Œå¹¶æŠŠå®ƒçš„æŒ‡é’ˆç½®ç©ºã€‚å¦‚æœæ²¡æœ‰å³å€¼ç±»å‹è¿›è¡Œæ•è·ï¼Œç¼–è¯‘å™¨é»˜è®¤ä¹Ÿæ˜¯ä¼šå¯¹ä¸´æ—¶å¯¹è±¡è¿›è¡Œä¼˜åŒ–çš„ï¼Œä¹Ÿèƒ½é˜²æ­¢äº§ç”Ÿå¤šä¸ªå¯¹è±¡çš„èµ‹å€¼æ‹·è´ï¼Œä½†åªèƒ½åœ¨å¯¹è±¡åˆå§‹åŒ–çš„æ—¶å€™è¿›è¡Œä¼˜åŒ–ï¼è€Œåœ¨å…¶ä»–æ—¶å€™åˆ™è¿˜æ˜¯ä¼šè°ƒç”¨ææ„å‡½æ•°ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœè¿˜æ˜¯ç”¨ç¼–è¯‘å™¨é»˜è®¤äº§ç”Ÿçš„ â€˜=â€™ é‡è½½ï¼Œåˆ™ä¼šå‘ç”Ÿè¢«ææ„çš„ç©ºé—´çš„æŒ‡é’ˆè¢«èµ‹å€¼çš„æƒ…å†µï¼Œè€Œæˆ‘ä»¬çš„å³å€¼å¼•ç”¨ç‰ˆæœ¬çš„èµ‹å€¼é‡è½½ä¾¿æ˜¯é’ˆå¯¹æ­¤ç°è±¡çš„ã€‚è¿™æ ·ä¾¿äºå†…å­˜ç®¡ç†ï¼Œå°†å³å€¼å’Œå·¦å€¼è¿›è¡Œåˆ†å¼€å¤„ç†ã€‚å³å€¼æ˜¯ä¸´æ—¶å˜é‡åªéœ€è¦ç”¨ä¸€ä¼šå„¿ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æŠŠå®ƒçš„å†…å­˜æ‹¿è¿‡æ¥ç»§ç»­ç”¨ï¼Œä¹Ÿä¸ä¼šå¯¹ç¨‹åºé€»è¾‘é€ æˆå½±å“ï¼Œè€Œå·¦å€¼åˆ™ä¸ä¸€æ ·ï¼Œå®ƒè¿˜éœ€è¦å­˜æ´»å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¦åˆ›ç©ºé—´è¿›è¡Œæ‹·è´ã€‚ ç‰¹åˆ«æé†’ï¼šå¦‚æœæ˜¯åšç®—æ³•é¢˜ï¼Œåˆ™å®Œå…¨ä¸ç”¨å»è€ƒè™‘å†…å­˜çš„ç®¡ç†ï¼Œææ„å‡½æ•°ä¹Ÿä¸è¦å»å†™ï¼Œæ¯•ç«Ÿåªéœ€è¦å•æ¬¡è°ƒç”¨ä½¿ç”¨ï¼Œå¯¹è±¡æœ€å¤šä¹Ÿå°±å­˜åœ¨ä¸€ä¼šå„¿ã€‚ åšé¢˜é™·é˜± åœ¨å¿…è¦çš„æ—¶å€™åƒä¸‡ä¸è¦èˆä¸å¾—å¼€long longï¼ï¼ï¼ï¼ è¿™é“é¢˜çš„æ•°æ®é‡æ— è®ºæ˜¯å¹‚çš„æ¬¡æ–¹è¿˜æ˜¯æ•´ä¸ªè®°å½•è¿‡ç¨‹çš„æ•°æ®éƒ½è¦å¼€long longï¼ï¼ï¼ æˆ‘è¢«è¿™ä¸ªé™·é˜±å‘äº†æ— æ•°å›äº†ï¼Œè¿™ä¸€æ¬¡ä¹Ÿä¸å¦å¤–ğŸ˜… å¼€å§‹å†™å®Œè¿™ç§ä¹‹åè¿‡äº†å‰5ä¸ªï¼Œç„¶ååé¢5ä¸ªæŠ¥é”™ï¼Œæˆ‘è¿˜ä»¥ä¸ºæˆ‘è®¾è®¡çš„è¿™ä¸ªç±»æœ‰é—®é¢˜ï¼Œè¿˜ç‰¹æ„å»å†™äº†å¥½å‡ ä¸ªæ™®é€šCè¯­è¨€ç‰ˆæœ¬ğŸ˜‚æœ€åå‘ç°åŸæ¥çš„æ²¡å¼€long longã€‚ä»¥ä¸‹ä¸ºæ›´æ”¹long longåçš„ä»£ç é€šè¿‡ç‰ˆæœ¬ï¼Œæˆ‘ç”¨å®å®šä¹‰å†™äº†å‡ ä¸ªç‰ˆæœ¬ã€‚ã€‚ã€‚ è¿™ä¸ªMatrixç±»çš„è®¾è®¡è¿˜æ˜¯å¾ˆå¤šåœ°æ–¹æ²¡æœ‰è€ƒè™‘åˆ°ä½ï¼Œæ¯”å¦‚ä¸Šä¸€ä¸ªé™·é˜±çš„é—®é¢˜åªæ˜¯é€šè¿‡æ–¹æ³•ä¸€å¾—åˆ°è§£å†³ï¼Œå¹¶æœªå»é‡è½½èµ‹å€¼æ“ä½œç¬¦ã€‚ã€‚ã€‚æ‰€ä»¥åé¢ç—›å®šæ€ç—›ï¼Œè®¾è®¡ä¸€ä¸ªè¾ƒä¸ºå¯ç”¨çš„Matrixç±»ï¼ æ•ˆç‡æ—¶å¿«æ—¶æ…¢çš„ï¼Œè¿™ä¸»è¦å–å†³äºç¼–è¯‘å™¨æ˜¯å¦è¿›è¡Œä¼˜åŒ–ã€‚ // // Created by Alone on 2021/11/19. // #include \u003cbits/stdc++.h\u003eusing namespace std; //#define ELSE_MAIN #define MY_MAIN #define MAT #ifdef MAT typedef long long ll; class Matrix{ ll** date; int m; int n; public: static const int MOD; public: Matrix(ll** rec,int n,int m):date(rec),n(n),m(m){}//Cé£æ ¼çš„åˆå§‹åŒ– Matrix():date(NULL),m(0),n(0){} //ç¼ºçœ Matrix(Matrix\u0026 b):n(b.n),m(b.m){//æ‹·è´æ„é€  assert(b.date!=NULL \u0026\u0026 b.n\u003e0 \u0026\u0026 b.m\u003e0); date = new ll*[n]; copy(b.date,b.date+n,date); for(int i=0;i\u003cn;i++){ date[i] = new ll[m]; copy(b.date[i],b.date[i]+m,date[i]); } } ~Matrix(){//ææ„å‡½æ•°å®ç° assert(date!=NULL \u0026\u0026 n\u003e0 \u0026\u0026 m\u003e0); for (int i = n-1; i \u003e=0 ; --i) { delete [] date[i]; } delete[] date; } Matrix\u0026 operator*(Matrix\u0026 b){ assert(b.date!=NULL \u0026\u0026 date!=NULL \u0026\u0026 m==b.n); ll tmp[n][b.m]; for(int i=0;i\u003cn;i++){ for(int j=0;j\u003cb.m;j++){ ll sum = 0; for(int k=0;k\u003cm;k++){ sum = (sum + date[i][k]*b.date[k][j])%MOD; } tmp[i][j] = sum; } } this-\u003em = b.m; for(int i=0;i\u003cn;i++){ for (int j = 0; j \u003c m; ++j) { date[i][j] = tmp[i][j]; } } return *this; } void init(){//é‡æ–°åˆå§‹åŒ–ä¸ºå•ä½çŸ©é˜µ assert(date!=NULL \u0026\u0026 n\u003e0 \u0026\u0026 m\u003e0); for (int i = 0; i \u003c n; ++i) { for (int j = 0; j \u003c m; ++j) { if(i==j)date[i][j] = 1; else date[i][j] = 0; } } } void quickPow(ll c){ if(c==1||c\u003c0)return; if(c==0){ init(); return; } Matrix tmp(*this); init(); while (c){ if(c\u00261){ *this = *this * tmp; } c \u003e\u003e= 1; tmp = tmp*tmp; } } void print(){ for(int i=0;i\u003cn;i++){ for(int j=0;j\u003cm;j++){ cout\u003c\u003cdate[i][j]\u003c\u003c' '; } cout\u003c\u003cendl; } } int get(int x,int y){ assert(date!=NULL \u0026\u0026 x\u003cn \u0026\u0026 y\u003cm); return date[x][y]; } }; const int Matrix::MOD = 1e9+7; #endif #ifdef MY_MAIN int main(){ ll c; cin\u003e\u003ec; ll** matrix = new ll*[2]; matrix[0] = new ll[2]{1,1}; matrix[1] = new ll[2]{1,0}; Matrix mat(matrix,2,2); mat.quickPow(c-1); //mat.print(); ll** res = new ll*[2]; res[0] = new ll[1]; res[1] = new ll[1]; res[0][0] = res[1][0] = 1; Matrix fib(res,2,1); //è¿™é‡Œæœ‰ä¸ªå†…å­˜åˆ†é…é”™è¯¯ï¼Œmat*fibè¿”å›çš„æ˜¯å·¦å€¼ï¼Œè€Œ=æ²¡æœ‰é‡è½½é»˜è®¤ç›´æ¥èµ‹å€¼æˆå‘˜å˜é‡ã€‚ //ç›´æ¥å¯¼è‡´äº†fibå¤±å»äº†ä¹‹å‰çš„å˜é‡æ‰€æœ‰æƒï¼Œå’Œmatå…±åŒæœ‰ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œè¿™æ ·å¯¼è‡´åŒä¸€ç‰‡ç©ºé—´è¢«freeä¸¤æ¬¡ //é€šè¿‡é‡è½½ = å·è§£å†³ï¼Œé˜²æ­¢ç›´æ¥çš„å†…å­˜æ²¡æœ‰è¢«é‡Šæ”¾å°±é‡æ–°ç»‘å®šåŒä¸€ç‰‡å†…å­˜ Matrix ret(mat*fib); cout\u003c\u003cret.get(0,0); return 0; } #endif #ifdef TEST_MAIN typedef long long ll ; const int MOD = 1e9+7; ll a[2][2]{{1,1},{1,0}};ll b[2]{1,1}; void selfMut(){ ll tmp[2][2]; for(int i=0;i\u003c2;i","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:2:2","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"æ•™ä½ è®¾è®¡Matrixç±» ","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:3:0","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"å¦‚ä½•è®¾è®¡ä¸€ä¸ªç±»ï¼Ÿ ç»“æ„ï¼š å†…éƒ¨æ•°æ®æŠ½è±¡ï¼šå¯¹è±¡çš„è¿ç®—æ•°æ®å­˜å‚¨ ç”¨äºŒçº§æŒ‡é’ˆ date è¿›è¡ŒçŸ©é˜µçš„äºŒç»´ç©ºé—´çš„å†…å­˜ç®¡ç†ï¼Œä»¥åŠnå’Œmè¡¨ç¤ºçŸ©é˜µçš„è¡Œé«˜å’Œåˆ—å®½ã€‚ è¡Œä¸ºæŠ½è±¡ï¼šå¯¹å¯¹è±¡çš„è¡Œä¸ºæè¿° æ„é€ å‡½æ•°ï¼ˆç¼ºçœã€è‡ªå®šä¹‰ã€æ‹·è´ã€ç§»åŠ¨ï¼‰ å’Œ ææ„å‡½æ•°ï¼ˆè°ƒç”¨destoryæˆå‘˜å‡½æ•°ï¼‰ã€‚ setter å’Œ getterã€‚æä¾›å‡½æ•°æ¥å£å»è®¾ç½®å’Œå¾—åˆ°æ•°æ®ã€‚ åŠŸèƒ½å‡½æ•°ï¼šæ¯”å¦‚é‡è½½çš„ä¹˜æ³•è¿ç®—ç¬¦å’Œå¿«é€Ÿå¹‚å‡½æ•°è¿™äº›éƒ½ç®—åŠŸèƒ½å‡½æ•°ã€‚ å¯¹è±¡çš„å±æ€§æŠ½è±¡ï¼š æ•°æ®å’Œè¡Œä¸ºæ˜¯å¦å¯¹å¤–ï¼Œå¯¹å¤–å°è£…æ•°æ®çš„æ„ä¹‰åœ¨äºé˜²æ­¢å¯¹å¯¹è±¡è¡Œä¸ºæè¿°çš„ç ´åï¼Œè€Œå¯¹å¤–å¼€æ”¾çš„æŸä¸ªè¡Œä¸ºé€šå¸¸éœ€è¦å†…éƒ¨å¤šä¸ªå‡½æ•°è¿›è¡Œé‡å¤è°ƒç”¨æ¥å®ç°ã€‚è¿™ä¸ªæ—¶å€™éœ€è¦ç”¨åˆ° public å’Œ private å…³é”®å­—è¿›è¡Œä¿®é¥°ã€‚ æ•°æ®å’Œè¡Œä¸ºæ˜¯å¦å¯ç»§æ‰¿ï¼Œå¯¹äºæŸäº›è¡Œä¸ºï¼ˆå‡½æ•°ï¼‰ï¼Œæˆ‘ä»¬ä¸æƒ³è¢«å¤–éƒ¨è°ƒç”¨ï¼Œä½†æ˜¯å¯¹å­ç±»åˆå¾ˆæœ‰ç”¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é‡‡å– protect å…³é”®å­—è¿›è¡Œä¿®é¥°ã€‚ æ•°æ®å’Œè¡Œä¸ºæ˜¯å¦èƒ½é‡å¤åˆ©ç”¨ï¼Œä¸ºäº†èŠ‚çœä¸å¿…è¦çš„å†…å­˜å¼€é”€ï¼Œå¯ä»¥è®¾è®¡ä¸éœ€è¦äº§ç”Ÿå…·ä½“å¯¹è±¡çš„é€šç”¨å‹å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ static å…³é”®å­—è¿›è¡Œä¿®é¥°ï¼Œè¿™æ ·å¯ä»¥é¿å…æˆ‘æƒ³ä½¿ç”¨æŸä¸ªå‡½æ•°å‰è¿˜å¾—å»ç”³è¯·ä¸€ç‰‡æ¯«ä¸ç›¸å…³çš„å†…å­˜ç©ºé—´ï¼Œè€Œå¯¹äºæŸä¸ªå¯¹è±¡çš„æ•°æ®ä¹Ÿå¯ä»¥é‡‡ç”¨ static è¿›è¡Œä¿®é¥°ï¼Œè¿™æ ·ä¸€æ¥ï¼Œè¿™ä¸ªæ•°æ®åœ¨å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ä¸­å°±ä¸éœ€è¦å†è¿›è¡Œç”³è¯·å’Œèµ‹å€¼äº†ã€‚ é‚£ä¹ˆæ¥ä¸‹æ¥å°±æ¥ç¡®å®šè¡Œä¸ºï¼ˆå‡½æ•°ï¼‰çš„å±æ€§äº†ï¼Œæ•°æ®è‚¯å®šæ˜¯ä¸å¯¹å¤–å¼€æ”¾çš„ï¼ˆprivateï¼‰ï¼Œå¦åˆ™é¢å‘å¯¹è±¡å°†æ¯«æ— æ„ä¹‰ã€‚ æ„é€ å‡½æ•° å’Œ ææ„å‡½æ•°ï¼Œè¿™ä¸¤ä¸ªæ˜¯å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯çš„å…³é”®ï¼Œæ‰€ä»¥å¦‚æœä¸æ˜¯å¸Œæœ›å¯¹è±¡ä¸è¢«åˆ›å»ºæˆ–è€…æ˜¯ä¸è¢«é”€æ¯ï¼Œéƒ½åº”è¯¥ä½¿ç”¨ public ä¿®é¥°ã€‚ setter å’Œ getterã€‚å¾ˆæ˜æ˜¾æ˜¯å¯¹å¤–å¼€æ”¾çš„æ¥å£å‡½æ•°ï¼Œæ‰€ä»¥è‚¯å®šä¹Ÿæ˜¯ public ä¿®é¥°ã€‚ åŠŸèƒ½å‡½æ•°ï¼šçŸ©é˜µå¿«é€Ÿå¹‚çš„å‡½æ•°ï¼Œå¾ˆæ˜æ˜¾æˆ‘ä»¬å¸Œæœ›è®¾ç½®ä¸€ä¸ªå¯¹å¤–é€šç”¨çš„æƒ…å†µï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±åº”è¯¥ä¸éœ€è¦åˆ›å»ºå¯¹è±¡ä¾¿å¯è¿›è¡Œè°ƒç”¨ï¼Œæ‰€ä»¥æœ€å¥½ç”¨ static è¿›è¡Œä¿®é¥°ï¼ˆè¿™ä¸ªä¸€èˆ¬ä¸ºå¤–éƒ¨é€šç”¨æ¥å£ï¼Œå†…éƒ¨è¿˜éœ€å®ç°ä¸€ä¸ªæ–¹ä¾¿ç±»è°ƒç”¨çš„ç‰ˆæœ¬ï¼Œè¿™ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥ä¼ å‚è°ƒç”¨è¯¥å‡½æ•°å³å¯ï¼‰ï¼Œé‡è½½çš„ä¹˜æ³•è‚¯å®šä¹Ÿæ˜¯å¯¹å¤–çš„æ‰€ä»¥éœ€è¦ public ä¿®é¥°ï¼Œdestroy å‡½æ•°ç”¨äºå¤„ç†å†…å­˜çš„å›æ”¶ï¼Œå¾ˆæ˜æ˜¾è¿™æ˜¯ä¸€ä¸ªå†…éƒ¨é€šç”¨çš„å‡½æ•°ï¼Œä½†æ˜¯å¤–ç•Œå®Œå…¨æ˜¯ä¸éœ€è¦å®ƒçš„ï¼æ‰€ä»¥æŠŠå®ƒè®¾ç½®ä¸º private å±æ€§å³å¯ã€‚ ä»¥ä¸Šä¾¿æ˜¯å¯¹æ•´ä¸ªç±»çš„è®¾è®¡æ€è·¯ï¼Œå½“ç„¶çœŸæ­£åŠ¨æ‰‹è®¾è®¡çš„æ—¶å€™ï¼Œè¿˜éœ€è¦å…·ä½“åˆ°å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹ï¼Œå› ä¸ºè¿™ç‰µæ‰¯åˆ° C++ çš„å…·ä½“è¯­æ³•äº†ï¼Œæ¯”å¦‚æˆ‘åº”è¯¥åœ¨é‡è½½ä¹˜æ³•çš„æ—¶å€™è¿”å›ä¸€ä¸ªä»€ä¹ˆæ ·çš„ç±»å‹ï¼Ÿæœ€å¥½æ˜¯è¿”å›ä¸€ä¸ªå³å€¼ï¼è€Œé‡è½½èµ‹å€¼è¿ç®—ç¬¦åˆ™æœ€å¥½æ˜¯è¿”å›ä¸€ä¸ªå·¦å€¼ã€‚ä¸€èˆ¬éœ€è¦è€ƒè™‘è¿”å›å€¼ç±»å‹çš„å–èˆæ—¶ï¼Œæœ€éš¾çš„å°±æ˜¯å¦‚æœè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘è¯¥è¿”å›å·¦å€¼è¿˜æ˜¯å³å€¼ã€‚ å†™äº†è¿™ä¹ˆä¹…C++ï¼Œæˆ‘æ„Ÿè§‰ç”¨C++å†™çš„Javaå±è”½é‡è½½è¿ç®—ç¬¦çš„ç‰¹æ€§ä¸»è¦å°±æ˜¯é‡è½½è¿ç®—ç¬¦æ—¶éœ€è¦è€ƒè™‘çš„è¿‡ç¨‹å¤ªå¤šäº†ï¼ŒC++èœé¸¡ï¼ˆæˆ‘å°±æ˜¯è¿™ä¸ªèœé¸ŸğŸ˜‚ï¼‰å†™å‡ºåŠå…¶ä½æ•ˆä¸”ä¸å®‰å…¨çš„ä»£ç ï¼Œè€Œåªæœ‰è€é¸Ÿæ‰èƒ½å†™å‡ºä¼˜é›…é«˜æ•ˆçš„ä»£ç ã€‚ ","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:3:1","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"ç±»çš„å…·ä½“æŠ½è±¡ç»“æ„ï¼ˆä»£ç çš„å…·ä½“è§„åˆ’å›¾ï¼‰ æŒ‰ç…§å±æ€§å¯¹ç±»çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œåˆ†ç±»çš„ï¼Œæ¯•ç«Ÿå±æ€§ä¹ŸåŸºæœ¬å°±ä»£è¡¨äº†è¿™ä¸ªæ–¹æ³•çš„ä½¿ç”¨åœºæ™¯äº†ã€‚ æœ€åå¯ä»¥åˆ©ç”¨åŸºæœ¬çš„æ–­è¨€æˆ–è€…å¼‚å¸¸ï¼Œè®©ä»£ç å˜å¾—æ›´ä¸ºå¥å£®ï¼Œä½¿å¾—æ›´å®¹æ˜“å®šä½é”™è¯¯å‘ç”Ÿçš„ä½ç½®å’ŒåŸå› ã€‚ ","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:3:2","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"å®ç°çŸ©é˜µæ³›å‹æ¨¡æ¿ç±» æºä»£ç å®ç° æˆ‘å…ˆæ˜¯ç”»å‡ºè§„åˆ’å›¾è¿›è¡Œå®ç°ï¼Œç„¶ååœ¨å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å¯ä»¥æ–°å¢ä¸€äº›ç‰¹æ€§ï¼Œæ¯”å¦‚é‡è½½ä¸‹æ ‡è¿ç®—ç¬¦ï¼Œæ¯”å¦‚ç”¨printå‡½æ•°æ‰“å°å‡ºæ¥æ–¹ä¾¿éªŒè¯ã€‚ å…·ä½“å®ç°è¿‡ç¨‹ï¼Œä¸ºäº†æ–¹ä¾¿ç®€å•çš„å®šä½å¯èƒ½å‘ç”Ÿçš„é”™è¯¯ï¼Œä½¿ç”¨äº†å¤§é‡çš„assertè¿›è¡Œæ–­è¨€æ£€æŸ¥ã€‚å¦‚æœæƒ³ä»£ç çš„å¥å£®æ€§æ›´å¼ºï¼Œå¯ä»¥ä½¿ç”¨æŠ›å‡ºå¼‚å¸¸çš„æ–¹å¼ã€‚ æºä»£ç å¯¹åº”çš„GitHubä»“åº“åœ°å€ï¼šä»“åº“é“¾æ¥ï¼Œè¿˜æœ‰æ›´å¤šæ¨¡æ¿çš„å®ç°ï¼ŒåŒ…æ‹¬å°‘é‡STL æ›´å¥½çš„æºç é˜…è¯»ä½“éªŒï¼šæºç åœ¨çº¿é˜…è¯» ç›´æ¥é˜…è¯»ä¸‹é¢çš„ä»£ç æœ‰ç‚¹ä¸å¤ªå¥½æŸ¥çœ‹ï¼Œæ¨èå»ä¸Šé¢çš„GitHub1sé‡Œé¢æŸ¥çœ‹æºç ã€‚ // // Created by L_B__ on 2021/11/20. // #ifndef LQTEST_MATRIX_H #define LQTEST_MATRIX_H #include \u003ccassert\u003e#include \u003calgorithm\u003e#include \u003ciostream\u003e #define _MOD template\u003ctypename T\u003e class Matrix { /*Type define*/ typedef T data_t; typedef int ssize_t; /*data source*/ data_t **data; ssize_t n; ssize_t m; public: static const data_t MOD; public: /*default construct*/ Matrix() : m(0), n(0), data(nullptr) {} /*custom construct*/ Matrix(data_t **mat, ssize_t n, ssize_t m) : data(mat), n(n), m(m) {}//å¤–éƒ¨ç”³è¯·å†…å­˜ä¼ å…¥å†…éƒ¨ Matrix(ssize_t n, ssize_t m) : data(nullptr), n(n), m(m) {//å¤–éƒ¨æŒ‡å®šçŸ©é˜µçš„è¡Œå’Œåˆ—å³å¯ï¼Œå†…å­˜åˆå§‹åŒ–åœ¨å†…éƒ¨è¿›è¡Œ assert(n \u003e 0 \u0026\u0026 m \u003e 0); data = new data_t *[n]; for (int i = 0; i \u003c n; i++) { data[i] = new data_t[m]; } init(data, n, m); } /*copy construct*/ Matrix(Matrix \u0026src) : data(nullptr), n(src.n), m(src.m)//ä¹Ÿå¯ç”¨const \u0026å¼•ç”¨ç±»å‹ï¼Œä½†è¿™æ ·å¾ˆå¤šå³å€¼çš„æƒ…å†µéƒ½ä¸ä¼šè°ƒç”¨ç§»åŠ¨æ„é€ äº† { assert(n \u003e 0 \u0026\u0026 m \u003e 0); data = new data_t *[n]; for (int i = 0; i \u003c n; ++i) { data[i] = new data_t[m]; std::copy(src.data[i], src.data[i] + m, data[i]); } } /*move construct*/ Matrix(Matrix\u003cdata_t\u003e \u0026\u0026src) : n(src.n), m(src.m), data(nullptr) { assert(src.data != nullptr \u0026\u0026 n \u003e 0 \u0026\u0026 m \u003e 0); data = src.data; src.data = nullptr; src.n = src.m = 0; } /*destruct*/ ~Matrix() { destroy(); } /*overload*/ //åŠ ä¸ŠMODçš„ç‰¹æ®Šç‰ˆæœ¬ #ifdef _MOD Matrix operator*(const Matrix\u003cdata_t\u003e \u0026src)//å»ºè®®è¿”å›å³å€¼ï¼Œè¿”å›å·¦å€¼çš„åç»­å‘æ¯”è¾ƒå¤šï¼Œå‚æ•°const \u0026æ—¢å¯ä»¥æ¥å—å·¦å€¼ä¹Ÿå¯æ¥å—å³å€¼ { assert(data != nullptr \u0026\u0026 src.data != nullptr \u0026\u0026 m == src.n \u0026\u0026 m \u003e 0 \u0026\u0026 n \u003e 0 \u0026\u0026 src.m \u003e 0);//è¿›è¡ŒçŸ©é˜µä¹˜æ³•çš„å¿…è¦æ¡ä»¶ data_t **tmp = new data_t *[n]; //ä¸ºtmpç”³è¯·åŠ¨æ€å†…å­˜ï¼Œå› ä¸ºæ˜¯ä¼ å‡ºå‚æ•° for (int i = 0; i \u003c n; ++i) { tmp[i] = new data_t[m]; } for (int i = 0; i \u003c n; ++i)//å¼€å§‹æ›´æ–°tmp { for (int j = 0; j \u003c src.m; ++j) { data_t sum = 0; for (int k = 0; k \u003c m; ++k) { sum = (sum + data[i][k] * src.data[k][j]) % MOD; } tmp[i][j] = sum; } } //ç›´æ¥æ„é€ åŒ¿åå¯¹è±¡è¿”å› return Matrix(tmp, n, src.m);; } Matrix \u0026operator*=(const Matrix\u003cdata_t\u003e \u0026src)//*= æƒ³ä¸€æƒ³æˆ‘ä»¬å¹³æ—¶çš„ä½¿ç”¨ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªå·¦å€¼ { assert(data != nullptr \u0026\u0026 src.data != nullptr \u0026\u0026 m == src.n \u0026\u0026 m \u003e 0 \u0026\u0026 n \u003e 0 \u0026\u0026 src.m \u003e 0);//è¿›è¡ŒçŸ©é˜µä¹˜æ³•çš„å¿…è¦æ¡ä»¶ data_t tmp[n][src.m];//é™æ€å†…å­˜å°±è¡Œï¼Œæ¯•ç«Ÿåªæ˜¯ä¸´æ—¶å­˜æ•°æ®çš„ for (int i = 0; i \u003c n; ++i)//å¼€å§‹æ›´æ–°tmp { for (int j = 0; j \u003c src.m; ++j) { data_t sum = 0; for (int k = 0; k \u003c m; ++k) { sum = (sum + data[i][k] * src.data[k][j]) % MOD; } tmp[i][j] = sum; } } //ç”±äºæ­¤æ—¶çš„dateå†…å­˜å¯èƒ½ä¸å¤Ÿå®¹ä¸‹tmpæ•°æ®ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦é‡æ–°è¿›è¡Œå†…å­˜ç”³è¯· //æ³¨æ„é‡æ–°ç”³è¯·åˆ—å†…å­˜çš„æ—¶å€™ï¼Œéœ€è¦æŠŠä¹‹å‰çš„å†…å­˜é‡Šæ”¾ if (m != src.m) { for (int i = 0; i \u003c n; ++i) { delete[]data[i]; data[i] = nullptr; data[i] = new data_t[src.m]; } } for (int i = 0; i \u003c n; ++i) { assert(data[i] != nullptr); std::copy(tmp[i], tmp[i] + src.m, data[i]); } return *this; } #endif #ifndef _MOD Matrix operator*(const Matrix\u003cdata_t\u003e\u0026src)//å»ºè®®è¿”å›å³å€¼ï¼Œè¿”å›å·¦å€¼çš„åç»­å‘æ¯”è¾ƒå¤šï¼Œå‚æ•°const \u0026æ—¢å¯ä»¥æ¥å—å·¦å€¼ä¹Ÿå¯æ¥å—å³å€¼ { assert(data!= nullptr\u0026\u0026src.data!= nullptr\u0026\u0026m==src.n\u0026\u0026m\u003e0\u0026\u0026n\u003e0\u0026\u0026src.m\u003e0);//è¿›è¡ŒçŸ©é˜µä¹˜æ³•çš„å¿…è¦æ¡ä»¶ data_t** tmp = new data_t *[n]; //ä¸ºtmpç”³è¯·åŠ¨æ€å†…å­˜ï¼Œå› ä¸ºæ˜¯ä¼ å‡ºå‚æ•° for (int i = 0; i \u003c n; ++i) { tmp[i] = new data_t [m]; } for(int i=0;i\u003cn;++i)//å¼€å§‹æ›´æ–°tmp { for (int j = 0; j \u003c src.m; ++j) { data_t sum = 0; for (int k = 0; k \u003c m; ++k) { sum = sum + data[i][k]*src.data[k][j]; } tmp[i][j] = sum; } } //ç›´æ¥æ„é€ åŒ¿åå¯¹è±¡è¿”å› return Matrix (tmp,n,src.m); } /*ä¸ä¹˜æ³•çš„å”¯ä¸€åŒºåˆ«åœ¨äºä¹˜æ³•æ˜¯æ„é€ ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œ*=è¿”å›çš„æ˜¯this*/ Matrix \u0026operator*=(const Matrix\u003cdata_t\u003e \u0026src)//*= æƒ³ä¸€æƒ³æˆ‘ä»¬å¹³æ—¶çš„ä½¿ç”¨ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªå·¦å€¼ { assert(data!= nullptr\u0026\u0026src.data!= nullptr\u0026\u0026m==src.n\u0026\u0026m\u003e0\u0026\u0026n\u003e0\u0026\u0026src.m\u003e0);//è¿›è¡ŒçŸ©é˜µä¹˜æ³•çš„å¿…è¦æ¡ä»¶ data_t tmp[n][src.m];//é™æ€å†…å­˜å°±è¡Œï¼Œæ¯•ç«Ÿåªæ˜¯ä¸´æ—¶å­˜æ•°æ®çš„ for(int i=0;i\u003cn;++i)//å¼€å§‹æ›´æ–°tmp { for (int j = 0; j \u003c src.m; ++j) { data_t sum = 0; for (int k = 0; k \u003c m; ++k) { sum = sum + data[i][k]*src.data[k][j]; } tmp[i][j] = sum; } } //ç”±äºæ­¤æ—¶çš„dateå†…å­˜å¯èƒ½ä¸å¤Ÿå®¹ä¸‹tmpæ•°æ®ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦é‡æ–°è¿›è¡Œå†…å­˜ç”³è¯· //æ³¨æ„é‡æ–°ç”³è¯·åˆ—å†…å­˜çš„æ—¶å€™ï¼Œéœ€è¦æŠŠä¹‹å‰çš„å†…å­˜é‡Šæ”¾ if(m!=src.m){ for (int i = 0; i \u003c n; ++i) { delete []data[i]; data[i] = nullptr; data[i] = new data_t [src.m]; } } for (int i = 0; i \u003c n; ++i) { assert(data[i] != nullptr); std::copy(tmp[i],tmp[i]+src.m,data[i]); } return *this; } #endif //èµ‹å€¼å·çš„é‡è½½","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:3:3","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"},{"categories":["C++å®æˆ˜"],"content":"æ€»ç»“ ç”±äºç”¨çš„æ˜¯ C++11 çš„è¯­æ³•è¿›è¡Œå®ç°çš„æ¨¡æ¿ç±»ï¼Œæ‰€ä»¥ä½äºè¿™ä¸ªç‰ˆæœ¬çš„ç¼–è¯‘å™¨éƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚æˆ‘æŸ¥é˜…äº†ç›¸å…³èµ„æ–™ï¼Œå®é™…ä¸Šè“æ¡¥æ¯æ¯”èµ›çš„æ—¶å€™å¯ä»¥ç”¨ C++11ï¼Œè€Œacmæ›´æ˜¯ä¸ç”¨è¯´ï¼Œæ—©å°±èƒ½ç”¨C++11äº†ã€‚ ç®€å•å¤ç›˜ï¼š å®ç°ä¸€ä¸ªè¿™æ ·çš„ç±»ï¼Œä¸»è¦èƒ½å­¦åˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š ç±»çš„è®¾è®¡æŠ€å·§ã€‚ å¯¹C++çš„å·¦å³å€¼æœ‰äº†æ›´æ·±å…¥çš„ç†è§£ã€‚ å„ç§æ„é€ å™¨çš„è®¾è®¡å’Œå®ç°å·²ç»è¾¾åˆ°ç‚‰ç«çº¯é’çš„åœ°æ­¥äº†ã€‚ ","date":"2022-01-20","objectID":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/:4:0","tags":["çŸ©é˜µå¿«é€Ÿå¹‚"],"title":"çŸ©é˜µå¿«é€Ÿå¹‚çš„C++å°è£…","uri":"/posts/%E7%9F%A9%E9%98%B5%E5%BF%AB%E9%80%9F%E5%B9%82%E7%9A%84c++%E5%B0%81%E8%A3%85/"}]